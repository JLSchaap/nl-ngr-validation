{"failedCount":0,"prefixedPath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","packageQualifiedName":"src.test.java.InspireTest.ngr.T02_Services","loopIndex":-1,"relativePath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":182701,"millis":0.182701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.756 karate.env system property was: null \n"},{"result":{"nanos":165401,"millis":0.165401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":250303,"millis":0.250303,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":283603,"millis":0.283603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":610405,"millis":0.610405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":255602,"millis":0.255602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":909109,"millis":0.909109,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":171502,"millis":0.171502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":11458809,"millis":11.458809,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":93601,"millis":0.093601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81101,"millis":0.081101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":54901,"millis":0.054901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":73601,"millis":0.073601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870438458,"millis":870.438458,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1424214,"millis":1.424214,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":861308,"millis":0.861308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":943209,"millis":0.943209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":900409,"millis":0.900409,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1272312,"millis":1.272312,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1146111,"millis":1.146111,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":238803,"millis":0.238803,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1167311,"millis":1.167311,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":828808,"millis":0.828808,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":953009,"millis":0.953009,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":603506,"millis":0.603506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":429204,"millis":0.429204,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.654 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":1021509,"millis":1.021509,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":344104,"millis":0.344104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.655 [print] OGC:WFS \n"},{"result":{"nanos":871208,"millis":0.871208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":402804,"millis":0.402804,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.656 [print] INSPIRE Atom \n"},{"result":{"nanos":169602,"millis":0.169602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":342903,"millis":0.342903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.657 [print] OGC:WFS \n"},{"result":{"nanos":1272512,"millis":1.272512,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":464004,"millis":0.464004,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.659 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":344503,"millis":0.344503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.659 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":1118910,"millis":1.11891,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":21675106,"millis":21.675106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3137330,"millis":3.13733,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":927.165896,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f59357eb-185f-42a5-b465-90bfa6e3e416","startTime":1639198810733,"refId":"[1.1:67]","endTime":1639198811685,"exampleData":{"datasetIdentifierCode":"f59357eb-185f-42a5-b465-90bfa6e3e416"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":178102,"millis":0.178102,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.762 karate.env system property was: null \n"},{"result":{"nanos":114001,"millis":0.114001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":178401,"millis":0.178401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":216602,"millis":0.216602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":472504,"millis":0.472504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":230803,"millis":0.230803,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":717306,"millis":0.717306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":159601,"millis":0.159601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":180802,"millis":0.180802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":97401,"millis":0.097401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":65001,"millis":0.065001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":52101,"millis":0.052101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49201,"millis":0.049201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":939770416,"millis":939.770416,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1149411,"millis":1.149411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":1013610,"millis":1.01361,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":932909,"millis":0.932909,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":743507,"millis":0.743507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1163211,"millis":1.163211,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":921509,"millis":0.921509,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":169902,"millis":0.169902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":836508,"millis":0.836508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":3125830,"millis":3.12583,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1027210,"millis":1.02721,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":211002,"millis":0.211002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":427604,"millis":0.427604,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.718 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":960010,"millis":0.96001,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":406404,"millis":0.406404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.719 [print] OGC:WMS \n"},{"result":{"nanos":2301022,"millis":2.301022,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":290302,"millis":0.290302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.722 [print] #notpresent \n"},{"result":{"nanos":277302,"millis":0.277302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":271102,"millis":0.271102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.723 [print] OGC:WMS \n"},{"result":{"nanos":1136811,"millis":1.136811,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":296303,"millis":0.296303,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.724 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":239703,"millis":0.239703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.725 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":943209,"millis":0.943209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1298112,"millis":1.298112,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":724007,"millis":0.724007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":963.510742,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","startTime":1639198810744,"refId":"[1.2:67]","endTime":1639198811728,"exampleData":{"datasetIdentifierCode":"f2d2cd9d-7410-485a-95e0-c1b885243eaf"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":133302,"millis":0.133302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.763 karate.env system property was: null \n"},{"result":{"nanos":91301,"millis":0.091301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":193502,"millis":0.193502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":212502,"millis":0.212502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":478405,"millis":0.478405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":275903,"millis":0.275903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":630406,"millis":0.630406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":155401,"millis":0.155401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":202602,"millis":0.202602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":69301,"millis":0.069301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":67201,"millis":0.067201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":43601,"millis":0.043601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":905087687,"millis":905.087687,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1101910,"millis":1.10191,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":967509,"millis":0.967509,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1023910,"millis":1.02391,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":760907,"millis":0.760907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":979810,"millis":0.97981,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":945109,"millis":0.945109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":224902,"millis":0.224902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":5004948,"millis":5.004948,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":992109,"millis":0.992109,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":839708,"millis":0.839708,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":2637125,"millis":2.637125,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":861108,"millis":0.861108,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.688 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n"},{"result":{"nanos":915809,"millis":0.915809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":2373422,"millis":2.373422,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.691 [print] #notpresent \n"},{"result":{"nanos":2136120,"millis":2.13612,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":432204,"millis":0.432204,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.694 [print] OGC:WMS \n"},{"result":{"nanos":215602,"millis":0.215602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1477214,"millis":1.477214,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.696 [print] #notpresent \n"},{"result":{"nanos":923709,"millis":0.923709,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1853117,"millis":1.853117,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.699 [print] Informatiehuis Water \n"},{"result":{"nanos":393903,"millis":0.393903,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.699 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":777608,"millis":0.777608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1301312,"millis":1.301312,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":812608,"millis":0.812608,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":937.821397,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"539ec652-482d-4806-a830-0458cf8be477","startTime":1639198810754,"refId":"[1.3:67]","endTime":1639198811702,"exampleData":{"datasetIdentifierCode":"539ec652-482d-4806-a830-0458cf8be477"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":145201,"millis":0.145201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:10.767 karate.env system property was: null \n"},{"result":{"nanos":97901,"millis":0.097901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":172901,"millis":0.172901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":202102,"millis":0.202102,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":433804,"millis":0.433804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":204702,"millis":0.204702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":912309,"millis":0.912309,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":193602,"millis":0.193602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":8313879,"millis":8.313879,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":142101,"millis":0.142101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":94900,"millis":0.0949,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":91000,"millis":0.091,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64401,"millis":0.064401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":45801,"millis":0.045801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":964295148,"millis":964.295148,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":988210,"millis":0.98821,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":798408,"millis":0.798408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":882308,"millis":0.882308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":815908,"millis":0.815908,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":977609,"millis":0.977609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":904708,"millis":0.904708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":160101,"millis":0.160101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":870108,"millis":0.870108,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1050710,"millis":1.05071,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1154811,"millis":1.154811,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":476304,"millis":0.476304,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":446304,"millis":0.446304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:11.753 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":903709,"millis":0.903709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":370803,"millis":0.370803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:11.755 [print] #notpresent \n"},{"result":{"nanos":923909,"millis":0.923909,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":467605,"millis":0.467605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:11.756 [print] OGC:WMS \n"},{"result":{"nanos":179602,"millis":0.179602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":381103,"millis":0.381103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:11.757 [print] #notpresent \n"},{"result":{"nanos":849808,"millis":0.849808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":392803,"millis":0.392803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:11.758 [print] RIVM \n"},{"result":{"nanos":407303,"millis":0.407303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:11.758 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":814507,"millis":0.814507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":914708,"millis":0.914708,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":909509,"millis":0.909509,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":992.55201,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","startTime":1639198810761,"refId":"[1.4:67]","endTime":1639198811761,"exampleData":{"datasetIdentifierCode":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf"},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28701,"millis":0.028701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.692 karate.env system property was: null \n"},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112701,"millis":0.112701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1793717,"millis":1.793717,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114701,"millis":0.114701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":551406,"millis":0.551406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1288713,"millis":1.288713,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11401,"millis":0.011401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":920918037,"millis":920.918037,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":772608,"millis":0.772608,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":885808,"millis":0.885808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":785008,"millis":0.785008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2819827,"millis":2.819827,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":969409,"millis":0.969409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":959209,"millis":0.959209,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56401,"millis":0.056401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":854908,"millis":0.854908,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":15873651,"millis":15.873651,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":889408,"millis":0.889408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":403103,"millis":0.403103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":342403,"millis":0.342403,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.644 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n"},{"result":{"nanos":819108,"millis":0.819108,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":309203,"millis":0.309203,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.645 [print] OGC:WMS \n"},{"result":{"nanos":822508,"millis":0.822508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":437704,"millis":0.437704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.647 [print] #notpresent \n"},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":283003,"millis":0.283003,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.647 [print] OGC:WMS \n"},{"result":{"nanos":1678216,"millis":1.678216,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":375204,"millis":0.375204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.649 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":368504,"millis":0.368504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.649 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":886708,"millis":0.886708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1705516,"millis":1.705516,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":18064771,"millis":18.064771,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":976.686868,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","startTime":1639198811691,"refId":"[1.5:67]","endTime":1639198812670,"exampleData":{"datasetIdentifierCode":"22bedc12-e9cb-4419-8e51-dfb375d46d01"},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.711 karate.env system property was: null \n"},{"result":{"nanos":62901,"millis":0.062901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":95801,"millis":0.095801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97601,"millis":0.097601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":352103,"millis":0.352103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":85501,"millis":0.085501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427504,"millis":0.427504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":192802,"millis":0.192802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64301,"millis":0.064301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865742613,"millis":865.742613,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1259112,"millis":1.259112,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":859708,"millis":0.859708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":676607,"millis":0.676607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":860208,"millis":0.860208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1014910,"millis":1.01491,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":967709,"millis":0.967709,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":696907,"millis":0.696907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":897209,"millis":0.897209,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":789208,"millis":0.789208,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":234002,"millis":0.234002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":960609,"millis":0.960609,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.588 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":824108,"millis":0.824108,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":213902,"millis":0.213902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.590 [print] #notpresent \n"},{"result":{"nanos":1246012,"millis":1.246012,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":146301,"millis":0.146301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.592 [print] OGC:WMS \n"},{"result":{"nanos":533705,"millis":0.533705,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147601,"millis":0.147601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.592 [print] #notpresent \n"},{"result":{"nanos":1273712,"millis":1.273712,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":192901,"millis":0.192901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.594 [print] RIVM \n"},{"result":{"nanos":162201,"millis":0.162201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.594 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":1437913,"millis":1.437913,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":971410,"millis":0.97141,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":716207,"millis":0.716207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.45489,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"95e2c712-1b91-4f24-9453-c56b95227717","startTime":1639198811708,"refId":"[1.6:67]","endTime":1639198812598,"exampleData":{"datasetIdentifierCode":"95e2c712-1b91-4f24-9453-c56b95227717"},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.730 karate.env system property was: null \n"},{"result":{"nanos":83601,"millis":0.083601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121001,"millis":0.121001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118901,"millis":0.118901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":413104,"millis":0.413104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69301,"millis":0.069301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457504,"millis":0.457504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":222602,"millis":0.222602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9001,"millis":0.009001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66900,"millis":0.0669,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":898356622,"millis":898.356622,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":11604010,"millis":11.60401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":722507,"millis":0.722507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1510115,"millis":1.510115,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1060410,"millis":1.06041,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1404113,"millis":1.404113,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":743007,"millis":0.743007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2525724,"millis":2.525724,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":958610,"millis":0.95861,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":19681586,"millis":19.681586,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":362003,"millis":0.362003,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":269602,"millis":0.269602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.672 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n"},{"result":{"nanos":1107411,"millis":1.107411,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":296603,"millis":0.296603,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.674 [print] #notpresent \n"},{"result":{"nanos":58839258,"millis":58.839258,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":444605,"millis":0.444605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.733 [print] INSPIRE Atom \n"},{"result":{"nanos":146001,"millis":0.146001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":180902,"millis":0.180902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.733 [print] #notpresent \n"},{"result":{"nanos":10993504,"millis":10.993504,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":2216121,"millis":2.216121,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.747 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":739707,"millis":0.739707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.747 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":799208,"millis":0.799208,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":689106,"millis":0.689106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":542706,"millis":0.542706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1018.005757,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0bb27a13-76f1-4374-8d44-76e937198e8d","startTime":1639198811730,"refId":"[1.7:67]","endTime":1639198812749,"exampleData":{"datasetIdentifierCode":"0bb27a13-76f1-4374-8d44-76e937198e8d"},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:11.764 karate.env system property was: null \n"},{"result":{"nanos":46401,"millis":0.046401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116601,"millis":0.116601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116001,"millis":0.116001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":381804,"millis":0.381804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":487905,"millis":0.487905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92201,"millis":0.092201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":252202,"millis":0.252202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":101101,"millis":0.101101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":910992343,"millis":910.992343,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":57905449,"millis":57.905449,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":788108,"millis":0.788108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":779307,"millis":0.779307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":760707,"millis":0.760707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":937509,"millis":0.937509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":15225144,"millis":15.225144,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":171901,"millis":0.171901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":8452281,"millis":8.452281,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1049710,"millis":1.04971,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":741707,"millis":0.741707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":7028967,"millis":7.028967,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":701907,"millis":0.701907,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:12.772 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n"},{"result":{"nanos":880209,"millis":0.880209,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":889108,"millis":0.889108,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:12.773 [print] #notpresent \n"},{"result":{"nanos":941509,"millis":0.941509,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":643106,"millis":0.643106,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:12.776 [print] OGC:WMS \n"},{"result":{"nanos":148901,"millis":0.148901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":524205,"millis":0.524205,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:12.777 [print] #notpresent \n"},{"result":{"nanos":805707,"millis":0.805707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":635706,"millis":0.635706,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:12.778 [print] Informatiehuis Water \n"},{"result":{"nanos":803707,"millis":0.803707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:12.779 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":805508,"millis":0.805508,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":817408,"millis":0.817408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2985528,"millis":2.985528,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1018.198459,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","startTime":1639198811763,"refId":"[1.8:67]","endTime":1639198812784,"exampleData":{"datasetIdentifierCode":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d"},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.600 karate.env system property was: null \n"},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118202,"millis":0.118202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367603,"millis":0.367603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66601,"millis":0.066601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":549205,"millis":0.549205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88201,"millis":0.088201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":146302,"millis":0.146302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":305803,"millis":0.305803,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70801,"millis":0.070801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":10500,"millis":0.0105,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856231123,"millis":856.231123,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1606116,"millis":1.606116,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":892508,"millis":0.892508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":905508,"millis":0.905508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":843308,"millis":0.843308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1286513,"millis":1.286513,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1018810,"millis":1.01881,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":4675444,"millis":4.675444,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1003710,"millis":1.00371,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":937109,"millis":0.937109,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":760408,"millis":0.760408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":773207,"millis":0.773207,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":789708,"millis":0.789708,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.475 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1731416,"millis":1.731416,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":271502,"millis":0.271502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.477 [print] INSPIRE Atom \n"},{"result":{"nanos":1239712,"millis":1.239712,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":629406,"millis":0.629406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.479 [print] #notpresent \n"},{"result":{"nanos":165501,"millis":0.165501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":929409,"millis":0.929409,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.480 [print] INSPIRE Atom \n"},{"result":{"nanos":851608,"millis":0.851608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":619806,"millis":0.619806,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.482 [print] Beheer PDOK \n"},{"result":{"nanos":224802,"millis":0.224802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.482 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":1521815,"millis":1.521815,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":931009,"millis":0.931009,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":737607,"millis":0.737607,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":883.534885,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","startTime":1639198812600,"refId":"[1.9:67]","endTime":1639198813485,"exampleData":{"datasetIdentifierCode":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638"},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":202502,"millis":0.202502,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.674 karate.env system property was: null \n"},{"result":{"nanos":205302,"millis":0.205302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":188702,"millis":0.188702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":261702,"millis":0.261702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":13229226,"millis":13.229226,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":262503,"millis":0.262503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":572005,"millis":0.572005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":158002,"millis":0.158002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":4759845,"millis":4.759845,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":100801,"millis":0.100801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860934768,"millis":860.934768,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1197312,"millis":1.197312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":898608,"millis":0.898608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":811107,"millis":0.811107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":779907,"millis":0.779907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1377113,"millis":1.377113,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1003110,"millis":1.00311,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":149601,"millis":0.149601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":930108,"millis":0.930108,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":838108,"millis":0.838108,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":979009,"millis":0.979009,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":244102,"millis":0.244102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":870208,"millis":0.870208,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.623 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":826507,"millis":0.826507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":603705,"millis":0.603705,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.624 [print] OGC:WFS \n"},{"result":{"nanos":880308,"millis":0.880308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":526205,"millis":0.526205,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.626 [print] INSPIRE Atom \n"},{"result":{"nanos":167502,"millis":0.167502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":585006,"millis":0.585006,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.627 [print] OGC:WFS \n"},{"result":{"nanos":851608,"millis":0.851608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":586106,"millis":0.586106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.628 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":895208,"millis":0.895208,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.629 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":814907,"millis":0.814907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1081011,"millis":1.081011,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":726007,"millis":0.726007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":899.757532,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","startTime":1639198812674,"refId":"[1.10:67]","endTime":1639198813632,"exampleData":{"datasetIdentifierCode":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5"},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":107001,"millis":0.107001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.764 karate.env system property was: null \n"},{"result":{"nanos":115601,"millis":0.115601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":167202,"millis":0.167202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":222902,"millis":0.222902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":578206,"millis":0.578206,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":212202,"millis":0.212202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":527805,"millis":0.527805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":134601,"millis":0.134601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":3065029,"millis":3.065029,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":106201,"millis":0.106201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38401,"millis":0.038401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":74801,"millis":0.074801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":43601,"millis":0.043601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":868017235,"millis":868.017235,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":853908,"millis":0.853908,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":850908,"millis":0.850908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3192931,"millis":3.192931,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1208811,"millis":1.208811,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1096111,"millis":1.096111,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1158511,"millis":1.158511,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":194302,"millis":0.194302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1004010,"millis":1.00401,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":4880546,"millis":4.880546,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":921108,"millis":0.921108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":254402,"millis":0.254402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":665606,"millis":0.665606,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.655 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":835208,"millis":0.835208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":674407,"millis":0.674407,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.657 [print] OGC:WFS \n"},{"result":{"nanos":1704816,"millis":1.704816,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131202,"millis":0.131202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.658 [print] INSPIRE Atom \n"},{"result":{"nanos":4186539,"millis":4.186539,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":528405,"millis":0.528405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.663 [print] OGC:WFS \n"},{"result":{"nanos":1087510,"millis":1.08751,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":582905,"millis":0.582905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.665 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":805108,"millis":0.805108,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.666 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":895909,"millis":0.895909,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4986547,"millis":4.986547,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":771108,"millis":0.771108,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":907.020907,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"01572637-b851-4cc3-b06a-56c1ae1115cc","startTime":1639198812760,"refId":"[1.11:67]","endTime":1639198813673,"exampleData":{"datasetIdentifierCode":"01572637-b851-4cc3-b06a-56c1ae1115cc"},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":107701,"millis":0.107701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:12.788 karate.env system property was: null \n"},{"result":{"nanos":92401,"millis":0.092401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":149702,"millis":0.149702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":267402,"millis":0.267402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":506704,"millis":0.506704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":225903,"millis":0.225903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":582105,"millis":0.582105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":225202,"millis":0.225202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":674906,"millis":0.674906,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":79301,"millis":0.079301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48101,"millis":0.048101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":51601,"millis":0.051601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":108701,"millis":0.108701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":888353127,"millis":888.353127,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1104810,"millis":1.10481,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":956609,"millis":0.956609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":915209,"millis":0.915209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":721207,"millis":0.721207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":881908,"millis":0.881908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":760408,"millis":0.760408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":695807,"millis":0.695807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":819408,"millis":0.819408,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":667407,"millis":0.667407,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":434504,"millis":0.434504,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":518305,"millis":0.518305,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:13.689 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":708207,"millis":0.708207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":484805,"millis":0.484805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:13.690 [print] INSPIRE Atom \n"},{"result":{"nanos":732607,"millis":0.732607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":489805,"millis":0.489805,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:13.691 [print] #notpresent \n"},{"result":{"nanos":132901,"millis":0.132901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":701706,"millis":0.701706,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:13.692 [print] INSPIRE Atom \n"},{"result":{"nanos":926308,"millis":0.926308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":389403,"millis":0.389403,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:13.694 [print] Beheer PDOK \n"},{"result":{"nanos":719707,"millis":0.719707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:13.695 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":779107,"millis":0.779107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":825208,"millis":0.825208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":735007,"millis":0.735007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":907.815912,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"deaf8380-ad45-48d2-8c3e-81164471bafb","startTime":1639198812786,"refId":"[1.12:67]","endTime":1639198813697,"exampleData":{"datasetIdentifierCode":"deaf8380-ad45-48d2-8c3e-81164471bafb"},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":167002,"millis":0.167002,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.489 karate.env system property was: null \n"},{"result":{"nanos":79001,"millis":0.079001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":188802,"millis":0.188802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":334003,"millis":0.334003,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":532705,"millis":0.532705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":217203,"millis":0.217203,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":596606,"millis":0.596606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":167002,"millis":0.167002,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":451204,"millis":0.451204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":87601,"millis":0.087601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":610706,"millis":0.610706,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":155002,"millis":0.155002,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":42201,"millis":0.042201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857316633,"millis":857.316633,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1291412,"millis":1.291412,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":1084611,"millis":1.084611,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":985509,"millis":0.985509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":773907,"millis":0.773907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":876809,"millis":0.876809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":831208,"millis":0.831208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":705807,"millis":0.705807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":764208,"millis":0.764208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":850608,"millis":0.850608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":215602,"millis":0.215602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161401,"millis":0.161401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.361 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":849608,"millis":0.849608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121101,"millis":0.121101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.362 [print] #notpresent \n"},{"result":{"nanos":694507,"millis":0.694507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":148301,"millis":0.148301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.362 [print] OGC:WMS \n"},{"result":{"nanos":125002,"millis":0.125002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":129701,"millis":0.129701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.363 [print] #notpresent \n"},{"result":{"nanos":818508,"millis":0.818508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148202,"millis":0.148202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.364 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":154401,"millis":0.154401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.364 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":737307,"millis":0.737307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1064210,"millis":1.06421,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":646807,"millis":0.646807,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.36221,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","startTime":1639198813488,"refId":"[1.13:67]","endTime":1639198814367,"exampleData":{"datasetIdentifierCode":"7af7b20d-3f8a-4d7f-8124-73980535a4f6"},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.648 karate.env system property was: null \n"},{"result":{"nanos":67300,"millis":0.0673,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71801,"millis":0.071801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":99901,"millis":0.099901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":357104,"millis":0.357104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436504,"millis":0.436504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58701,"millis":0.058701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":567505,"millis":0.567505,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11301,"millis":0.011301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":83001,"millis":0.083001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856855729,"millis":856.855729,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1062810,"millis":1.06281,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":702407,"millis":0.702407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":802307,"millis":0.802307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1170711,"millis":1.170711,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1541115,"millis":1.541115,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1340813,"millis":1.340813,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1103210,"millis":1.10321,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1234612,"millis":1.234612,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":715807,"millis":0.715807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":873509,"millis":0.873509,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1488314,"millis":1.488314,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.521 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":861609,"millis":0.861609,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":489005,"millis":0.489005,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.522 [print] INSPIRE Atom \n"},{"result":{"nanos":708907,"millis":0.708907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":576805,"millis":0.576805,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.523 [print] #notpresent \n"},{"result":{"nanos":76801,"millis":0.076801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":430104,"millis":0.430104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.524 [print] INSPIRE Atom \n"},{"result":{"nanos":785007,"millis":0.785007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":524905,"millis":0.524905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.525 [print] Beheer PDOK \n"},{"result":{"nanos":799908,"millis":0.799908,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.526 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":757807,"millis":0.757807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":7027867,"millis":7.027867,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":743507,"millis":0.743507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.688595,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","startTime":1639198813635,"refId":"[1.14:67]","endTime":1639198814535,"exampleData":{"datasetIdentifierCode":"bb85e473-c04a-42a6-9fdc-f0bb0239327e"},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.676 karate.env system property was: null \n"},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76801,"millis":0.076801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":384404,"millis":0.384404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":999109,"millis":0.999109,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":65001,"millis":0.065001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":773707,"millis":0.773707,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":88101,"millis":0.088101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":962002426,"millis":962.002426,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1106111,"millis":1.106111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":969909,"millis":0.969909,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1023310,"millis":1.02331,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":817108,"millis":0.817108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":870508,"millis":0.870508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":879709,"millis":0.879709,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":68701,"millis":0.068701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":751307,"millis":0.751307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":752507,"millis":0.752507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":651906,"millis":0.651906,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110502,"millis":0.110502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1184411,"millis":1.184411,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.650 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":748707,"millis":0.748707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105401,"millis":0.105401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.651 [print] OGC:WMS \n"},{"result":{"nanos":1096211,"millis":1.096211,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111401,"millis":0.111401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.652 [print] #notpresent \n"},{"result":{"nanos":1739516,"millis":1.739516,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":117201,"millis":0.117201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.654 [print] OGC:WMS \n"},{"result":{"nanos":2505224,"millis":2.505224,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":342103,"millis":0.342103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.657 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":291103,"millis":0.291103,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.657 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":1009810,"millis":1.00981,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1402714,"millis":1.402714,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":746307,"millis":0.746307,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":984.101737,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a12ae6ca-b755-4707-884f-95c0d66f431a","startTime":1639198813675,"refId":"[1.15:67]","endTime":1639198814661,"exampleData":{"datasetIdentifierCode":"a12ae6ca-b755-4707-884f-95c0d66f431a"},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26901,"millis":0.026901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:13.700 karate.env system property was: null \n"},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81801,"millis":0.081801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":501305,"millis":0.501305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":517905,"millis":0.517905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":59301,"millis":0.059301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":536805,"millis":0.536805,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49301,"millis":0.049301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76901,"millis":0.076901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":968727691,"millis":968.727691,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":784607,"millis":0.784607,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":797908,"millis":0.797908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1105911,"millis":1.105911,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":957509,"millis":0.957509,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":849408,"millis":0.849408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":829108,"millis":0.829108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38501,"millis":0.038501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":804307,"millis":0.804307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":790908,"millis":0.790908,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":802908,"millis":0.802908,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":328003,"millis":0.328003,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":302803,"millis":0.302803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:14.680 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":990810,"millis":0.99081,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":244802,"millis":0.244802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:14.681 [print] OGC:WMS \n"},{"result":{"nanos":895309,"millis":0.895309,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":281102,"millis":0.281102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:14.682 [print] #notpresent \n"},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":363604,"millis":0.363604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:14.683 [print] OGC:WMS \n"},{"result":{"nanos":1114410,"millis":1.11441,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":298703,"millis":0.298703,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:14.684 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":252902,"millis":0.252902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:14.684 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":908509,"millis":0.908509,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":768107,"millis":0.768107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":796308,"millis":0.796308,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":986.196159,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","startTime":1639198813699,"refId":"[1.16:67]","endTime":1639198814687,"exampleData":{"datasetIdentifierCode":"a02c6566-e0ad-4fc1-b217-67cc1099dea2"},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.369 karate.env system property was: null \n"},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74701,"millis":0.074701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":134702,"millis":0.134702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":463205,"millis":0.463205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":88001,"millis":0.088001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":523805,"millis":0.523805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56501,"millis":0.056501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":135701,"millis":0.135701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40001,"millis":0.040001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28301,"millis":0.028301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":112901,"millis":0.112901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860798666,"millis":860.798666,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1139111,"millis":1.139111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":778607,"millis":0.778607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":778708,"millis":0.778708,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":886908,"millis":0.886908,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":954909,"millis":0.954909,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1080211,"millis":1.080211,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75901,"millis":0.075901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3191130,"millis":3.19113,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":786008,"millis":0.786008,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":753807,"millis":0.753807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":227402,"millis":0.227402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":840808,"millis":0.840808,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.251 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":889709,"millis":0.889709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":488105,"millis":0.488105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.252 [print] OGC:WFS \n"},{"result":{"nanos":929909,"millis":0.929909,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":461904,"millis":0.461904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.254 [print] INSPIRE Atom \n"},{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":399804,"millis":0.399804,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.254 [print] OGC:WFS \n"},{"result":{"nanos":1081310,"millis":1.08131,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":128901,"millis":0.128901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.255 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":468904,"millis":0.468904,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.256 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":870608,"millis":0.870608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1039909,"millis":1.039909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":632206,"millis":0.632206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.564767,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","startTime":1639198814369,"refId":"[1.17:67]","endTime":1639198815259,"exampleData":{"datasetIdentifierCode":"fbe544b6-6e6f-43a0-80b9-ced1df78c434"},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.540 karate.env system property was: null \n"},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":83901,"millis":0.083901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":712507,"millis":0.712507,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":150902,"millis":0.150902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436904,"millis":0.436904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60401,"millis":0.060401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":480804,"millis":0.480804,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7801,"millis":0.007801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":80600,"millis":0.0806,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":10201,"millis":0.010201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845642122,"millis":845.642122,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1094410,"millis":1.09441,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":865309,"millis":0.865309,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":709407,"millis":0.709407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":750907,"millis":0.750907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":814608,"millis":0.814608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":743907,"millis":0.743907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":65401,"millis":0.065401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":790807,"millis":0.790807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":713206,"millis":0.713206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":817608,"millis":0.817608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":113401,"millis":0.113401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":251402,"millis":0.251402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.397 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":682706,"millis":0.682706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":125601,"millis":0.125601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.398 [print] OGC:WFS \n"},{"result":{"nanos":777607,"millis":0.777607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112101,"millis":0.112101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.399 [print] #notpresent \n"},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98801,"millis":0.098801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.399 [print] OGC:WFS \n"},{"result":{"nanos":774408,"millis":0.774408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":110201,"millis":0.110201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.400 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":125401,"millis":0.125401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.400 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":820908,"millis":0.820908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":970109,"millis":0.970109,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1716817,"millis":1.716817,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.983977,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"91041d33-54f8-40f1-8965-a867ba00cab8","startTime":1639198814537,"refId":"[1.18:67]","endTime":1639198815403,"exampleData":{"datasetIdentifierCode":"91041d33-54f8-40f1-8965-a867ba00cab8"},"exampleIndex":17},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26801,"millis":0.026801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.663 karate.env system property was: null \n"},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70001,"millis":0.070001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":79201,"millis":0.079201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":450204,"millis":0.450204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":85001,"millis":0.085001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":530605,"millis":0.530605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54701,"millis":0.054701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":256902,"millis":0.256902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23401,"millis":0.023401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68901,"millis":0.068901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850555469,"millis":850.555469,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1246711,"millis":1.246711,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":876208,"millis":0.876208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":860208,"millis":0.860208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":674507,"millis":0.674507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":889608,"millis":0.889608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":782308,"millis":0.782308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":712206,"millis":0.712206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":686306,"millis":0.686306,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":681807,"millis":0.681807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":357903,"millis":0.357903,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":234803,"millis":0.234803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.525 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":794508,"millis":0.794508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":231202,"millis":0.231202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.526 [print] #notpresent \n"},{"result":{"nanos":812108,"millis":0.812108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":247702,"millis":0.247702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.527 [print] OGC:WFS \n"},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":371903,"millis":0.371903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.528 [print] #notpresent \n"},{"result":{"nanos":964009,"millis":0.964009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":289203,"millis":0.289203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.529 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":159301,"millis":0.159301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.529 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1208211,"millis":1.208211,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1130511,"millis":1.130511,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":613806,"millis":0.613806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.225728,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"542b330b-d3c6-4617-b97f-693e5cfd1872","startTime":1639198814663,"refId":"[1.19:67]","endTime":1639198815532,"exampleData":{"datasetIdentifierCode":"542b330b-d3c6-4617-b97f-693e5cfd1872"},"exampleIndex":18},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22501,"millis":0.022501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:14.689 karate.env system property was: null \n"},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":93001,"millis":0.093001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75501,"millis":0.075501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":346603,"millis":0.346603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113302,"millis":0.113302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470304,"millis":0.470304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":134101,"millis":0.134101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":109401,"millis":0.109401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19201,"millis":0.019201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870195655,"millis":870.195655,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":946009,"millis":0.946009,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":877408,"millis":0.877408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":855708,"millis":0.855708,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":785808,"millis":0.785808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1171111,"millis":1.171111,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1059710,"millis":1.05971,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40701,"millis":0.040701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":988609,"millis":0.988609,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":898309,"millis":0.898309,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":881208,"millis":0.881208,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":164601,"millis":0.164601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":498805,"millis":0.498805,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:15.571 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n"},{"result":{"nanos":821008,"millis":0.821008,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":364503,"millis":0.364503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:15.572 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":759607,"millis":0.759607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":312903,"millis":0.312903,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:15.573 [print] #notpresent \n"},{"result":{"nanos":71801,"millis":0.071801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":250802,"millis":0.250802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:15.574 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":988210,"millis":0.98821,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":303103,"millis":0.303103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:15.575 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":295203,"millis":0.295203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:15.575 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":901908,"millis":0.901908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":864509,"millis":0.864509,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":564805,"millis":0.564805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.45472,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","startTime":1639198814689,"refId":"[1.20:67]","endTime":1639198815578,"exampleData":{"datasetIdentifierCode":"ebd6ea46-ee7b-432f-83c4-058c889a790d"},"exampleIndex":19},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.262 karate.env system property was: null \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":99401,"millis":0.099401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119901,"millis":0.119901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":513305,"millis":0.513305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415004,"millis":0.415004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":112001,"millis":0.112001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97601,"millis":0.097601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":164102,"millis":0.164102,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872733979,"millis":872.733979,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1182811,"millis":1.182811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":943009,"millis":0.943009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1793017,"millis":1.793017,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1030609,"millis":1.030609,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3210431,"millis":3.210431,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1037010,"millis":1.03701,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":828508,"millis":0.828508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":806208,"millis":0.806208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":768708,"millis":0.768708,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":158401,"millis":0.158401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":341903,"millis":0.341903,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.149 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":855208,"millis":0.855208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":131701,"millis":0.131701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.150 [print] OGC:WMS \n"},{"result":{"nanos":2282222,"millis":2.282222,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131801,"millis":0.131801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.153 [print] #notpresent \n"},{"result":{"nanos":161502,"millis":0.161502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":103001,"millis":0.103001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.153 [print] OGC:WMS \n"},{"result":{"nanos":954609,"millis":0.954609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120801,"millis":0.120801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.154 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":112301,"millis":0.112301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.154 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":1661515,"millis":1.661515,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1153511,"millis":1.153511,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":664906,"millis":0.664906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":894.998888,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"bd14098b-44e6-47e5-959d-f40dda65da5a","startTime":1639198815261,"refId":"[1.21:67]","endTime":1639198816158,"exampleData":{"datasetIdentifierCode":"bd14098b-44e6-47e5-959d-f40dda65da5a"},"exampleIndex":20},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22201,"millis":0.022201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.406 karate.env system property was: null \n"},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":81501,"millis":0.081501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118301,"millis":0.118301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":467805,"millis":0.467805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59501,"millis":0.059501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":479704,"millis":0.479704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52901,"millis":0.052901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":479104,"millis":0.479104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875474406,"millis":875.474406,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1162411,"millis":1.162411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":797608,"millis":0.797608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":987809,"millis":0.987809,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":822507,"millis":0.822507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":907209,"millis":0.907209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":747707,"millis":0.747707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55801,"millis":0.055801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":625806,"millis":0.625806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":644606,"millis":0.644606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":682207,"millis":0.682207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":253502,"millis":0.253502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":666406,"millis":0.666406,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.293 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":691507,"millis":0.691507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":474804,"millis":0.474804,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.294 [print] INSPIRE Atom \n"},{"result":{"nanos":824708,"millis":0.824708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":400304,"millis":0.400304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.296 [print] #notpresent \n"},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":422804,"millis":0.422804,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.296 [print] INSPIRE Atom \n"},{"result":{"nanos":1040910,"millis":1.04091,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":400404,"millis":0.400404,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.298 [print] Beheer PDOK \n"},{"result":{"nanos":803808,"millis":0.803808,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.298 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":919409,"millis":0.919409,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1078410,"millis":1.07841,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":549105,"millis":0.549105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.419878,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","startTime":1639198815406,"refId":"[1.22:67]","endTime":1639198816301,"exampleData":{"datasetIdentifierCode":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f"},"exampleIndex":21},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54101,"millis":0.054101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.535 karate.env system property was: null \n"},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":147501,"millis":0.147501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":148701,"millis":0.148701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":449304,"millis":0.449304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62001,"millis":0.062001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":440504,"millis":0.440504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47901,"millis":0.047901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":159001,"millis":0.159001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23001,"millis":0.023001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851942582,"millis":851.942582,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":947309,"millis":0.947309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '710a6a9b-c09f-4660-b15a-2d5bee27e7e3'"}},{"result":{"nanos":751507,"millis":0.751507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":747408,"millis":0.747408,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":847708,"millis":0.847708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":935809,"millis":0.935809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":772307,"millis":0.772307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":653506,"millis":0.653506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":726706,"millis":0.726706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":725006,"millis":0.725006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":529705,"millis":0.529705,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":845008,"millis":0.845008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.398 [print] https:\/\/service.pdok.nl\/cbs\/gebiedsindelingen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":788808,"millis":0.788808,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":460704,"millis":0.460704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.399 [print] INSPIRE Atom \n"},{"result":{"nanos":679207,"millis":0.679207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":433104,"millis":0.433104,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.400 [print] #notpresent \n"},{"result":{"nanos":54901,"millis":0.054901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":455504,"millis":0.455504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.401 [print] INSPIRE Atom \n"},{"result":{"nanos":900909,"millis":0.900909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":620406,"millis":0.620406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.402 [print] Beheer PDOK \n"},{"result":{"nanos":772607,"millis":0.772607,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.403 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":809908,"millis":0.809908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1043710,"millis":1.04371,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":587106,"millis":0.587106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"710a6a9b-c09f-4660-b15a-2d5bee27e7e3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.784151,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3","startTime":1639198815534,"refId":"[1.23:67]","endTime":1639198816405,"exampleData":{"datasetIdentifierCode":"710a6a9b-c09f-4660-b15a-2d5bee27e7e3"},"exampleIndex":22},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:15.581 karate.env system property was: null \n"},{"result":{"nanos":41901,"millis":0.041901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":82501,"millis":0.082501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":362604,"millis":0.362604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":530105,"millis":0.530105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":266503,"millis":0.266503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855838719,"millis":855.838719,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1122310,"millis":1.12231,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":780408,"millis":0.780408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":16716959,"millis":16.716959,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1802217,"millis":1.802217,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1157611,"millis":1.157611,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":870708,"millis":0.870708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":138001,"millis":0.138001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":792507,"millis":0.792507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":752007,"millis":0.752007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":700307,"millis":0.700307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":533405,"millis":0.533405,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":426904,"millis":0.426904,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:16.465 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1828817,"millis":1.828817,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":544706,"millis":0.544706,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:16.468 [print] INSPIRE Atom \n"},{"result":{"nanos":966109,"millis":0.966109,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":510605,"millis":0.510605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:16.469 [print] #notpresent \n"},{"result":{"nanos":181202,"millis":0.181202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":370103,"millis":0.370103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:16.470 [print] INSPIRE Atom \n"},{"result":{"nanos":863308,"millis":0.863308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":448504,"millis":0.448504,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:16.471 [print] Beheer PDOK \n"},{"result":{"nanos":475805,"millis":0.475805,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:16.472 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":921709,"millis":0.921709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2590024,"millis":2.590024,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":746907,"millis":0.746907,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.727079,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7a748a59-36f4-475b-9647-402b5ce89a1c","startTime":1639198815581,"refId":"[1.24:67]","endTime":1639198816476,"exampleData":{"datasetIdentifierCode":"7a748a59-36f4-475b-9647-402b5ce89a1c"},"exampleIndex":23},{"sectionIndex":0,"stepResults":[{"result":{"nanos":29601,"millis":0.029601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.161 karate.env system property was: null \n"},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":83001,"millis":0.083001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73601,"millis":0.073601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":450505,"millis":0.450505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":555606,"millis":0.555606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96101,"millis":0.096101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":27201,"millis":0.027201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81001,"millis":0.081001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847815143,"millis":847.815143,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1286412,"millis":1.286412,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":830908,"millis":0.830908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":769208,"millis":0.769208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":719807,"millis":0.719807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":986709,"millis":0.986709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":956609,"millis":0.956609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":2362123,"millis":2.362123,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1006010,"millis":1.00601,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":835608,"millis":0.835608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":662206,"millis":0.662206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":435804,"millis":0.435804,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":408004,"millis":0.408004,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.022 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":842308,"millis":0.842308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":350803,"millis":0.350803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.023 [print] INSPIRE Atom \n"},{"result":{"nanos":799108,"millis":0.799108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1806117,"millis":1.806117,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.026 [print] #notpresent \n"},{"result":{"nanos":162001,"millis":0.162001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":374803,"millis":0.374803,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.027 [print] INSPIRE Atom \n"},{"result":{"nanos":846708,"millis":0.846708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":333204,"millis":0.333204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.028 [print] Beheer PDOK \n"},{"result":{"nanos":316803,"millis":0.316803,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.028 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":768707,"millis":0.768707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1165711,"millis":1.165711,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":620806,"millis":0.620806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.105247,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","startTime":1639198816160,"refId":"[1.25:67]","endTime":1639198817031,"exampleData":{"datasetIdentifierCode":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb"},"exampleIndex":24},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.304 karate.env system property was: null \n"},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":80701,"millis":0.080701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":391403,"millis":0.391403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60601,"millis":0.060601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":499005,"millis":0.499005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":128902,"millis":0.128902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":6801,"millis":0.006801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853238394,"millis":853.238394,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1302312,"millis":1.302312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":727807,"millis":0.727807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":814808,"millis":0.814808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":757907,"millis":0.757907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1072311,"millis":1.072311,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":875208,"millis":0.875208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":139001,"millis":0.139001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":765508,"millis":0.765508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":896408,"millis":0.896408,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":972509,"millis":0.972509,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":210602,"millis":0.210602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":764207,"millis":0.764207,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.169 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":1507415,"millis":1.507415,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":279502,"millis":0.279502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.171 [print] #notpresent \n"},{"result":{"nanos":1084110,"millis":1.08411,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":204802,"millis":0.204802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.172 [print] OGC:WMS \n"},{"result":{"nanos":462105,"millis":0.462105,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":206602,"millis":0.206602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.173 [print] #notpresent \n"},{"result":{"nanos":1045710,"millis":1.04571,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":291802,"millis":0.291802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.174 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":609806,"millis":0.609806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.175 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1363213,"millis":1.363213,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":700907,"millis":0.700907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":665806,"millis":0.665806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.485176,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","startTime":1639198816304,"refId":"[1.26:67]","endTime":1639198817178,"exampleData":{"datasetIdentifierCode":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6"},"exampleIndex":25},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.408 karate.env system property was: null \n"},{"result":{"nanos":39401,"millis":0.039401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89201,"millis":0.089201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":432104,"millis":0.432104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61000,"millis":0.061,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":428404,"millis":0.428404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":394204,"millis":0.394204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17501,"millis":0.017501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66401,"millis":0.066401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862331881,"millis":862.331881,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1097210,"millis":1.09721,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":915109,"millis":0.915109,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":760707,"millis":0.760707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":788808,"millis":0.788808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":988209,"millis":0.988209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":868309,"millis":0.868309,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":2009519,"millis":2.009519,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":862508,"millis":0.862508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":816508,"millis":0.816508,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":784107,"millis":0.784107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":894308,"millis":0.894308,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":926109,"millis":0.926109,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.285 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":863008,"millis":0.863008,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":632906,"millis":0.632906,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.286 [print] OGC:WFS \n"},{"result":{"nanos":921709,"millis":0.921709,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":550706,"millis":0.550706,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.288 [print] INSPIRE Atom \n"},{"result":{"nanos":137101,"millis":0.137101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":480605,"millis":0.480605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.288 [print] OGC:WFS \n"},{"result":{"nanos":1164811,"millis":1.164811,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1049110,"millis":1.04911,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.291 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":859808,"millis":0.859808,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.292 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":1215012,"millis":1.215012,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":702507,"millis":0.702507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1284712,"millis":1.284712,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":885.644203,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"37308f90-e619-4b62-ae9e-e656bb3f1649","startTime":1639198816408,"refId":"[1.27:67]","endTime":1639198817295,"exampleData":{"datasetIdentifierCode":"37308f90-e619-4b62-ae9e-e656bb3f1649"},"exampleIndex":26},{"sectionIndex":0,"stepResults":[{"result":{"nanos":80301,"millis":0.080301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:16.480 karate.env system property was: null \n"},{"result":{"nanos":64201,"millis":0.064201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":206002,"millis":0.206002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":208902,"millis":0.208902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":588006,"millis":0.588006,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":246802,"millis":0.246802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":608906,"millis":0.608906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":148402,"millis":0.148402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":416104,"millis":0.416104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75400,"millis":0.0754,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":41801,"millis":0.041801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":869198246,"millis":869.198246,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1323212,"millis":1.323212,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":956609,"millis":0.956609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":844008,"millis":0.844008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1015710,"millis":1.01571,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":921308,"millis":0.921308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":842208,"millis":0.842208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":844908,"millis":0.844908,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1131710,"millis":1.13171,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2620924,"millis":2.620924,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":113901,"millis":0.113901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131101,"millis":0.131101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.364 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":1468714,"millis":1.468714,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":506705,"millis":0.506705,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.366 [print] OGC:WMS \n"},{"result":{"nanos":821808,"millis":0.821808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":421304,"millis":0.421304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.367 [print] #notpresent \n"},{"result":{"nanos":91401,"millis":0.091401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":375604,"millis":0.375604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.368 [print] OGC:WMS \n"},{"result":{"nanos":821807,"millis":0.821807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":465404,"millis":0.465404,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.369 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":968509,"millis":0.968509,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.370 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":999810,"millis":0.99981,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1079210,"millis":1.07921,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":569906,"millis":0.569906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.465755,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","startTime":1639198816480,"refId":"[1.28:67]","endTime":1639198817373,"exampleData":{"datasetIdentifierCode":"f61eec5c-cb91-40b6-ad35-9bca967006cc"},"exampleIndex":27},{"sectionIndex":0,"stepResults":[{"result":{"nanos":114501,"millis":0.114501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.035 karate.env system property was: null \n"},{"result":{"nanos":59601,"millis":0.059601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":162301,"millis":0.162301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":203801,"millis":0.203801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":472704,"millis":0.472704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":223502,"millis":0.223502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":849008,"millis":0.849008,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":146602,"millis":0.146602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":361403,"millis":0.361403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73001,"millis":0.073001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33801,"millis":0.033801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857149332,"millis":857.149332,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1170711,"millis":1.170711,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":974410,"millis":0.97441,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":878308,"millis":0.878308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":861708,"millis":0.861708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1228312,"millis":1.228312,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2027519,"millis":2.027519,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":886009,"millis":0.886009,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":789207,"millis":0.789207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":661707,"millis":0.661707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":131901,"millis":0.131901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":286603,"millis":0.286603,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:17.906 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":738907,"millis":0.738907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":139901,"millis":0.139901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:17.907 [print] #notpresent \n"},{"result":{"nanos":746507,"millis":0.746507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110201,"millis":0.110201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:17.907 [print] OGC:WFS \n"},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98801,"millis":0.098801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:17.908 [print] #notpresent \n"},{"result":{"nanos":900009,"millis":0.900009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:17.909 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":93801,"millis":0.093801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:17.909 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":722007,"millis":0.722007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":803908,"millis":0.803908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":516005,"millis":0.516005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.041902,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"dd414384-0bcb-4188-86e2-2843e12a579e","startTime":1639198817034,"refId":"[1.29:67]","endTime":1639198817911,"exampleData":{"datasetIdentifierCode":"dd414384-0bcb-4188-86e2-2843e12a579e"},"exampleIndex":28},{"sectionIndex":0,"stepResults":[{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.181 karate.env system property was: null \n"},{"result":{"nanos":76001,"millis":0.076001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":162402,"millis":0.162402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":191001,"millis":0.191001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":588705,"millis":0.588705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":211702,"millis":0.211702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":502405,"millis":0.502405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":129501,"millis":0.129501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":203002,"millis":0.203002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":330303,"millis":0.330303,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":73601,"millis":0.073601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":44101,"millis":0.044101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857466435,"millis":857.466435,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1171411,"millis":1.171411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":853108,"millis":0.853108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":783407,"millis":0.783407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":786808,"millis":0.786808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":789108,"millis":0.789108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":821007,"millis":0.821007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":747407,"millis":0.747407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":730507,"millis":0.730507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":641106,"millis":0.641106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97201,"millis":0.097201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":196901,"millis":0.196901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.050 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":687406,"millis":0.687406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":133901,"millis":0.133901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.051 [print] OGC:WFS \n"},{"result":{"nanos":704306,"millis":0.704306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.052 [print] #notpresent \n"},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101501,"millis":0.101501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.052 [print] OGC:WFS \n"},{"result":{"nanos":787008,"millis":0.787008,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102401,"millis":0.102401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.053 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":117601,"millis":0.117601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.053 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":907809,"millis":0.907809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":953509,"millis":0.953509,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":584606,"millis":0.584606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.102482,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","startTime":1639198817180,"refId":"[1.30:67]","endTime":1639198818055,"exampleData":{"datasetIdentifierCode":"c7dad4b9-42a8-452f-a33b-d4938ed22142"},"exampleIndex":29},{"sectionIndex":0,"stepResults":[{"result":{"nanos":75401,"millis":0.075401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.305 karate.env system property was: null \n"},{"result":{"nanos":56900,"millis":0.0569,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":201502,"millis":0.201502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":182802,"millis":0.182802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":539905,"millis":0.539905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":205502,"millis":0.205502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":537505,"millis":0.537505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":300103,"millis":0.300103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":879808,"millis":0.879808,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":81901,"millis":0.081901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":49401,"millis":0.049401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34801,"millis":0.034801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849904163,"millis":849.904163,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":948409,"millis":0.948409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":802407,"millis":0.802407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":735407,"millis":0.735407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":741207,"millis":0.741207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":820707,"millis":0.820707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":726207,"millis":0.726207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":74500,"millis":0.0745,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":679807,"millis":0.679807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":679506,"millis":0.679506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":714106,"millis":0.714106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90001,"millis":0.090001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":427304,"millis":0.427304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.168 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":648606,"millis":0.648606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":142801,"millis":0.142801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.169 [print] INSPIRE Atom \n"},{"result":{"nanos":928609,"millis":0.928609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":156102,"millis":0.156102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.170 [print] #notpresent \n"},{"result":{"nanos":142402,"millis":0.142402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":299703,"millis":0.299703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.170 [print] INSPIRE Atom \n"},{"result":{"nanos":733707,"millis":0.733707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146801,"millis":0.146801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.171 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":336604,"millis":0.336604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.172 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":843208,"millis":0.843208,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":891808,"millis":0.891808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":595106,"millis":0.595106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.53682,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","startTime":1639198817304,"refId":"[1.31:67]","endTime":1639198818174,"exampleData":{"datasetIdentifierCode":"f5660ac6-8031-4acc-832c-1d1b82b062ba"},"exampleIndex":30},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.377 karate.env system property was: null \n"},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88601,"millis":0.088601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":437704,"millis":0.437704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60301,"millis":0.060301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":505505,"millis":0.505505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49901,"millis":0.049901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":500604,"millis":0.500604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22801,"millis":0.022801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860230561,"millis":860.230561,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1080711,"millis":1.080711,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":893708,"millis":0.893708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":857308,"millis":0.857308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":837508,"millis":0.837508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":915308,"millis":0.915308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":836808,"millis":0.836808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":722107,"millis":0.722107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":709007,"millis":0.709007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":794008,"millis":0.794008,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":207702,"millis":0.207702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":321403,"millis":0.321403,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.248 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n"},{"result":{"nanos":795408,"millis":0.795408,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120301,"millis":0.120301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.249 [print] #notpresent \n"},{"result":{"nanos":646606,"millis":0.646606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90701,"millis":0.090701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.250 [print] INSPIRE Atom \n"},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":180202,"millis":0.180202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.250 [print] #notpresent \n"},{"result":{"nanos":1044810,"millis":1.04481,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":173302,"millis":0.173302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.251 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":232902,"millis":0.232902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.252 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n"},{"result":{"nanos":846408,"millis":0.846408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1012109,"millis":1.012109,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":555906,"millis":0.555906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":876.103813,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","startTime":1639198817376,"refId":"[1.32:67]","endTime":1639198818254,"exampleData":{"datasetIdentifierCode":"7c664a91-1aa2-4923-9d17-6a43e4075f47"},"exampleIndex":31},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38301,"millis":0.038301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:17.913 karate.env system property was: null \n"},{"result":{"nanos":204702,"millis":0.204702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":89301,"millis":0.089301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126601,"millis":0.126601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":416704,"millis":0.416704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457304,"millis":0.457304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50301,"millis":0.050301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98801,"millis":0.098801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850815045,"millis":850.815045,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":6462870,"millis":6.46287,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":1017911,"millis":1.017911,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":807709,"millis":0.807709,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":780209,"millis":0.780209,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":957310,"millis":0.95731,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":949510,"millis":0.94951,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":859209,"millis":0.859209,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":813308,"millis":0.813308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":792808,"millis":0.792808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":765708,"millis":0.765708,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":664607,"millis":0.664607,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.781 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":850409,"millis":0.850409,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":473405,"millis":0.473405,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.783 [print] #notpresent \n"},{"result":{"nanos":741608,"millis":0.741608,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":450605,"millis":0.450605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.784 [print] OGC:WMS \n"},{"result":{"nanos":87401,"millis":0.087401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":430404,"millis":0.430404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.784 [print] #notpresent \n"},{"result":{"nanos":761109,"millis":0.761109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":507505,"millis":0.507505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.786 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":695708,"millis":0.695708,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.786 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1259014,"millis":1.259014,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1125812,"millis":1.125812,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1002111,"millis":1.002111,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.794212,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","startTime":1639198817913,"refId":"[1.33:67]","endTime":1639198818790,"exampleData":{"datasetIdentifierCode":"7b4a0b26-5885-45cd-a99d-27887cff68e5"},"exampleIndex":32},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.058 karate.env system property was: null \n"},{"result":{"nanos":60801,"millis":0.060801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":91701,"millis":0.091701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":141001,"millis":0.141001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":2511924,"millis":2.511924,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":178602,"millis":0.178602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":446404,"millis":0.446404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":481105,"millis":0.481105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":124401,"millis":0.124401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":883919493,"millis":883.919493,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1489616,"millis":1.489616,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":954410,"millis":0.95441,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":935910,"millis":0.93591,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":905510,"millis":0.90551,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1073111,"millis":1.073111,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":856509,"millis":0.856509,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":700907,"millis":0.700907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":753208,"millis":0.753208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":746808,"millis":0.746808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110201,"millis":0.110201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":527406,"millis":0.527406,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:18.957 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":1050211,"millis":1.050211,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109001,"millis":0.109001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:18.959 [print] OGC:WMS \n"},{"result":{"nanos":958410,"millis":0.95841,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97901,"millis":0.097901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:18.960 [print] #notpresent \n"},{"result":{"nanos":44801,"millis":0.044801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":231502,"millis":0.231502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:18.960 [print] OGC:WMS \n"},{"result":{"nanos":942211,"millis":0.942211,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":166302,"millis":0.166302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:18.961 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":120201,"millis":0.120201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:18.961 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":1000711,"millis":1.000711,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":853709,"millis":0.853709,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":589406,"millis":0.589406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":903.403897,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a6098c24-4caf-4528-954c-672b9ec6cf78","startTime":1639198818058,"refId":"[1.34:67]","endTime":1639198818964,"exampleData":{"datasetIdentifierCode":"a6098c24-4caf-4528-954c-672b9ec6cf78"},"exampleIndex":33},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.177 karate.env system property was: null \n"},{"result":{"nanos":58001,"millis":0.058001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62301,"millis":0.062301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":403004,"millis":0.403004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62401,"millis":0.062401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423004,"millis":0.423004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68001,"millis":0.068001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126301,"millis":0.126301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20301,"millis":0.020301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64401,"millis":0.064401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852203099,"millis":852.203099,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1015811,"millis":1.015811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":824009,"millis":0.824009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":790508,"millis":0.790508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":833608,"millis":0.833608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":953210,"millis":0.95321,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":962511,"millis":0.962511,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":680308,"millis":0.680308,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":655907,"millis":0.655907,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":797509,"millis":0.797509,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":4266046,"millis":4.266046,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":562106,"millis":0.562106,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.044 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":715608,"millis":0.715608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":433504,"millis":0.433504,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.045 [print] #notpresent \n"},{"result":{"nanos":1713418,"millis":1.713418,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":500206,"millis":0.500206,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.047 [print] OGC:WMS \n"},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":437805,"millis":0.437805,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.048 [print] #notpresent \n"},{"result":{"nanos":837109,"millis":0.837109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":444605,"millis":0.444605,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.049 [print] RIVM \n"},{"result":{"nanos":606607,"millis":0.606607,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.050 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":1505916,"millis":1.505916,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1177913,"millis":1.177913,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":658207,"millis":0.658207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.113745,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"755d488b-7b94-4883-95be-6aa279604f85","startTime":1639198818177,"refId":"[1.35:67]","endTime":1639198819053,"exampleData":{"datasetIdentifierCode":"755d488b-7b94-4883-95be-6aa279604f85"},"exampleIndex":34},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.257 karate.env system property was: null \n"},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63001,"millis":0.063001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71101,"millis":0.071101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":371303,"millis":0.371303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67200,"millis":0.0672,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":446005,"millis":0.446005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103101,"millis":0.103101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31101,"millis":0.031101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":111501,"millis":0.111501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852803309,"millis":852.803309,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1203213,"millis":1.203213,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":821609,"millis":0.821609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":764109,"millis":0.764109,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":927210,"millis":0.92721,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":855709,"millis":0.855709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1097212,"millis":1.097212,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75801,"millis":0.075801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1307614,"millis":1.307614,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":741808,"millis":0.741808,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":922110,"millis":0.92211,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":185102,"millis":0.185102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1091512,"millis":1.091512,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.122 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":734508,"millis":0.734508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":107702,"millis":0.107702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.123 [print] #notpresent \n"},{"result":{"nanos":716807,"millis":0.716807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":92301,"millis":0.092301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.124 [print] OGC:WMS \n"},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101301,"millis":0.101301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.124 [print] #notpresent \n"},{"result":{"nanos":790209,"millis":0.790209,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97301,"millis":0.097301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.125 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":109501,"millis":0.109501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.125 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":755808,"millis":0.755808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3940842,"millis":3.940842,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":970011,"millis":0.970011,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.773623,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"feeae7d3-7485-4a39-895c-ed65e945ced0","startTime":1639198818256,"refId":"[1.36:67]","endTime":1639198819131,"exampleData":{"datasetIdentifierCode":"feeae7d3-7485-4a39-895c-ed65e945ced0"},"exampleIndex":35},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.794 karate.env system property was: null \n"},{"result":{"nanos":42401,"millis":0.042401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62301,"millis":0.062301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":91201,"millis":0.091201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":418404,"millis":0.418404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":77201,"millis":0.077201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":3504538,"millis":3.504538,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":66101,"millis":0.066101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":315603,"millis":0.315603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":7101,"millis":0.007101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849894758,"millis":849.894758,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1073412,"millis":1.073412,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":780208,"millis":0.780208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":688508,"millis":0.688508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1230313,"millis":1.230313,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":853910,"millis":0.85391,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":790508,"millis":0.790508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40201,"millis":0.040201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":628807,"millis":0.628807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":589506,"millis":0.589506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":599807,"millis":0.599807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110701,"millis":0.110701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":308304,"millis":0.308304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.657 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":766908,"millis":0.766908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":168702,"millis":0.168702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.658 [print] OGC:WFS \n"},{"result":{"nanos":860709,"millis":0.860709,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91601,"millis":0.091601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.659 [print] #notpresent \n"},{"result":{"nanos":534705,"millis":0.534705,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97702,"millis":0.097702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.660 [print] OGC:WFS \n"},{"result":{"nanos":701807,"millis":0.701807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93301,"millis":0.093301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.661 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":50701,"millis":0.050701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.661 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":668607,"millis":0.668607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":890109,"millis":0.890109,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":636107,"millis":0.636107,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.920955,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5be1b57b-2cac-4119-92eb-700346543d47","startTime":1639198818794,"refId":"[1.37:67]","endTime":1639198819663,"exampleData":{"datasetIdentifierCode":"5be1b57b-2cac-4119-92eb-700346543d47"},"exampleIndex":36},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:18.966 karate.env system property was: null \n"},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":486006,"millis":0.486006,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":453004,"millis":0.453004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":186602,"millis":0.186602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":116001,"millis":0.116001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":87301,"millis":0.087301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":877831759,"millis":877.831759,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1145612,"millis":1.145612,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":748808,"millis":0.748808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":742308,"millis":0.742308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":996011,"millis":0.996011,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":923710,"millis":0.92371,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":791109,"millis":0.791109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":810909,"millis":0.810909,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":763509,"millis":0.763509,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":692207,"millis":0.692207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":123702,"millis":0.123702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":470805,"millis":0.470805,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.855 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":757508,"millis":0.757508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":280503,"millis":0.280503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.856 [print] OGC:WFS \n"},{"result":{"nanos":744208,"millis":0.744208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":269302,"millis":0.269302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.857 [print] INSPIRE Atom \n"},{"result":{"nanos":84401,"millis":0.084401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":273903,"millis":0.273903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.857 [print] OGC:WFS \n"},{"result":{"nanos":851409,"millis":0.851409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":342104,"millis":0.342104,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.858 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":240302,"millis":0.240302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.859 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":1102012,"millis":1.102012,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1053911,"millis":1.053911,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":733808,"millis":0.733808,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":894.528836,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","startTime":1639198818966,"refId":"[1.38:67]","endTime":1639198819862,"exampleData":{"datasetIdentifierCode":"72f30ca1-3b80-4020-b9ed-301b1a88df39"},"exampleIndex":37},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.056 karate.env system property was: null \n"},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65301,"millis":0.065301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75801,"millis":0.075801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":434805,"millis":0.434805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96501,"millis":0.096501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423404,"millis":0.423404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88701,"millis":0.088701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858032046,"millis":858.032046,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1097812,"millis":1.097812,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":813709,"millis":0.813709,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":837609,"millis":0.837609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":17769491,"millis":17.769491,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1649317,"millis":1.649317,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":964410,"millis":0.96441,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":131802,"millis":0.131802,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":982210,"millis":0.98221,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":965910,"millis":0.96591,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1327314,"millis":1.327314,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":610906,"millis":0.610906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":469905,"millis":0.469905,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:19.944 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n"},{"result":{"nanos":942810,"millis":0.94281,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":411504,"millis":0.411504,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:19.945 [print] #notpresent \n"},{"result":{"nanos":780909,"millis":0.780909,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":439905,"millis":0.439905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:19.947 [print] OGC:WMS \n"},{"result":{"nanos":147501,"millis":0.147501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":378304,"millis":0.378304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:19.947 [print] #notpresent \n"},{"result":{"nanos":897210,"millis":0.89721,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":420804,"millis":0.420804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:19.949 [print] RIVM \n"},{"result":{"nanos":420005,"millis":0.420005,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:19.949 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":878409,"millis":0.878409,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":748308,"millis":0.748308,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":668307,"millis":0.668307,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":894.278631,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","startTime":1639198819055,"refId":"[1.39:67]","endTime":1639198819951,"exampleData":{"datasetIdentifierCode":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18"},"exampleIndex":38},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.134 karate.env system property was: null \n"},{"result":{"nanos":83201,"millis":0.083201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71801,"millis":0.071801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":79601,"millis":0.079601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":420505,"millis":0.420505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":482305,"millis":0.482305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51101,"millis":0.051101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":130601,"millis":0.130601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":100501,"millis":0.100501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854720710,"millis":854.72071,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1133412,"millis":1.133412,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":778108,"millis":0.778108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":814808,"millis":0.814808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":920209,"millis":0.920209,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1079611,"millis":1.079611,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1011811,"millis":1.011811,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":158302,"millis":0.158302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":790409,"millis":0.790409,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":837009,"millis":0.837009,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":746108,"millis":0.746108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":214902,"millis":0.214902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":648707,"millis":0.648707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.000 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":786009,"millis":0.786009,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":638707,"millis":0.638707,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.001 [print] OGC:WMS \n"},{"result":{"nanos":998311,"millis":0.998311,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":356103,"millis":0.356103,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.003 [print] #notpresent \n"},{"result":{"nanos":126901,"millis":0.126901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":214302,"millis":0.214302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.004 [print] OGC:WMS \n"},{"result":{"nanos":941311,"millis":0.941311,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":281003,"millis":0.281003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.005 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":288503,"millis":0.288503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.005 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":1133812,"millis":1.133812,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":768809,"millis":0.768809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":511705,"millis":0.511705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.5196,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"777f41ee-8269-4bbc-b0e4-f889c62be099","startTime":1639198819133,"refId":"[1.40:67]","endTime":1639198820008,"exampleData":{"datasetIdentifierCode":"777f41ee-8269-4bbc-b0e4-f889c62be099"},"exampleIndex":39},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.665 karate.env system property was: null \n"},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59001,"millis":0.059001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402104,"millis":0.402104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431105,"millis":0.431105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45801,"millis":0.045801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89301,"millis":0.089301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":83001,"millis":0.083001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":900361702,"millis":900.361702,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1288114,"millis":1.288114,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":857709,"millis":0.857709,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":829509,"millis":0.829509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":798608,"millis":0.798608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1031311,"millis":1.031311,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":938810,"millis":0.93881,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":120001,"millis":0.120001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":811309,"millis":0.811309,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":924610,"millis":0.92461,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":710508,"millis":0.710508,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":281903,"millis":0.281903,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":281003,"millis":0.281003,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.577 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":1400015,"millis":1.400015,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180002,"millis":0.180002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.578 [print] OGC:WFS \n"},{"result":{"nanos":1194313,"millis":1.194313,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":176002,"millis":0.176002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.580 [print] INSPIRE Atom \n"},{"result":{"nanos":256102,"millis":0.256102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":158401,"millis":0.158401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.580 [print] OGC:WFS \n"},{"result":{"nanos":928710,"millis":0.92871,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":235902,"millis":0.235902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.581 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":230503,"millis":0.230503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.582 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":857809,"millis":0.857809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":737908,"millis":0.737908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":500506,"millis":0.500506,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":917.454185,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a931e334-b752-4935-8a98-00eddc443789","startTime":1639198819665,"refId":"[1.41:67]","endTime":1639198820584,"exampleData":{"datasetIdentifierCode":"a931e334-b752-4935-8a98-00eddc443789"},"exampleIndex":40},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.864 karate.env system property was: null \n"},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61701,"millis":0.061701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71601,"millis":0.071601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":435904,"millis":0.435904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103801,"millis":0.103801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":441605,"millis":0.441605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":164102,"millis":0.164102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22201,"millis":0.022201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6801,"millis":0.006801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843686691,"millis":843.686691,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1406415,"millis":1.406415,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":832809,"millis":0.832809,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":789509,"millis":0.789509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":733008,"millis":0.733008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1173713,"millis":1.173713,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":947410,"millis":0.94741,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":127101,"millis":0.127101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":821109,"millis":0.821109,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":760908,"millis":0.760908,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":833409,"millis":0.833409,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":485105,"millis":0.485105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":361103,"millis":0.361103,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.719 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1184812,"millis":1.184812,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":337404,"millis":0.337404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.721 [print] INSPIRE Atom \n"},{"result":{"nanos":848709,"millis":0.848709,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":332003,"millis":0.332003,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.722 [print] #notpresent \n"},{"result":{"nanos":135002,"millis":0.135002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":346504,"millis":0.346504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.723 [print] INSPIRE Atom \n"},{"result":{"nanos":821909,"millis":0.821909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":335603,"millis":0.335603,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.724 [print] Beheer PDOK \n"},{"result":{"nanos":311804,"millis":0.311804,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.724 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":1045011,"millis":1.045011,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3837342,"millis":3.837342,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":486705,"millis":0.486705,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.539415,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","startTime":1639198819864,"refId":"[1.42:67]","endTime":1639198820730,"exampleData":{"datasetIdentifierCode":"0080a9ce-b836-45bc-8fdf-07dcbe97101d"},"exampleIndex":41},{"sectionIndex":0,"stepResults":[{"result":{"nanos":76400,"millis":0.0764,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:19.955 karate.env system property was: null \n"},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":230003,"millis":0.230003,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":171002,"millis":0.171002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":506705,"millis":0.506705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":212102,"millis":0.212102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":969911,"millis":0.969911,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":137501,"millis":0.137501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":458605,"millis":0.458605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73701,"millis":0.073701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":49501,"millis":0.049501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855797322,"millis":855.797322,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1121713,"millis":1.121713,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":727108,"millis":0.727108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":699307,"millis":0.699307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":850509,"millis":0.850509,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1052011,"millis":1.052011,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":980811,"millis":0.980811,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":715008,"millis":0.715008,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":671808,"millis":0.671808,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":728808,"millis":0.728808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":348403,"millis":0.348403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":273803,"millis":0.273803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.823 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":756608,"millis":0.756608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":276603,"millis":0.276603,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.824 [print] #notpresent \n"},{"result":{"nanos":732508,"millis":0.732508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":214103,"millis":0.214103,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.825 [print] OGC:WMS \n"},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":194202,"millis":0.194202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.825 [print] #notpresent \n"},{"result":{"nanos":875609,"millis":0.875609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":254103,"millis":0.254103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.826 [print] RIVM \n"},{"result":{"nanos":162202,"millis":0.162202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.826 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":1807619,"millis":1.807619,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":807909,"millis":0.807909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1485616,"millis":1.485616,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.767426,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","startTime":1639198819954,"refId":"[1.43:67]","endTime":1639198820830,"exampleData":{"datasetIdentifierCode":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda"},"exampleIndex":42},{"sectionIndex":0,"stepResults":[{"result":{"nanos":113301,"millis":0.113301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.011 karate.env system property was: null \n"},{"result":{"nanos":104401,"millis":0.104401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":226702,"millis":0.226702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":237202,"millis":0.237202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":548006,"millis":0.548006,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":237103,"millis":0.237103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":545406,"millis":0.545406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":146302,"millis":0.146302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":175402,"millis":0.175402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":66401,"millis":0.066401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33701,"millis":0.033701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":84501,"millis":0.084501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856695332,"millis":856.695332,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":990911,"millis":0.990911,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":713807,"millis":0.713807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":877409,"millis":0.877409,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":968711,"millis":0.968711,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":795808,"millis":0.795808,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":845610,"millis":0.84561,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":770909,"millis":0.770909,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":676907,"millis":0.676907,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":690908,"millis":0.690908,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97001,"millis":0.097001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134001,"millis":0.134001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:20.879 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":741408,"millis":0.741408,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95301,"millis":0.095301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:20.881 [print] OGC:WMS \n"},{"result":{"nanos":1198713,"millis":1.198713,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118101,"millis":0.118101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:20.882 [print] #notpresent \n"},{"result":{"nanos":406505,"millis":0.406505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":112501,"millis":0.112501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:20.883 [print] OGC:WMS \n"},{"result":{"nanos":1301514,"millis":1.301514,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102201,"millis":0.102201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:20.884 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":855309,"millis":0.855309,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:20.885 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":734808,"millis":0.734808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":932610,"millis":0.93261,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":638107,"millis":0.638107,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.26572,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"87a382da-c6dc-403c-a006-2379eb6daaa6","startTime":1639198820010,"refId":"[1.44:67]","endTime":1639198820887,"exampleData":{"datasetIdentifierCode":"87a382da-c6dc-403c-a006-2379eb6daaa6"},"exampleIndex":43},{"sectionIndex":0,"stepResults":[{"result":{"nanos":141801,"millis":0.141801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.587 karate.env system property was: null \n"},{"result":{"nanos":61501,"millis":0.061501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":167702,"millis":0.167702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":248303,"millis":0.248303,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":627707,"millis":0.627707,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":235902,"millis":0.235902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":637506,"millis":0.637506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":128701,"millis":0.128701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":221502,"millis":0.221502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":215602,"millis":0.215602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":96601,"millis":0.096601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":76501,"millis":0.076501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":51201,"millis":0.051201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d568785-efdd-429d-b491-56f785c3656a'"}},{"result":{"nanos":32101,"millis":0.032101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863549305,"millis":863.549305,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3200,"millis":0.0032,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":994410,"millis":0.99441,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'"}},{"result":{"nanos":807008,"millis":0.807008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1477416,"millis":1.477416,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":962111,"millis":0.962111,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2008322,"millis":2.008322,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":810109,"millis":0.810109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":762808,"millis":0.762808,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":713908,"millis":0.713908,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":886209,"millis":0.886209,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":575707,"millis":0.575707,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":218902,"millis":0.218902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.465 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1111912,"millis":1.111912,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127402,"millis":0.127402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.466 [print] OGC:WFS \n"},{"result":{"nanos":1714818,"millis":1.714818,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":133002,"millis":0.133002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.468 [print] #notpresent \n"},{"result":{"nanos":46101,"millis":0.046101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":414404,"millis":0.414404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.469 [print] OGC:WFS \n"},{"result":{"nanos":1282714,"millis":1.282714,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":103001,"millis":0.103001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.470 [print] Beheer PDOK \n"},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.470 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n"},{"result":{"nanos":1479416,"millis":1.479416,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1092212,"millis":1.092212,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":603507,"millis":0.603507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.995936,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1d568785-efdd-429d-b491-56f785c3656a","startTime":1639198820586,"refId":"[1.45:67]","endTime":1639198821473,"exampleData":{"datasetIdentifierCode":"1d568785-efdd-429d-b491-56f785c3656a"},"exampleIndex":44},{"sectionIndex":0,"stepResults":[{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.733 karate.env system property was: null \n"},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":161002,"millis":0.161002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":161202,"millis":0.161202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":573206,"millis":0.573206,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":211703,"millis":0.211703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1015011,"millis":1.015011,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":135301,"millis":0.135301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":308904,"millis":0.308904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":90301,"millis":0.090301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":87201,"millis":0.087201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31801,"millis":0.031801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1512b29e-80d4-4677-bcae-a3f9f82a223d'"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852252683,"millis":852.252683,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":955010,"millis":0.95501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1512b29e-80d4-4677-bcae-a3f9f82a223d'"}},{"result":{"nanos":888910,"millis":0.88891,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":829609,"millis":0.829609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":788209,"millis":0.788209,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":889809,"millis":0.889809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":971810,"millis":0.97181,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35501,"millis":0.035501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":851309,"millis":0.851309,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":594706,"millis":0.594706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":731507,"millis":0.731507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118901,"millis":0.118901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":143502,"millis":0.143502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.597 [print] https:\/\/service.pdok.nl\/brt\/top10nl\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1231213,"millis":1.231213,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":109401,"millis":0.109401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.598 [print] INSPIRE Atom \n"},{"result":{"nanos":1329415,"millis":1.329415,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":162402,"millis":0.162402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.600 [print] #notpresent \n"},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":484105,"millis":0.484105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.600 [print] INSPIRE Atom \n"},{"result":{"nanos":1192513,"millis":1.192513,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126901,"millis":0.126901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.602 [print] Beheer PDOK \n"},{"result":{"nanos":130101,"millis":0.130101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.602 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=29d5310f-dd0d-45ba-abad-b4ffc6b8785f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1523717,"millis":1.523717,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2141623,"millis":2.141623,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":597206,"millis":0.597206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1512b29e-80d4-4677-bcae-a3f9f82a223d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.180596,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1512b29e-80d4-4677-bcae-a3f9f82a223d","startTime":1639198820732,"refId":"[1.46:67]","endTime":1639198821606,"exampleData":{"datasetIdentifierCode":"1512b29e-80d4-4677-bcae-a3f9f82a223d"},"exampleIndex":45},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22601,"millis":0.022601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.834 karate.env system property was: null \n"},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65601,"millis":0.065601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":790409,"millis":0.790409,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126701,"millis":0.126701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":441505,"millis":0.441505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68901,"millis":0.068901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93901,"millis":0.093901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20201,"millis":0.020201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":74901,"millis":0.074901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862782897,"millis":862.782897,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1162813,"millis":1.162813,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":753508,"millis":0.753508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":661507,"millis":0.661507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":680308,"millis":0.680308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":884309,"millis":0.884309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":919410,"millis":0.91941,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33201,"millis":0.033201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":705508,"millis":0.705508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":661007,"millis":0.661007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":659907,"millis":0.659907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83601,"millis":0.083601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":182502,"millis":0.182502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.707 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":636007,"millis":0.636007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74301,"millis":0.074301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.708 [print] #notpresent \n"},{"result":{"nanos":699508,"millis":0.699508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108901,"millis":0.108901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.709 [print] OGC:WFS \n"},{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.709 [print] #notpresent \n"},{"result":{"nanos":895409,"millis":0.895409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126302,"millis":0.126302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.710 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":91301,"millis":0.091301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.710 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1043011,"millis":1.043011,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":851610,"millis":0.85161,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":458805,"millis":0.458805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.157056,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","startTime":1639198820834,"refId":"[1.47:67]","endTime":1639198821712,"exampleData":{"datasetIdentifierCode":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e"},"exampleIndex":46},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53501,"millis":0.053501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:20.890 karate.env system property was: null \n"},{"result":{"nanos":72301,"millis":0.072301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":94401,"millis":0.094401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80401,"millis":0.080401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":396604,"millis":0.396604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470705,"millis":0.470705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47801,"millis":0.047801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69201,"millis":0.069201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dc9fbc85-1263-4a1b-b001-7be701a6039e'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873503713,"millis":873.503713,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1127612,"millis":1.127612,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dc9fbc85-1263-4a1b-b001-7be701a6039e'"}},{"result":{"nanos":780509,"millis":0.780509,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":677307,"millis":0.677307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":659007,"millis":0.659007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":812908,"millis":0.812908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":714007,"millis":0.714007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33101,"millis":0.033101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":720308,"millis":0.720308,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":732308,"millis":0.732308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":714108,"millis":0.714108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":282003,"millis":0.282003,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:21.773 [print] https:\/\/service.pdok.nl\/kadaster\/plu\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":619907,"millis":0.619907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":234103,"millis":0.234103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:21.774 [print] INSPIRE Atom \n"},{"result":{"nanos":621306,"millis":0.621306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":197602,"millis":0.197602,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:21.775 [print] #notpresent \n"},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":203903,"millis":0.203903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:21.775 [print] INSPIRE Atom \n"},{"result":{"nanos":731908,"millis":0.731908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":236602,"millis":0.236602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:21.776 [print] Beheer PDOK \n"},{"result":{"nanos":148302,"millis":0.148302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:21.776 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n"},{"result":{"nanos":694908,"millis":0.694908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":763308,"millis":0.763308,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":5364058,"millis":5.364058,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dc9fbc85-1263-4a1b-b001-7be701a6039e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.220716,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"dc9fbc85-1263-4a1b-b001-7be701a6039e","startTime":1639198820890,"refId":"[1.48:67]","endTime":1639198821784,"exampleData":{"datasetIdentifierCode":"dc9fbc85-1263-4a1b-b001-7be701a6039e"},"exampleIndex":47},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19801,"millis":0.019801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.476 karate.env system property was: null \n"},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58601,"millis":0.058601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":404404,"millis":0.404404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":81901,"millis":0.081901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":675107,"millis":0.675107,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":64101,"millis":0.064101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":165202,"millis":0.165202,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864035810,"millis":864.03581,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1110812,"millis":1.110812,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":742908,"millis":0.742908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":748708,"millis":0.748708,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":714608,"millis":0.714608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":884509,"millis":0.884509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":766908,"millis":0.766908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":758908,"millis":0.758908,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":720608,"millis":0.720608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":761308,"millis":0.761308,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94901,"millis":0.094901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":225403,"millis":0.225403,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.350 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":1734019,"millis":1.734019,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":101801,"millis":0.101801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.352 [print] #notpresent \n"},{"result":{"nanos":864509,"millis":0.864509,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":119502,"millis":0.119502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.353 [print] OGC:WMS \n"},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":79301,"millis":0.079301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.353 [print] #notpresent \n"},{"result":{"nanos":768709,"millis":0.768709,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":110701,"millis":0.110701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.354 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":90501,"millis":0.090501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.354 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":862709,"millis":0.862709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1215413,"millis":1.215413,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":607707,"millis":0.607707,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.907781,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","startTime":1639198821476,"refId":"[1.49:67]","endTime":1639198822357,"exampleData":{"datasetIdentifierCode":"82fa284e-8218-40e4-a593-c2f8a832c3d5"},"exampleIndex":48},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.609 karate.env system property was: null \n"},{"result":{"nanos":39101,"millis":0.039101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367903,"millis":0.367903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108601,"millis":0.108601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470405,"millis":0.470405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46301,"millis":0.046301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64001,"millis":0.064001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66401,"millis":0.066401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847919037,"millis":847.919037,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1193913,"millis":1.193913,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":837809,"millis":0.837809,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":670607,"millis":0.670607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":763708,"millis":0.763708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1017311,"millis":1.017311,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":740308,"millis":0.740308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49001,"millis":0.049001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":642907,"millis":0.642907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":733808,"millis":0.733808,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":734408,"millis":0.734408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127202,"millis":0.127202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":191602,"millis":0.191602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.467 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":682307,"millis":0.682307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113601,"millis":0.113601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.468 [print] INSPIRE Atom \n"},{"result":{"nanos":995511,"millis":0.995511,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":109301,"millis":0.109301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.469 [print] #notpresent \n"},{"result":{"nanos":75100,"millis":0.0751,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":501306,"millis":0.501306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.470 [print] INSPIRE Atom \n"},{"result":{"nanos":1117112,"millis":1.117112,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":111201,"millis":0.111201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.471 [print] Beheer PDOK \n"},{"result":{"nanos":684507,"millis":0.684507,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.472 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":3626739,"millis":3.626739,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":876210,"millis":0.87621,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":530206,"millis":0.530206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.459337,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","startTime":1639198821608,"refId":"[1.50:67]","endTime":1639198822477,"exampleData":{"datasetIdentifierCode":"e222648d-d19e-4a99-a67d-2af1c9aabd75"},"exampleIndex":49},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.715 karate.env system property was: null \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":114702,"millis":0.114702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103901,"millis":0.103901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":480705,"millis":0.480705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65101,"millis":0.065101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":456605,"millis":0.456605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":157001,"millis":0.157001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":78501,"millis":0.078501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858701853,"millis":858.701853,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1165213,"millis":1.165213,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":929110,"millis":0.92911,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":820309,"millis":0.820309,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":805809,"millis":0.805809,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":960410,"millis":0.96041,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1087511,"millis":1.087511,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39301,"millis":0.039301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":790109,"millis":0.790109,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":719507,"millis":0.719507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":739208,"millis":0.739208,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108101,"millis":0.108101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":511405,"millis":0.511405,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.585 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n"},{"result":{"nanos":791308,"millis":0.791308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":294803,"millis":0.294803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.586 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":781008,"millis":0.781008,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":295003,"millis":0.295003,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.587 [print] #notpresent \n"},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":309704,"millis":0.309704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.587 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":892809,"millis":0.892809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":343204,"millis":0.343204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.588 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":359104,"millis":0.359104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.589 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":830209,"millis":0.830209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":6012765,"millis":6.012765,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":761609,"millis":0.761609,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.737789,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","startTime":1639198821714,"refId":"[1.51:67]","endTime":1639198822596,"exampleData":{"datasetIdentifierCode":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e"},"exampleIndex":50},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:21.792 karate.env system property was: null \n"},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":93601,"millis":0.093601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87901,"millis":0.087901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":629207,"millis":0.629207,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":482005,"millis":0.482005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51001,"millis":0.051001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97001,"millis":0.097001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37201,"millis":0.037201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":573907,"millis":0.573907,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851560376,"millis":851.560376,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3601,"millis":0.003601,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1050411,"millis":1.050411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":794009,"millis":0.794009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":761008,"millis":0.761008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":777808,"millis":0.777808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":899509,"millis":0.899509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":770009,"millis":0.770009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":910510,"millis":0.91051,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":844809,"millis":0.844809,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":774708,"millis":0.774708,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":679907,"millis":0.679907,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":754808,"millis":0.754808,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:22.656 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":774608,"millis":0.774608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":531806,"millis":0.531806,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:22.657 [print] #notpresent \n"},{"result":{"nanos":798409,"millis":0.798409,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":450205,"millis":0.450205,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:22.658 [print] OGC:WFS \n"},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":410004,"millis":0.410004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:22.659 [print] #notpresent \n"},{"result":{"nanos":832608,"millis":0.832608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":486205,"millis":0.486205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:22.660 [print] RIVM \n"},{"result":{"nanos":831209,"millis":0.831209,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:22.661 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":864809,"millis":0.864809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":941210,"millis":0.94121,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":518105,"millis":0.518105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.405777,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","startTime":1639198821790,"refId":"[1.52:67]","endTime":1639198822664,"exampleData":{"datasetIdentifierCode":"b4485d59-a945-4940-a2f5-3ce7de6a947b"},"exampleIndex":51},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.360 karate.env system property was: null \n"},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90101,"millis":0.090101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374404,"millis":0.374404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61401,"millis":0.061401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":477705,"millis":0.477705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":70801,"millis":0.070801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111801,"millis":0.111801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19401,"millis":0.019401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9400,"millis":0.0094,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":75601,"millis":0.075601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854855711,"millis":854.855711,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1161012,"millis":1.161012,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":848010,"millis":0.84801,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1097112,"millis":1.097112,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":851309,"millis":0.851309,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":841409,"millis":0.841409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":761809,"millis":0.761809,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":598207,"millis":0.598207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":600606,"millis":0.600606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":22222639,"millis":22.222639,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":434105,"millis":0.434105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":257303,"millis":0.257303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.247 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":806509,"millis":0.806509,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":161902,"millis":0.161902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.248 [print] OGC:WFS \n"},{"result":{"nanos":1092512,"millis":1.092512,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":214702,"millis":0.214702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.249 [print] #notpresent \n"},{"result":{"nanos":124002,"millis":0.124002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":171402,"millis":0.171402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.250 [print] OGC:WFS \n"},{"result":{"nanos":895609,"millis":0.895609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":155902,"millis":0.155902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.251 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":180602,"millis":0.180602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.251 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":755008,"millis":0.755008,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":612707,"millis":0.612707,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":503405,"millis":0.503405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.73041,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","startTime":1639198822359,"refId":"[1.53:67]","endTime":1639198823253,"exampleData":{"datasetIdentifierCode":"76342a6d-452e-4e21-b5c0-81ff7b1be90e"},"exampleIndex":52},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.481 karate.env system property was: null \n"},{"result":{"nanos":45901,"millis":0.045901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":115201,"millis":0.115201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":490105,"millis":0.490105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":82601,"millis":0.082601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":572406,"millis":0.572406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":119701,"millis":0.119701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":338404,"millis":0.338404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":874742126,"millis":874.742126,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1100912,"millis":1.100912,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":858810,"millis":0.85881,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":787308,"millis":0.787308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":907409,"millis":0.907409,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1308815,"millis":1.308815,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":903609,"millis":0.903609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":128001,"millis":0.128001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":837109,"millis":0.837109,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":790608,"millis":0.790608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":854410,"millis":0.85441,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":785208,"millis":0.785208,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":752008,"millis":0.752008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.368 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1071211,"millis":1.071211,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":540806,"millis":0.540806,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.370 [print] #notpresent \n"},{"result":{"nanos":883010,"millis":0.88301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":250803,"millis":0.250803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.371 [print] OGC:WMS \n"},{"result":{"nanos":281603,"millis":0.281603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":186402,"millis":0.186402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.372 [print] #notpresent \n"},{"result":{"nanos":1014811,"millis":1.014811,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":193902,"millis":0.193902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.373 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":528306,"millis":0.528306,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.374 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1304114,"millis":1.304114,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":630607,"millis":0.630607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":617007,"millis":0.617007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":894.288535,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","startTime":1639198822480,"refId":"[1.54:67]","endTime":1639198823376,"exampleData":{"datasetIdentifierCode":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE"},"exampleIndex":53},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.600 karate.env system property was: null \n"},{"result":{"nanos":57601,"millis":0.057601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92801,"millis":0.092801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":469205,"millis":0.469205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":552706,"millis":0.552706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":71101,"millis":0.071101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":326703,"millis":0.326703,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22401,"millis":0.022401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":103901,"millis":0.103901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":880325686,"millis":880.325686,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1653418,"millis":1.653418,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":777809,"millis":0.777809,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":717407,"millis":0.717407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":721907,"millis":0.721907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":994511,"millis":0.994511,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1187713,"millis":1.187713,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":121702,"millis":0.121702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":745308,"millis":0.745308,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":854909,"millis":0.854909,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":723408,"millis":0.723408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":6995776,"millis":6.995776,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1315414,"millis":1.315414,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.500 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n"},{"result":{"nanos":841809,"millis":0.841809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":576806,"millis":0.576806,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.501 [print] #notpresent \n"},{"result":{"nanos":813509,"millis":0.813509,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":678307,"millis":0.678307,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.503 [print] OGC:SOS \n"},{"result":{"nanos":170302,"millis":0.170302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1055012,"millis":1.055012,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.504 [print] #notpresent \n"},{"result":{"nanos":927610,"millis":0.92761,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":556206,"millis":0.556206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.506 [print] RIVM \n"},{"result":{"nanos":2479527,"millis":2.479527,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.508 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n"},{"result":{"nanos":888910,"millis":0.88891,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":872509,"millis":0.872509,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":739407,"millis":0.739407,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":909.651802,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","startTime":1639198822600,"refId":"[1.55:67]","endTime":1639198823511,"exampleData":{"datasetIdentifierCode":"f39d198a-1e69-43cc-b359-cc60a8c22d28"},"exampleIndex":54},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21601,"millis":0.021601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:22.674 karate.env system property was: null \n"},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63101,"millis":0.063101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":489805,"millis":0.489805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":76501,"millis":0.076501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419105,"millis":0.419105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75801,"millis":0.075801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":420105,"millis":0.420105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":94301,"millis":0.094301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870229777,"millis":870.229777,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1270513,"millis":1.270513,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":778308,"millis":0.778308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":780609,"millis":0.780609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":805508,"millis":0.805508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1079711,"millis":1.079711,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":895610,"millis":0.89561,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":123502,"millis":0.123502,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":843309,"millis":0.843309,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":803509,"millis":0.803509,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":939810,"millis":0.93981,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":983711,"millis":0.983711,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":843109,"millis":0.843109,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:23.557 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":825309,"millis":0.825309,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":542106,"millis":0.542106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:23.558 [print] #notpresent \n"},{"result":{"nanos":843310,"millis":0.84331,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":576806,"millis":0.576806,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:23.560 [print] #notpresent \n"},{"result":{"nanos":123001,"millis":0.123001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":533506,"millis":0.533506,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:23.560 [print] #notpresent \n"},{"result":{"nanos":807509,"millis":0.807509,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":572806,"millis":0.572806,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:23.562 [print] KNMI \n"},{"result":{"nanos":724708,"millis":0.724708,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:23.562 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":881410,"millis":0.88141,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":617207,"millis":0.617207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":680007,"millis":0.680007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":889.948892,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","startTime":1639198822673,"refId":"[1.56:67]","endTime":1639198823565,"exampleData":{"datasetIdentifierCode":"1009c2a4-4dba-49a5-b643-914ba8b80b52"},"exampleIndex":55},{"sectionIndex":0,"stepResults":[{"result":{"nanos":75001,"millis":0.075001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.265 karate.env system property was: null \n"},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":201503,"millis":0.201503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":192402,"millis":0.192402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":521606,"millis":0.521606,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":180202,"millis":0.180202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1377015,"millis":1.377015,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":150601,"millis":0.150601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":709108,"millis":0.709108,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":77701,"millis":0.077701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":99701,"millis":0.099701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":60901,"millis":0.060901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":879975983,"millis":879.975983,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1121312,"millis":1.121312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":1047312,"millis":1.047312,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":719108,"millis":0.719108,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":705007,"millis":0.705007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1172713,"millis":1.172713,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1130112,"millis":1.130112,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":122701,"millis":0.122701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":892410,"millis":0.89241,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":924610,"millis":0.92461,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":773108,"millis":0.773108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92601,"millis":0.092601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1115612,"millis":1.115612,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.173 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":858310,"millis":0.85831,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":132001,"millis":0.132001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.174 [print] #notpresent \n"},{"result":{"nanos":1139713,"millis":1.139713,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":194902,"millis":0.194902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.176 [print] #notpresent \n"},{"result":{"nanos":400004,"millis":0.400004,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121702,"millis":0.121702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.176 [print] #notpresent \n"},{"result":{"nanos":1236213,"millis":1.236213,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131002,"millis":0.131002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.178 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":468205,"millis":0.468205,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.178 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1539817,"millis":1.539817,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":792408,"millis":0.792408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":536806,"millis":0.536806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":901.209314,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c1fb5983-5642-4334-962a-a341cef8c8ff","startTime":1639198823264,"refId":"[1.57:67]","endTime":1639198824181,"exampleData":{"datasetIdentifierCode":"c1fb5983-5642-4334-962a-a341cef8c8ff"},"exampleIndex":56},{"sectionIndex":0,"stepResults":[{"result":{"nanos":71801,"millis":0.071801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.380 karate.env system property was: null \n"},{"result":{"nanos":52200,"millis":0.0522,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":168601,"millis":0.168601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":253803,"millis":0.253803,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":674908,"millis":0.674908,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":176002,"millis":0.176002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":721308,"millis":0.721308,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":121301,"millis":0.121301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":536606,"millis":0.536606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":72601,"millis":0.072601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32901,"millis":0.032901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0d7ca7bc-99de-4539-af33-70b206f29355'"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":48001,"millis":0.048001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846390620,"millis":846.39062,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4301,"millis":0.004301,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1051211,"millis":1.051211,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d7ca7bc-99de-4539-af33-70b206f29355'"}},{"result":{"nanos":711408,"millis":0.711408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":631807,"millis":0.631807,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":643207,"millis":0.643207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1171713,"millis":1.171713,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":882109,"millis":0.882109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":50901,"millis":0.050901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":649107,"millis":0.649107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":628707,"millis":0.628707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":569606,"millis":0.569606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127902,"millis":0.127902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":361004,"millis":0.361004,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.237 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":704107,"millis":0.704107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143101,"millis":0.143101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.238 [print] INSPIRE Atom \n"},{"result":{"nanos":624907,"millis":0.624907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112602,"millis":0.112602,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.239 [print] #notpresent \n"},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":115901,"millis":0.115901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.239 [print] INSPIRE Atom \n"},{"result":{"nanos":703007,"millis":0.703007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126002,"millis":0.126002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.240 [print] Beheer PDOK \n"},{"result":{"nanos":95701,"millis":0.095701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.240 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":1511216,"millis":1.511216,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":818108,"millis":0.818108,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":545906,"millis":0.545906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0d7ca7bc-99de-4539-af33-70b206f29355\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.492494,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0d7ca7bc-99de-4539-af33-70b206f29355","startTime":1639198823379,"refId":"[1.58:67]","endTime":1639198824243,"exampleData":{"datasetIdentifierCode":"0d7ca7bc-99de-4539-af33-70b206f29355"},"exampleIndex":57},{"sectionIndex":0,"stepResults":[{"result":{"nanos":73001,"millis":0.073001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.514 karate.env system property was: null \n"},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":197203,"millis":0.197203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":192802,"millis":0.192802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":506805,"millis":0.506805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":183301,"millis":0.183301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":523605,"millis":0.523605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":118202,"millis":0.118202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":531105,"millis":0.531105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48201,"millis":0.048201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35701,"millis":0.035701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35101,"millis":0.035101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854574509,"millis":854.574509,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1040711,"millis":1.040711,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":786309,"millis":0.786309,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":877810,"millis":0.87781,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":800208,"millis":0.800208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":842310,"millis":0.84231,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":737308,"millis":0.737308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":872910,"millis":0.87291,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":783009,"millis":0.783009,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":760008,"millis":0.760008,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":169502,"millis":0.169502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":211803,"millis":0.211803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.380 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":743108,"millis":0.743108,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93101,"millis":0.093101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.381 [print] #notpresent \n"},{"result":{"nanos":696408,"millis":0.696408,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":208702,"millis":0.208702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.382 [print] INSPIRE Atom \n"},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.382 [print] #notpresent \n"},{"result":{"nanos":846909,"millis":0.846909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":168002,"millis":0.168002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.383 [print] Beheer PDOK \n"},{"result":{"nanos":101701,"millis":0.101701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.383 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":688408,"millis":0.688408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":918810,"millis":0.91881,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":570906,"millis":0.570906,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.38598,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"66805d91-a5f6-4265-bd36-ef13a429c97e","startTime":1639198823513,"refId":"[1.59:67]","endTime":1639198824386,"exampleData":{"datasetIdentifierCode":"66805d91-a5f6-4265-bd36-ef13a429c97e"},"exampleIndex":58},{"sectionIndex":0,"stepResults":[{"result":{"nanos":118601,"millis":0.118601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:23.568 karate.env system property was: null \n"},{"result":{"nanos":63101,"millis":0.063101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":199702,"millis":0.199702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":175302,"millis":0.175302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":476705,"millis":0.476705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":166902,"millis":0.166902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":554506,"millis":0.554506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":122702,"millis":0.122702,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":587706,"millis":0.587706,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":79201,"millis":0.079201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":99601,"millis":0.099601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":37601,"millis":0.037601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":35401,"millis":0.035401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857312538,"millis":857.312538,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":835009,"millis":0.835009,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":731608,"millis":0.731608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":685107,"millis":0.685107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":575407,"millis":0.575407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":644507,"millis":0.644507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":609806,"millis":0.609806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":529806,"millis":0.529806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":529906,"millis":0.529906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":577906,"millis":0.577906,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96701,"millis":0.096701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":174402,"millis":0.174402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:24.435 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":989410,"millis":0.98941,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":138701,"millis":0.138701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:24.436 [print] INSPIRE Atom \n"},{"result":{"nanos":827409,"millis":0.827409,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122202,"millis":0.122202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:24.437 [print] #notpresent \n"},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":261703,"millis":0.261703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:24.438 [print] INSPIRE Atom \n"},{"result":{"nanos":752008,"millis":0.752008,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140301,"millis":0.140301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:24.439 [print] Beheer PDOK \n"},{"result":{"nanos":137002,"millis":0.137002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:24.439 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":713607,"millis":0.713607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":823208,"millis":0.823208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":415104,"millis":0.415104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.550389,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","startTime":1639198823567,"refId":"[1.60:67]","endTime":1639198824441,"exampleData":{"datasetIdentifierCode":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9"},"exampleIndex":59},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.183 karate.env system property was: null \n"},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74600,"millis":0.0746,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77401,"millis":0.077401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":415205,"millis":0.415205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57401,"millis":0.057401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":529305,"millis":0.529305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85201,"millis":0.085201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32801,"millis":0.032801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":357004,"millis":0.357004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862144690,"millis":862.14469,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1000911,"millis":1.000911,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":1147312,"millis":1.147312,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":905710,"millis":0.90571,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":725708,"millis":0.725708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":906210,"millis":0.90621,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":6414369,"millis":6.414369,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1350815,"millis":1.350815,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":727108,"millis":0.727108,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":792508,"millis":0.792508,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1052112,"millis":1.052112,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":689707,"millis":0.689707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.064 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":930310,"millis":0.93031,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":497506,"millis":0.497506,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.066 [print] #notpresent \n"},{"result":{"nanos":851209,"millis":0.851209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":463105,"millis":0.463105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.067 [print] OGC:WFS \n"},{"result":{"nanos":55201,"millis":0.055201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":435705,"millis":0.435705,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.068 [print] #notpresent \n"},{"result":{"nanos":883109,"millis":0.883109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":589106,"millis":0.589106,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.069 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":784308,"millis":0.784308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.070 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":872809,"millis":0.872809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":838909,"millis":0.838909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":495406,"millis":0.495406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.417262,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"68505be5-45c4-4889-a82a-125043bbdc44","startTime":1639198824183,"refId":"[1.61:67]","endTime":1639198825072,"exampleData":{"datasetIdentifierCode":"68505be5-45c4-4889-a82a-125043bbdc44"},"exampleIndex":60},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.246 karate.env system property was: null \n"},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62301,"millis":0.062301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69201,"millis":0.069201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":440705,"millis":0.440705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417704,"millis":0.417704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":484805,"millis":0.484805,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63001,"millis":0.063001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":839204243,"millis":839.204243,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1126312,"millis":1.126312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":1002011,"millis":1.002011,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":873610,"millis":0.87361,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":864709,"millis":0.864709,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":830109,"millis":0.830109,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":862910,"millis":0.86291,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":695308,"millis":0.695308,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":845609,"millis":0.845609,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":701707,"millis":0.701707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":185002,"millis":0.185002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":636507,"millis":0.636507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.096 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":839009,"millis":0.839009,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":448505,"millis":0.448505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.098 [print] OGC:WMS \n"},{"result":{"nanos":774708,"millis":0.774708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":519605,"millis":0.519605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.099 [print] #notpresent \n"},{"result":{"nanos":88601,"millis":0.088601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":478505,"millis":0.478505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.099 [print] OGC:WMS \n"},{"result":{"nanos":795508,"millis":0.795508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":476905,"millis":0.476905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.101 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":699907,"millis":0.699907,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.101 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":858510,"millis":0.85851,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":849309,"millis":0.849309,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1224613,"millis":1.224613,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.697342,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","startTime":1639198824245,"refId":"[1.62:67]","endTime":1639198825104,"exampleData":{"datasetIdentifierCode":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7"},"exampleIndex":61},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.388 karate.env system property was: null \n"},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64401,"millis":0.064401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110701,"millis":0.110701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":373104,"millis":0.373104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":540006,"millis":0.540006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85301,"millis":0.085301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":124502,"millis":0.124502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38501,"millis":0.038501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":151902,"millis":0.151902,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856104725,"millis":856.104725,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2096322,"millis":2.096322,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":816908,"millis":0.816908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":783408,"millis":0.783408,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":923510,"millis":0.92351,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1270714,"millis":1.270714,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1133912,"millis":1.133912,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":927110,"millis":0.92711,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":829509,"millis":0.829509,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1139213,"millis":1.139213,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":288103,"millis":0.288103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1251913,"millis":1.251913,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.259 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1105912,"millis":1.105912,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":775308,"millis":0.775308,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.261 [print] #notpresent \n"},{"result":{"nanos":1194113,"millis":1.194113,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":723108,"millis":0.723108,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.262 [print] INSPIRE Atom \n"},{"result":{"nanos":120001,"millis":0.120001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":601806,"millis":0.601806,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.263 [print] #notpresent \n"},{"result":{"nanos":820909,"millis":0.820909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":467905,"millis":0.467905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.265 [print] Beheer PDOK \n"},{"result":{"nanos":888010,"millis":0.88801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.265 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":915210,"millis":0.91521,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1358815,"millis":1.358815,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":489805,"millis":0.489805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.714969,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0898d4a9-8fe6-46e9-8855-1242d8028970","startTime":1639198824388,"refId":"[1.63:67]","endTime":1639198825268,"exampleData":{"datasetIdentifierCode":"0898d4a9-8fe6-46e9-8855-1242d8028970"},"exampleIndex":62},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:24.443 karate.env system property was: null \n"},{"result":{"nanos":35401,"millis":0.035401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":172702,"millis":0.172702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":365303,"millis":0.365303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411905,"millis":0.411905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93301,"millis":0.093301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858481751,"millis":858.481751,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":21200,"millis":0.0212,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1049212,"millis":1.049212,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":795208,"millis":0.795208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716207,"millis":0.716207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1713119,"millis":1.713119,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":840009,"millis":0.840009,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":720708,"millis":0.720708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":619606,"millis":0.619606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":603707,"millis":0.603707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":645507,"millis":0.645507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110601,"millis":0.110601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1031712,"millis":1.031712,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:25.312 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n"},{"result":{"nanos":699007,"millis":0.699007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93601,"millis":0.093601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:25.313 [print] OGC:WMS \n"},{"result":{"nanos":1013811,"millis":1.013811,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113101,"millis":0.113101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:25.314 [print] #notpresent \n"},{"result":{"nanos":421805,"millis":0.421805,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":394504,"millis":0.394504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:25.315 [print] OGC:WMS \n"},{"result":{"nanos":717808,"millis":0.717808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96601,"millis":0.096601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:25.316 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":628407,"millis":0.628407,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:25.316 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":789108,"millis":0.789108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":754108,"millis":0.754108,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1110512,"millis":1.110512,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.571833,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"17ad94f6-4961-448b-a6f5-5368b7870409","startTime":1639198824443,"refId":"[1.64:67]","endTime":1639198825320,"exampleData":{"datasetIdentifierCode":"17ad94f6-4961-448b-a6f5-5368b7870409"},"exampleIndex":63},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.075 karate.env system property was: null \n"},{"result":{"nanos":37901,"millis":0.037901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":80701,"millis":0.080701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":398804,"millis":0.398804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52701,"millis":0.052701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":418704,"millis":0.418704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85801,"millis":0.085801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":115301,"millis":0.115301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":973632792,"millis":973.632792,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1017411,"millis":1.017411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":956511,"millis":0.956511,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":847209,"millis":0.847209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1549417,"millis":1.549417,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":981111,"millis":0.981111,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1064711,"millis":1.064711,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95201,"millis":0.095201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":754308,"millis":0.754308,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":710108,"millis":0.710108,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":726008,"millis":0.726008,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":183302,"millis":0.183302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1292214,"millis":1.292214,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.061 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1013611,"millis":1.013611,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":163902,"millis":0.163902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.063 [print] #notpresent \n"},{"result":{"nanos":939510,"millis":0.93951,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":203202,"millis":0.203202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.064 [print] INSPIRE Atom \n"},{"result":{"nanos":62701,"millis":0.062701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":143001,"millis":0.143001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.065 [print] #notpresent \n"},{"result":{"nanos":1009311,"millis":1.009311,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":198702,"millis":0.198702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.067 [print] Beheer PDOK \n"},{"result":{"nanos":1417816,"millis":1.417816,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.067 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":850409,"millis":0.850409,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":993111,"millis":0.993111,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":754208,"millis":0.754208,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":992.968301,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","startTime":1639198825075,"refId":"[1.65:67]","endTime":1639198826071,"exampleData":{"datasetIdentifierCode":"c21c6bf5-8899-4b46-8986-0f65eca05ed0"},"exampleIndex":64},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.107 karate.env system property was: null \n"},{"result":{"nanos":58201,"millis":0.058201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68601,"millis":0.068601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90101,"millis":0.090101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":507606,"millis":0.507606,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61901,"millis":0.061901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":896709,"millis":0.896709,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":86801,"millis":0.086801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":418404,"millis":0.418404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":98301,"millis":0.098301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":979652756,"millis":979.652756,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1070411,"millis":1.070411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":983911,"millis":0.983911,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":934710,"millis":0.93471,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":877410,"millis":0.87741,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1007411,"millis":1.007411,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1084112,"millis":1.084112,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":730008,"millis":0.730008,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":702008,"millis":0.702008,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":734808,"millis":0.734808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":156202,"millis":0.156202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":156202,"millis":0.156202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.098 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms?request=GetCapabilities \n"},{"result":{"nanos":1158112,"millis":1.158112,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":106801,"millis":0.106801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.100 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1010911,"millis":1.010911,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96801,"millis":0.096801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.101 [print] #notpresent \n"},{"result":{"nanos":323803,"millis":0.323803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86101,"millis":0.086101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.101 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1152113,"millis":1.152113,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":152002,"millis":0.152002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.103 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":1509916,"millis":1.509916,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.104 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n"},{"result":{"nanos":826509,"millis":0.826509,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1072511,"millis":1.072511,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":696308,"millis":0.696308,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":998.735862,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"49ff0584-a173-4098-824c-119edf8447f7","startTime":1639198825107,"refId":"[1.66:67]","endTime":1639198826107,"exampleData":{"datasetIdentifierCode":"49ff0584-a173-4098-824c-119edf8447f7"},"exampleIndex":65},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21001,"millis":0.021001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.271 karate.env system property was: null \n"},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75601,"millis":0.075601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":402704,"millis":0.402704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59101,"millis":0.059101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":591106,"millis":0.591106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":468305,"millis":0.468305,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22701,"millis":0.022701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65101,"millis":0.065101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855076314,"millis":855.076314,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":843309,"millis":0.843309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":793208,"millis":0.793208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":897210,"millis":0.89721,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":691608,"millis":0.691608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":750808,"millis":0.750808,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":764808,"millis":0.764808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":637007,"millis":0.637007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":697608,"millis":0.697608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1182712,"millis":1.182712,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":157501,"millis":0.157501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":277003,"millis":0.277003,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.136 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":809808,"millis":0.809808,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":107302,"millis":0.107302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.137 [print] #notpresent \n"},{"result":{"nanos":851609,"millis":0.851609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101501,"millis":0.101501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.138 [print] OGC:WFS \n"},{"result":{"nanos":44501,"millis":0.044501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":197602,"millis":0.197602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.139 [print] #notpresent \n"},{"result":{"nanos":969711,"millis":0.969711,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":123501,"millis":0.123501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.140 [print] RIVM \n"},{"result":{"nanos":332804,"millis":0.332804,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.140 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":1001311,"millis":1.001311,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":773908,"millis":0.773908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":592407,"millis":0.592407,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.611782,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","startTime":1639198825270,"refId":"[1.67:67]","endTime":1639198826143,"exampleData":{"datasetIdentifierCode":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288"},"exampleIndex":66},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:25.322 karate.env system property was: null \n"},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69301,"millis":0.069301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":464305,"millis":0.464305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":76501,"millis":0.076501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":414405,"millis":0.414405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86801,"millis":0.086801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15801,"millis":0.015801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":361404,"millis":0.361404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6001,"millis":0.006001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":841262265,"millis":841.262265,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":68101,"millis":0.068101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":24561864,"millis":24.561864,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":1009311,"millis":1.009311,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":766508,"millis":0.766508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":822009,"millis":0.822009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1091912,"millis":1.091912,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":934510,"millis":0.93451,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":728708,"millis":0.728708,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1060512,"millis":1.060512,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":799809,"millis":0.799809,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":822809,"millis":0.822809,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":291303,"millis":0.291303,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":473805,"millis":0.473805,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.199 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":1005211,"millis":1.005211,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":400805,"millis":0.400805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.201 [print] #notpresent \n"},{"result":{"nanos":851309,"millis":0.851309,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":469405,"millis":0.469405,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.202 [print] OGC:WFS \n"},{"result":{"nanos":161202,"millis":0.161202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":376704,"millis":0.376704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.203 [print] #notpresent \n"},{"result":{"nanos":900310,"millis":0.90031,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":408305,"millis":0.408305,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.204 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":381104,"millis":0.381104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.204 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":819409,"millis":0.819409,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":714908,"millis":0.714908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":635507,"millis":0.635507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":883.520924,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5471a93b-cf18-43f5-9ddb-71987857435d","startTime":1639198825322,"refId":"[1.68:67]","endTime":1639198826207,"exampleData":{"datasetIdentifierCode":"5471a93b-cf18-43f5-9ddb-71987857435d"},"exampleIndex":67},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.074 karate.env system property was: null \n"},{"result":{"nanos":82901,"millis":0.082901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":157902,"millis":0.157902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":96701,"millis":0.096701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":543506,"millis":0.543506,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67901,"millis":0.067901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":482705,"millis":0.482705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48001,"millis":0.048001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114901,"millis":0.114901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22101,"millis":0.022101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48701,"millis":0.048701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69301,"millis":0.069301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":882170528,"millis":882.170528,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1437518,"millis":1.437518,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":798210,"millis":0.79821,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":734609,"millis":0.734609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":771510,"millis":0.77151,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1072413,"millis":1.072413,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1222316,"millis":1.222316,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":129202,"millis":0.129202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":810410,"millis":0.81041,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":757609,"millis":0.757609,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":657808,"millis":0.657808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":159802,"millis":0.159802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":755910,"millis":0.75591,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.969 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":753010,"millis":0.75301,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":220003,"millis":0.220003,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.970 [print] #notpresent \n"},{"result":{"nanos":1229816,"millis":1.229816,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":192302,"millis":0.192302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.971 [print] OGC:WFS \n"},{"result":{"nanos":146502,"millis":0.146502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":125101,"millis":0.125101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.971 [print] #notpresent \n"},{"result":{"nanos":752409,"millis":0.752409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158802,"millis":0.158802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.972 [print] RIVM \n"},{"result":{"nanos":134801,"millis":0.134801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.972 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":762410,"millis":0.76241,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":621808,"millis":0.621808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":539207,"millis":0.539207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":898.899737,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","startTime":1639198826074,"refId":"[1.69:67]","endTime":1639198826974,"exampleData":{"datasetIdentifierCode":"0606e8cb-fa51-402c-a3be-19fd724b0a10"},"exampleIndex":68},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21401,"millis":0.021401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.109 karate.env system property was: null \n"},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64101,"millis":0.064101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368804,"millis":0.368804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58101,"millis":0.058101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":523005,"millis":0.523005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":67001,"millis":0.067001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100201,"millis":0.100201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18601,"millis":0.018601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":110001,"millis":0.110001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860468820,"millis":860.46882,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":863611,"millis":0.863611,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":777209,"millis":0.777209,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":914211,"millis":0.914211,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2638034,"millis":2.638034,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":7065691,"millis":7.065691,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1122015,"millis":1.122015,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":168102,"millis":0.168102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":781310,"millis":0.78131,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":778710,"millis":0.77871,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":650109,"millis":0.650109,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":158202,"millis":0.158202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":662509,"millis":0.662509,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:26.989 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1262816,"millis":1.262816,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":261204,"millis":0.261204,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:26.990 [print] #notpresent \n"},{"result":{"nanos":1098514,"millis":1.098514,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":240803,"millis":0.240803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:26.991 [print] #notpresent \n"},{"result":{"nanos":417006,"millis":0.417006,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":160502,"millis":0.160502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:26.992 [print] #notpresent \n"},{"result":{"nanos":1018313,"millis":1.018313,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":181203,"millis":0.181203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:26.993 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":463106,"millis":0.463106,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:26.994 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1442518,"millis":1.442518,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":598408,"millis":0.598408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":508607,"millis":0.508607,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":886.19595,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a149d97f-0d55-462e-9956-5b47bea00a8d","startTime":1639198826109,"refId":"[1.70:67]","endTime":1639198826996,"exampleData":{"datasetIdentifierCode":"a149d97f-0d55-462e-9956-5b47bea00a8d"},"exampleIndex":69},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.145 karate.env system property was: null \n"},{"result":{"nanos":39101,"millis":0.039101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":127301,"millis":0.127301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":404804,"millis":0.404804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":530906,"millis":0.530906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49001,"millis":0.049001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98301,"millis":0.098301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33801,"millis":0.033801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67701,"millis":0.067701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870083317,"millis":870.083317,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1573120,"millis":1.57312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":829510,"millis":0.82951,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":765909,"millis":0.765909,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":757109,"millis":0.757109,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1031614,"millis":1.031614,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1161915,"millis":1.161915,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":99401,"millis":0.099401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":707309,"millis":0.707309,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":976012,"millis":0.976012,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":801811,"millis":0.801811,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":171502,"millis":0.171502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":601908,"millis":0.601908,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.027 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1289017,"millis":1.289017,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":177302,"millis":0.177302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.028 [print] #notpresent \n"},{"result":{"nanos":1088914,"millis":1.088914,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":164502,"millis":0.164502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.030 [print] #notpresent \n"},{"result":{"nanos":476207,"millis":0.476207,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":159502,"millis":0.159502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.030 [print] #notpresent \n"},{"result":{"nanos":1150315,"millis":1.150315,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":204302,"millis":0.204302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.032 [print] KNMI \n"},{"result":{"nanos":514807,"millis":0.514807,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.032 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1402318,"millis":1.402318,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526107,"millis":0.526107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1707822,"millis":1.707822,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":890.014568,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7f79fc69-d0c7-4913-a05a-527c90453297","startTime":1639198826145,"refId":"[1.71:67]","endTime":1639198827036,"exampleData":{"datasetIdentifierCode":"7f79fc69-d0c7-4913-a05a-527c90453297"},"exampleIndex":70},{"sectionIndex":0,"stepResults":[{"result":{"nanos":72401,"millis":0.072401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.210 karate.env system property was: null \n"},{"result":{"nanos":84401,"millis":0.084401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":162302,"millis":0.162302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":166502,"millis":0.166502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":497906,"millis":0.497906,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":164202,"millis":0.164202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":545506,"millis":0.545506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":175202,"millis":0.175202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":353904,"millis":0.353904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50001,"millis":0.050001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872920887,"millis":872.920887,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2900,"millis":0.0029,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1154414,"millis":1.154414,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":885811,"millis":0.885811,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":876811,"millis":0.876811,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":856911,"millis":0.856911,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1043013,"millis":1.043013,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":848211,"millis":0.848211,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1248016,"millis":1.248016,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":832011,"millis":0.832011,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":870411,"millis":0.870411,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145801,"millis":0.145801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":167602,"millis":0.167602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.095 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n"},{"result":{"nanos":1583420,"millis":1.58342,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":594807,"millis":0.594807,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.097 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":823811,"millis":0.823811,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":589908,"millis":0.589908,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.099 [print] #notpresent \n"},{"result":{"nanos":67801,"millis":0.067801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":482106,"millis":0.482106,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.099 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":967713,"millis":0.967713,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":497506,"millis":0.497506,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.101 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":760110,"millis":0.76011,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.102 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":889111,"millis":0.889111,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":949212,"millis":0.949212,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":494306,"millis":0.494306,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.105837,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","startTime":1639198826209,"refId":"[1.72:67]","endTime":1639198827104,"exampleData":{"datasetIdentifierCode":"c99b1291-c51f-49c8-902d-5bd4148cbbde"},"exampleIndex":71},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61601,"millis":0.061601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.978 karate.env system property was: null \n"},{"result":{"nanos":47201,"millis":0.047201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":200203,"millis":0.200203,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":155902,"millis":0.155902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":2334130,"millis":2.33413,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":177602,"millis":0.177602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":503007,"millis":0.503007,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":165602,"millis":0.165602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":172603,"millis":0.172603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":345804,"millis":0.345804,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58101,"millis":0.058101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35401,"millis":0.035401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":46601,"millis":0.046601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851931720,"millis":851.93172,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1054713,"millis":1.054713,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":871811,"millis":0.871811,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":706509,"millis":0.706509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":774110,"millis":0.77411,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":825311,"millis":0.825311,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":778310,"millis":0.77831,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56101,"millis":0.056101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":678309,"millis":0.678309,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":633408,"millis":0.633408,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":629608,"millis":0.629608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112901,"millis":0.112901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":238303,"millis":0.238303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.843 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":1193416,"millis":1.193416,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":136502,"millis":0.136502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.844 [print] #notpresent \n"},{"result":{"nanos":918912,"millis":0.918912,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114701,"millis":0.114701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.845 [print] #notpresent \n"},{"result":{"nanos":41401,"millis":0.041401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":225703,"millis":0.225703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.846 [print] #notpresent \n"},{"result":{"nanos":879711,"millis":0.879711,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":165502,"millis":0.165502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.847 [print] KNMI \n"},{"result":{"nanos":170302,"millis":0.170302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.847 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":945012,"millis":0.945012,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":925312,"millis":0.925312,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":551407,"millis":0.551407,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.964654,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7d533012-21ad-4a5b-a97e-a76988270273","startTime":1639198826978,"refId":"[1.73:67]","endTime":1639198827849,"exampleData":{"datasetIdentifierCode":"7d533012-21ad-4a5b-a97e-a76988270273"},"exampleIndex":72},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67701,"millis":0.067701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:26.999 karate.env system property was: null \n"},{"result":{"nanos":47501,"millis":0.047501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":157402,"millis":0.157402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":154102,"millis":0.154102,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":485507,"millis":0.485507,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":199702,"millis":0.199702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":495607,"millis":0.495607,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":174802,"millis":0.174802,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":151001,"millis":0.151001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":409905,"millis":0.409905,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":55301,"millis":0.055301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30601,"millis":0.030601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30601,"millis":0.030601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":874379308,"millis":874.379308,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1103415,"millis":1.103415,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":836810,"millis":0.83681,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":964812,"millis":0.964812,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":870711,"millis":0.870711,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1132415,"millis":1.132415,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":795910,"millis":0.79591,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":808810,"millis":0.80881,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":683708,"millis":0.683708,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":666808,"millis":0.666808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98102,"millis":0.098102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139601,"millis":0.139601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.885 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1057813,"millis":1.057813,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":492107,"millis":0.492107,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.886 [print] #notpresent \n"},{"result":{"nanos":841711,"millis":0.841711,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":317804,"millis":0.317804,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.887 [print] #notpresent \n"},{"result":{"nanos":44101,"millis":0.044101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":244603,"millis":0.244603,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.888 [print] #notpresent \n"},{"result":{"nanos":822210,"millis":0.82221,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":310804,"millis":0.310804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.889 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":304604,"millis":0.304604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.889 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1025713,"millis":1.025713,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":853811,"millis":0.853811,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":694909,"millis":0.694909,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.109334,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ce0a3f8e-6713-455f-805e-a067162c287d","startTime":1639198826998,"refId":"[1.74:67]","endTime":1639198827892,"exampleData":{"datasetIdentifierCode":"ce0a3f8e-6713-455f-805e-a067162c287d"},"exampleIndex":73},{"sectionIndex":0,"stepResults":[{"result":{"nanos":69801,"millis":0.069801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.039 karate.env system property was: null \n"},{"result":{"nanos":50801,"millis":0.050801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":148102,"millis":0.148102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":203903,"millis":0.203903,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":567508,"millis":0.567508,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":153502,"millis":0.153502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":534207,"millis":0.534207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":117301,"millis":0.117301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":179203,"millis":0.179203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":392405,"millis":0.392405,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58301,"millis":0.058301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32501,"millis":0.032501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":63901,"millis":0.063901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":886566565,"millis":886.566565,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":882411,"millis":0.882411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":863311,"millis":0.863311,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":726409,"millis":0.726409,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":792710,"millis":0.79271,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":905111,"millis":0.905111,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1075414,"millis":1.075414,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39301,"millis":0.039301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1322217,"millis":1.322217,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1092814,"millis":1.092814,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":743010,"millis":0.74301,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118302,"millis":0.118302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":259203,"millis":0.259203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.938 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n"},{"result":{"nanos":749410,"millis":0.74941,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":112601,"millis":0.112601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.939 [print] #notpresent \n"},{"result":{"nanos":827111,"millis":0.827111,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112202,"millis":0.112202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.940 [print] INSPIRE Atom \n"},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101502,"millis":0.101502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.940 [print] #notpresent \n"},{"result":{"nanos":938012,"millis":0.938012,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118702,"millis":0.118702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.941 [print] RDW \n"},{"result":{"nanos":104801,"millis":0.104801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.941 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n"},{"result":{"nanos":734710,"millis":0.73471,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":996113,"millis":0.996113,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1338817,"millis":1.338817,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":904.236395,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","startTime":1639198827038,"refId":"[1.75:67]","endTime":1639198827944,"exampleData":{"datasetIdentifierCode":"b85d4a0a-c0f7-42f4-9316-b214d205ca38"},"exampleIndex":74},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.107 karate.env system property was: null \n"},{"result":{"nanos":39201,"millis":0.039201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":427505,"millis":0.427505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":511106,"millis":0.511106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45701,"millis":0.045701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":430706,"millis":0.430706,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":74201,"millis":0.074201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855254563,"millis":855.254563,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":756209,"millis":0.756209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":1168815,"millis":1.168815,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":771809,"millis":0.771809,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":881511,"millis":0.881511,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":929512,"millis":0.929512,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":765310,"millis":0.76531,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":79601,"millis":0.079601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":688809,"millis":0.688809,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":801511,"millis":0.801511,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":633808,"millis":0.633808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":113702,"millis":0.113702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":723509,"millis":0.723509,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:27.973 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":1020213,"millis":1.020213,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103902,"millis":0.103902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:27.974 [print] #notpresent \n"},{"result":{"nanos":987913,"millis":0.987913,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91201,"millis":0.091201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:27.975 [print] #notpresent \n"},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":334504,"millis":0.334504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:27.976 [print] #notpresent \n"},{"result":{"nanos":1373818,"millis":1.373818,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":164702,"millis":0.164702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:27.977 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":933412,"millis":0.933412,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:27.978 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1161815,"millis":1.161815,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1619821,"millis":1.619821,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":571907,"millis":0.571907,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.822401,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","startTime":1639198827106,"refId":"[1.76:67]","endTime":1639198827982,"exampleData":{"datasetIdentifierCode":"eec0708d-bab6-41c2-aa5b-9c435a1a177e"},"exampleIndex":75},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.852 karate.env system property was: null \n"},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62000,"millis":0.062,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68101,"millis":0.068101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":416806,"millis":0.416806,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":446705,"millis":0.446705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":107602,"millis":0.107602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":60901,"millis":0.060901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":137001,"millis":0.137001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870793262,"millis":870.793262,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1306716,"millis":1.306716,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":916712,"millis":0.916712,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":805210,"millis":0.80521,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":704309,"millis":0.704309,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":910212,"millis":0.910212,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":905912,"millis":0.905912,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38201,"millis":0.038201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":754809,"millis":0.754809,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":664608,"millis":0.664608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":762510,"millis":0.76251,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151202,"millis":0.151202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163402,"millis":0.163402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.733 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":694808,"millis":0.694808,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134201,"millis":0.134201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.734 [print] #notpresent \n"},{"result":{"nanos":817611,"millis":0.817611,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":247003,"millis":0.247003,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.735 [print] INSPIRE Atom \n"},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114502,"millis":0.114502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.735 [print] #notpresent \n"},{"result":{"nanos":855211,"millis":0.855211,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":189402,"millis":0.189402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.736 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":99401,"millis":0.099401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.736 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":850611,"millis":0.850611,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":850611,"millis":0.850611,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":529007,"millis":0.529007,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":885.827451,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c47e4ef8-951e-4765-8d01-29150c12a22d","startTime":1639198827851,"refId":"[1.77:67]","endTime":1639198828738,"exampleData":{"datasetIdentifierCode":"c47e4ef8-951e-4765-8d01-29150c12a22d"},"exampleIndex":76},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.895 karate.env system property was: null \n"},{"result":{"nanos":39601,"millis":0.039601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60601,"millis":0.060601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":434905,"millis":0.434905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":106902,"millis":0.106902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455106,"millis":0.455106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43701,"millis":0.043701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66101,"millis":0.066101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":95802,"millis":0.095802,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":79001,"millis":0.079001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851154411,"millis":851.154411,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":967713,"millis":0.967713,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":818210,"millis":0.81821,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":868112,"millis":0.868112,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":881311,"millis":0.881311,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":964113,"millis":0.964113,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":916212,"millis":0.916212,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":803310,"millis":0.80331,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":777410,"millis":0.77741,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1117815,"millis":1.117815,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":168402,"millis":0.168402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":291804,"millis":0.291804,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.757 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":759310,"millis":0.75931,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":182503,"millis":0.182503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.758 [print] OGC:WFS \n"},{"result":{"nanos":834210,"millis":0.83421,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":173102,"millis":0.173102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.759 [print] INSPIRE Atom \n"},{"result":{"nanos":46401,"millis":0.046401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135801,"millis":0.135801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.760 [print] OGC:WFS \n"},{"result":{"nanos":817910,"millis":0.81791,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":168502,"millis":0.168502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.761 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":132201,"millis":0.132201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.761 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":849611,"millis":0.849611,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":976912,"millis":0.976912,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":510207,"millis":0.510207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.906715,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"46873d16-6835-48c4-b47f-134ab0cb31fa","startTime":1639198827894,"refId":"[1.78:67]","endTime":1639198828763,"exampleData":{"datasetIdentifierCode":"46873d16-6835-48c4-b47f-134ab0cb31fa"},"exampleIndex":77},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.947 karate.env system property was: null \n"},{"result":{"nanos":37101,"millis":0.037101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71401,"millis":0.071401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":372805,"millis":0.372805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57401,"millis":0.057401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415405,"millis":0.415405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":102801,"millis":0.102801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18201,"millis":0.018201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":110101,"millis":0.110101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8901,"millis":0.008901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64701,"millis":0.064701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":919221383,"millis":919.221383,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1038913,"millis":1.038913,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":784010,"millis":0.78401,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":855111,"millis":0.855111,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":760510,"millis":0.76051,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":851411,"millis":0.851411,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":897511,"millis":0.897511,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33101,"millis":0.033101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":645108,"millis":0.645108,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":743409,"millis":0.743409,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":767610,"millis":0.76761,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91101,"millis":0.091101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":361304,"millis":0.361304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.876 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":757610,"millis":0.75761,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93101,"millis":0.093101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.877 [print] #notpresent \n"},{"result":{"nanos":868711,"millis":0.868711,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91701,"millis":0.091701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.878 [print] #notpresent \n"},{"result":{"nanos":39001,"millis":0.039001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95701,"millis":0.095701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.878 [print] #notpresent \n"},{"result":{"nanos":807911,"millis":0.807911,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":105801,"millis":0.105801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.879 [print] KNMI \n"},{"result":{"nanos":91502,"millis":0.091502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.879 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":769210,"millis":0.76921,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":855511,"millis":0.855511,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":495106,"millis":0.495106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":933.537968,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","startTime":1639198827947,"refId":"[1.79:67]","endTime":1639198828881,"exampleData":{"datasetIdentifierCode":"55cf16e8-1c04-462c-b78a-e0d28823dd2e"},"exampleIndex":78},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:27.985 karate.env system property was: null \n"},{"result":{"nanos":36501,"millis":0.036501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76601,"millis":0.076601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67401,"millis":0.067401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":361905,"millis":0.361905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69701,"millis":0.069701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":482306,"millis":0.482306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51001,"millis":0.051001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":490606,"millis":0.490606,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":897767608,"millis":897.767608,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":866611,"millis":0.866611,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":1102014,"millis":1.102014,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":820211,"millis":0.820211,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":805610,"millis":0.80561,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":910312,"millis":0.910312,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":822911,"millis":0.822911,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":54901,"millis":0.054901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3289942,"millis":3.289942,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":646208,"millis":0.646208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":674508,"millis":0.674508,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1271017,"millis":1.271017,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":145002,"millis":0.145002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:28.896 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":751509,"millis":0.751509,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":142402,"millis":0.142402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:28.897 [print] #notpresent \n"},{"result":{"nanos":683209,"millis":0.683209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":175803,"millis":0.175803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:28.898 [print] OGC:WMS \n"},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95502,"millis":0.095502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:28.898 [print] #notpresent \n"},{"result":{"nanos":791110,"millis":0.79111,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":154102,"millis":0.154102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:28.899 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":136202,"millis":0.136202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:28.899 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":818011,"millis":0.818011,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":788510,"millis":0.78851,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":447706,"millis":0.447706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":915.987244,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","startTime":1639198827984,"refId":"[1.80:67]","endTime":1639198828902,"exampleData":{"datasetIdentifierCode":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d"},"exampleIndex":79},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.741 karate.env system property was: null \n"},{"result":{"nanos":38401,"millis":0.038401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63001,"millis":0.063001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71301,"millis":0.071301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":418205,"millis":0.418205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58601,"millis":0.058601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":473406,"millis":0.473406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46301,"millis":0.046301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":142602,"millis":0.142602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20501,"millis":0.020501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67701,"millis":0.067701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872098178,"millis":872.098178,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1455419,"millis":1.455419,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":982813,"millis":0.982813,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":840711,"millis":0.840711,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":850811,"millis":0.850811,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":977013,"millis":0.977013,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":907111,"millis":0.907111,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":106101,"millis":0.106101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":895812,"millis":0.895812,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":744309,"millis":0.744309,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":688709,"millis":0.688709,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":183303,"millis":0.183303,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":365505,"millis":0.365505,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.624 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n"},{"result":{"nanos":791910,"millis":0.79191,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":234503,"millis":0.234503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.625 [print] #notpresent \n"},{"result":{"nanos":869511,"millis":0.869511,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":220102,"millis":0.220102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.626 [print] INSPIRE Atom \n"},{"result":{"nanos":171502,"millis":0.171502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":186402,"millis":0.186402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.627 [print] #notpresent \n"},{"result":{"nanos":982213,"millis":0.982213,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":224203,"millis":0.224203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.628 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":284004,"millis":0.284004,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.628 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n"},{"result":{"nanos":846611,"millis":0.846611,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":951912,"millis":0.951912,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":714310,"millis":0.71431,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":889.046898,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","startTime":1639198828741,"refId":"[1.81:67]","endTime":1639198829631,"exampleData":{"datasetIdentifierCode":"b5ee6914-04bd-4c7e-a180-242371ae40d9"},"exampleIndex":80},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.766 karate.env system property was: null \n"},{"result":{"nanos":37301,"millis":0.037301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":443206,"millis":0.443206,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61301,"millis":0.061301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":476406,"millis":0.476406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45901,"millis":0.045901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":144502,"millis":0.144502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7101,"millis":0.007101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67701,"millis":0.067701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871823676,"millis":871.823676,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":850211,"millis":0.850211,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":771910,"millis":0.77191,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":823911,"millis":0.823911,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":785010,"millis":0.78501,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3108140,"millis":3.10814,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1008513,"millis":1.008513,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":113702,"millis":0.113702,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":738910,"millis":0.73891,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":823610,"millis":0.82361,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":719610,"millis":0.71961,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":404805,"millis":0.404805,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":460706,"millis":0.460706,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.650 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":1587521,"millis":1.587521,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":422105,"millis":0.422105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.652 [print] #notpresent \n"},{"result":{"nanos":783710,"millis":0.78371,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":390705,"millis":0.390705,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.654 [print] OGC:WMS \n"},{"result":{"nanos":165302,"millis":0.165302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":410605,"millis":0.410605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.654 [print] #notpresent \n"},{"result":{"nanos":6468483,"millis":6.468483,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":518706,"millis":0.518706,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.661 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":382504,"millis":0.382504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.662 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":759109,"millis":0.759109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":686508,"millis":0.686508,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1181416,"millis":1.181416,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":897.714609,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","startTime":1639198828765,"refId":"[1.82:67]","endTime":1639198829664,"exampleData":{"datasetIdentifierCode":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9"},"exampleIndex":81},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.892 karate.env system property was: null \n"},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":427706,"millis":0.427706,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56801,"millis":0.056801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427205,"millis":0.427205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1958725,"millis":1.958725,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":100101,"millis":0.100101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852962333,"millis":852.962333,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1551620,"millis":1.55162,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":969612,"millis":0.969612,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":689408,"millis":0.689408,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":753110,"millis":0.75311,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1083814,"millis":1.083814,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":798411,"millis":0.798411,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":116301,"millis":0.116301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":774710,"millis":0.77471,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1055214,"millis":1.055214,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":684709,"millis":0.684709,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":300504,"millis":0.300504,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":461606,"millis":0.461606,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.758 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":773310,"millis":0.77331,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":226202,"millis":0.226202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.759 [print] OGC:WFS \n"},{"result":{"nanos":908611,"millis":0.908611,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":162803,"millis":0.162803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.760 [print] #notpresent \n"},{"result":{"nanos":267803,"millis":0.267803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":200703,"millis":0.200703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.760 [print] OGC:WFS \n"},{"result":{"nanos":855011,"millis":0.855011,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":186802,"millis":0.186802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.761 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":287603,"millis":0.287603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.762 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":827411,"millis":0.827411,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":656909,"millis":0.656909,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":433605,"millis":0.433605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.259066,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","startTime":1639198828891,"refId":"[1.83:67]","endTime":1639198829764,"exampleData":{"datasetIdentifierCode":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2"},"exampleIndex":82},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:28.904 karate.env system property was: null \n"},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":346105,"millis":0.346105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53601,"millis":0.053601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410405,"millis":0.410405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58901,"millis":0.058901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":158602,"millis":0.158602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20701,"millis":0.020701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":7001,"millis":0.007001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875015416,"millis":875.015416,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":863311,"millis":0.863311,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":852811,"millis":0.852811,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":740009,"millis":0.740009,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":741010,"millis":0.74101,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":980013,"millis":0.980013,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1054413,"millis":1.054413,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":115602,"millis":0.115602,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":858611,"millis":0.858611,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":778110,"millis":0.77811,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1957225,"millis":1.957225,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":185602,"millis":0.185602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":393905,"millis":0.393905,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:29.790 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":859711,"millis":0.859711,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":202902,"millis":0.202902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:29.791 [print] #notpresent \n"},{"result":{"nanos":881112,"millis":0.881112,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":182002,"millis":0.182002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:29.792 [print] OGC:WFS \n"},{"result":{"nanos":221502,"millis":0.221502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":237904,"millis":0.237904,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:29.793 [print] #notpresent \n"},{"result":{"nanos":918911,"millis":0.918911,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":156702,"millis":0.156702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:29.794 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":332404,"millis":0.332404,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:29.794 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1099114,"millis":1.099114,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":557507,"millis":0.557507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":766710,"millis":0.76671,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.300536,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","startTime":1639198828903,"refId":"[1.84:67]","endTime":1639198829797,"exampleData":{"datasetIdentifierCode":"fa3ecd49-4571-4eb3-84f3-2865f42934b2"},"exampleIndex":83},{"sectionIndex":0,"stepResults":[{"result":{"nanos":71301,"millis":0.071301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.634 karate.env system property was: null \n"},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":219503,"millis":0.219503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":182202,"millis":0.182202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":467406,"millis":0.467406,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":159902,"millis":0.159902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":546107,"millis":0.546107,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":119402,"millis":0.119402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":226603,"millis":0.226603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":97701,"millis":0.097701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36301,"millis":0.036301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31001,"millis":0.031001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849428988,"millis":849.428988,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1206815,"millis":1.206815,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":1092114,"millis":1.092114,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":759209,"millis":0.759209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":904111,"millis":0.904111,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":904812,"millis":0.904812,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":853111,"millis":0.853111,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":79501,"millis":0.079501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":647709,"millis":0.647709,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":715309,"millis":0.715309,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":763110,"millis":0.76311,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":137501,"millis":0.137501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":175402,"millis":0.175402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.495 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n"},{"result":{"nanos":663408,"millis":0.663408,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":135701,"millis":0.135701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.496 [print] OGC:WFS \n"},{"result":{"nanos":739410,"millis":0.73941,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135302,"millis":0.135302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.497 [print] #notpresent \n"},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135001,"millis":0.135001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.497 [print] OGC:WFS \n"},{"result":{"nanos":844011,"millis":0.844011,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":208403,"millis":0.208403,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.498 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":111602,"millis":0.111602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.498 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":824110,"millis":0.82411,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":829211,"millis":0.829211,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":680109,"millis":0.680109,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.388491,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"00e8746f-5031-413e-8343-9203c8ea82ee","startTime":1639198829633,"refId":"[1.85:67]","endTime":1639198830501,"exampleData":{"datasetIdentifierCode":"00e8746f-5031-413e-8343-9203c8ea82ee"},"exampleIndex":84},{"sectionIndex":0,"stepResults":[{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.668 karate.env system property was: null \n"},{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":154002,"millis":0.154002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":159102,"millis":0.159102,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":695909,"millis":0.695909,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":166602,"millis":0.166602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":479506,"millis":0.479506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":112202,"millis":0.112202,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":356904,"millis":0.356904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32201,"millis":0.032201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849066784,"millis":849.066784,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":726210,"millis":0.72621,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":974012,"millis":0.974012,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":953313,"millis":0.953313,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":770110,"millis":0.77011,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":787010,"millis":0.78701,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":684309,"millis":0.684309,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":734809,"millis":0.734809,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":583608,"millis":0.583608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":630908,"millis":0.630908,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":215803,"millis":0.215803,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":321704,"millis":0.321704,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.527 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":654209,"millis":0.654209,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":260803,"millis":0.260803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.528 [print] INSPIRE Atom \n"},{"result":{"nanos":675909,"millis":0.675909,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":285704,"millis":0.285704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.529 [print] #notpresent \n"},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":198802,"millis":0.198802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.530 [print] INSPIRE Atom \n"},{"result":{"nanos":1090114,"millis":1.090114,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":326404,"millis":0.326404,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.531 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":215003,"millis":0.215003,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.531 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":895911,"millis":0.895911,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":565107,"millis":0.565107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":475706,"millis":0.475706,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.734684,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"77971fa3-f869-4726-969a-482e0b1a8c5d","startTime":1639198829666,"refId":"[1.86:67]","endTime":1639198830533,"exampleData":{"datasetIdentifierCode":"77971fa3-f869-4726-969a-482e0b1a8c5d"},"exampleIndex":85},{"sectionIndex":0,"stepResults":[{"result":{"nanos":78001,"millis":0.078001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.767 karate.env system property was: null \n"},{"result":{"nanos":74601,"millis":0.074601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":217202,"millis":0.217202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":177102,"millis":0.177102,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":530607,"millis":0.530607,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":174302,"millis":0.174302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":522706,"millis":0.522706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109502,"millis":0.109502,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":215503,"millis":0.215503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59601,"millis":0.059601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32801,"millis":0.032801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31501,"millis":0.031501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":143201,"millis":0.143201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848417375,"millis":848.417375,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1070113,"millis":1.070113,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":739809,"millis":0.739809,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":660409,"millis":0.660409,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":760910,"millis":0.76091,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1543919,"millis":1.543919,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":968512,"millis":0.968512,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34801,"millis":0.034801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":637108,"millis":0.637108,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":621208,"millis":0.621208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":586208,"millis":0.586208,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87901,"millis":0.087901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1090114,"millis":1.090114,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.627 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":727410,"millis":0.72741,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99001,"millis":0.099001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.628 [print] #notpresent \n"},{"result":{"nanos":983513,"millis":0.983513,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":452406,"millis":0.452406,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.630 [print] INSPIRE Atom \n"},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147401,"millis":0.147401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.630 [print] #notpresent \n"},{"result":{"nanos":902111,"millis":0.902111,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158602,"millis":0.158602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.631 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":146402,"millis":0.146402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.631 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":717910,"millis":0.71791,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":807210,"millis":0.80721,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":465106,"millis":0.465106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.341589,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"070014b4-1f63-4819-beea-000b7d5f8d86","startTime":1639198829766,"refId":"[1.87:67]","endTime":1639198830633,"exampleData":{"datasetIdentifierCode":"070014b4-1f63-4819-beea-000b7d5f8d86"},"exampleIndex":86},{"sectionIndex":0,"stepResults":[{"result":{"nanos":80401,"millis":0.080401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:29.800 karate.env system property was: null \n"},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":200802,"millis":0.200802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":341505,"millis":0.341505,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":472106,"millis":0.472106,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":155502,"millis":0.155502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":500207,"millis":0.500207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":108801,"millis":0.108801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":218603,"millis":0.218603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":155702,"millis":0.155702,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844950430,"millis":844.95043,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":815310,"millis":0.81531,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":701009,"millis":0.701009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":784810,"millis":0.78481,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":759110,"millis":0.75911,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":833710,"millis":0.83371,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":836910,"millis":0.83691,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":595608,"millis":0.595608,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":616508,"millis":0.616508,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":610408,"millis":0.610408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71501,"millis":0.071501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":212703,"millis":0.212703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:30.655 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":737310,"millis":0.73731,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":193502,"millis":0.193502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:30.656 [print] #notpresent \n"},{"result":{"nanos":779910,"millis":0.77991,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":193502,"millis":0.193502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:30.657 [print] OGC:WFS \n"},{"result":{"nanos":41801,"millis":0.041801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":125502,"millis":0.125502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:30.657 [print] #notpresent \n"},{"result":{"nanos":735409,"millis":0.735409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":151102,"millis":0.151102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:30.658 [print] RIVM \n"},{"result":{"nanos":144902,"millis":0.144902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:30.658 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":793010,"millis":0.79301,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":536707,"millis":0.536707,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":524407,"millis":0.524407,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.340913,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","startTime":1639198829799,"refId":"[1.88:67]","endTime":1639198830660,"exampleData":{"datasetIdentifierCode":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed"},"exampleIndex":87},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.503 karate.env system property was: null \n"},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76501,"millis":0.076501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":446406,"millis":0.446406,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":466806,"millis":0.466806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100301,"millis":0.100301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19001,"millis":0.019001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60501,"millis":0.060501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864686684,"millis":864.686684,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1098014,"millis":1.098014,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":775110,"millis":0.77511,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":722209,"millis":0.722209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1801023,"millis":1.801023,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1994025,"millis":1.994025,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1220015,"millis":1.220015,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1262916,"millis":1.262916,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":904311,"millis":0.904311,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":790610,"millis":0.79061,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":111101,"millis":0.111101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":166402,"millis":0.166402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.381 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":1443819,"millis":1.443819,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97101,"millis":0.097101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.382 [print] #notpresent \n"},{"result":{"nanos":1087013,"millis":1.087013,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101801,"millis":0.101801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.384 [print] #notpresent \n"},{"result":{"nanos":38901,"millis":0.038901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":391305,"millis":0.391305,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.384 [print] #notpresent \n"},{"result":{"nanos":1072214,"millis":1.072214,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97401,"millis":0.097401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.385 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":750510,"millis":0.75051,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.386 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":769210,"millis":0.76921,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":730209,"millis":0.730209,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":588508,"millis":0.588508,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.196931,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"914a6e0c-2aae-42f8-8425-2a047c245dab","startTime":1639198830503,"refId":"[1.89:67]","endTime":1639198831388,"exampleData":{"datasetIdentifierCode":"914a6e0c-2aae-42f8-8425-2a047c245dab"},"exampleIndex":88},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20601,"millis":0.020601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.538 karate.env system property was: null \n"},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56601,"millis":0.056601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66301,"millis":0.066301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":386505,"millis":0.386505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51401,"millis":0.051401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":494506,"millis":0.494506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41101,"millis":0.041101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":238103,"millis":0.238103,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61901,"millis":0.061901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859090013,"millis":859.090013,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":800610,"millis":0.80061,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":753210,"millis":0.75321,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":833311,"millis":0.833311,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":699709,"millis":0.699709,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":741810,"millis":0.74181,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":709409,"millis":0.709409,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":639908,"millis":0.639908,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":641208,"millis":0.641208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":653608,"millis":0.653608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116102,"millis":0.116102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":536507,"millis":0.536507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.406 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":678208,"millis":0.678208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":135301,"millis":0.135301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.407 [print] #notpresent \n"},{"result":{"nanos":783010,"millis":0.78301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":375005,"millis":0.375005,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.409 [print] OGC:WMS \n"},{"result":{"nanos":103102,"millis":0.103102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":118201,"millis":0.118201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.410 [print] #notpresent \n"},{"result":{"nanos":1083914,"millis":1.083914,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153502,"millis":0.153502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.411 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":87301,"millis":0.087301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.411 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1897824,"millis":1.897824,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":570107,"millis":0.570107,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":477306,"millis":0.477306,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.220207,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","startTime":1639198830537,"refId":"[1.90:67]","endTime":1639198831414,"exampleData":{"datasetIdentifierCode":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39"},"exampleIndex":89},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.636 karate.env system property was: null \n"},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":80902,"millis":0.080902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":381104,"millis":0.381104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371605,"millis":0.371605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56101,"millis":0.056101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62701,"millis":0.062701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25701,"millis":0.025701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856933884,"millis":856.933884,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1030613,"millis":1.030613,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":764710,"millis":0.76471,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":712409,"millis":0.712409,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":747210,"millis":0.74721,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":763210,"millis":0.76321,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":845411,"millis":0.845411,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":857811,"millis":0.857811,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":682309,"millis":0.682309,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":629408,"millis":0.629408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":678109,"millis":0.678109,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":418506,"millis":0.418506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.503 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n"},{"result":{"nanos":791710,"millis":0.79171,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":364605,"millis":0.364605,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.504 [print] #notpresent \n"},{"result":{"nanos":7000590,"millis":7.00059,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":352105,"millis":0.352105,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.511 [print] INSPIRE Atom \n"},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":271303,"millis":0.271303,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.512 [print] #notpresent \n"},{"result":{"nanos":985313,"millis":0.985313,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":10057929,"millis":10.057929,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.523 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":315704,"millis":0.315704,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.523 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":855411,"millis":0.855411,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":867812,"millis":0.867812,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":536307,"millis":0.536307,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":888.795895,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","startTime":1639198830635,"refId":"[1.91:67]","endTime":1639198831525,"exampleData":{"datasetIdentifierCode":"243c6401-9ed1-4cdd-b9a7-caff08813ce4"},"exampleIndex":90},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:30.663 karate.env system property was: null \n"},{"result":{"nanos":53501,"millis":0.053501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52601,"millis":0.052601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":83401,"millis":0.083401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":357005,"millis":0.357005,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47701,"millis":0.047701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":370104,"millis":0.370104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":186503,"millis":0.186503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14801,"millis":0.014801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":107901,"millis":0.107901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873600498,"millis":873.600498,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":883212,"millis":0.883212,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":793610,"millis":0.79361,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1098414,"millis":1.098414,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":795111,"millis":0.795111,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":996913,"millis":0.996913,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":845011,"millis":0.845011,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":706109,"millis":0.706109,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":789210,"millis":0.78921,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":9766725,"millis":9.766725,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":139702,"millis":0.139702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":439106,"millis":0.439106,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:31.556 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":773610,"millis":0.77361,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":135402,"millis":0.135402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:31.557 [print] OGC:WMS \n"},{"result":{"nanos":774210,"millis":0.77421,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":168803,"millis":0.168803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:31.558 [print] #notpresent \n"},{"result":{"nanos":70101,"millis":0.070101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128102,"millis":0.128102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:31.559 [print] OGC:WMS \n"},{"result":{"nanos":834911,"millis":0.834911,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144302,"millis":0.144302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:31.560 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":123901,"millis":0.123901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:31.560 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":1195015,"millis":1.195015,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":8793113,"millis":8.793113,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":521507,"millis":0.521507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":905.956916,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0426f471-f325-42ed-a775-81c397592e86","startTime":1639198830662,"refId":"[1.92:67]","endTime":1639198831572,"exampleData":{"datasetIdentifierCode":"0426f471-f325-42ed-a775-81c397592e86"},"exampleIndex":91},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.392 karate.env system property was: null \n"},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":79501,"millis":0.079501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":84101,"millis":0.084101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":460506,"millis":0.460506,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":86801,"millis":0.086801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457706,"millis":0.457706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42501,"millis":0.042501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":159502,"millis":0.159502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":137802,"millis":0.137802,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70701,"millis":0.070701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855811670,"millis":855.81167,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1517919,"millis":1.517919,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":696909,"millis":0.696909,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":733609,"millis":0.733609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":639208,"millis":0.639208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1209616,"millis":1.209616,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":880511,"millis":0.880511,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":126301,"millis":0.126301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":840111,"millis":0.840111,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":840811,"millis":0.840811,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":729310,"millis":0.72931,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":264503,"millis":0.264503,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":229903,"millis":0.229903,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.258 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":926112,"millis":0.926112,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":284604,"millis":0.284604,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.260 [print] #notpresent \n"},{"result":{"nanos":894712,"millis":0.894712,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":341004,"millis":0.341004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.261 [print] #notpresent \n"},{"result":{"nanos":150802,"millis":0.150802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":216903,"millis":0.216903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.261 [print] #notpresent \n"},{"result":{"nanos":885512,"millis":0.885512,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":214003,"millis":0.214003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.262 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":248103,"millis":0.248103,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.263 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":824811,"millis":0.824811,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":640708,"millis":0.640708,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":508507,"millis":0.508507,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.340783,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","startTime":1639198831391,"refId":"[1.93:67]","endTime":1639198832265,"exampleData":{"datasetIdentifierCode":"7d641d0e-c04b-4191-833e-c578ac2abe5f"},"exampleIndex":92},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.416 karate.env system property was: null \n"},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59001,"millis":0.059001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72601,"millis":0.072601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":394405,"millis":0.394405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55801,"millis":0.055801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443706,"millis":0.443706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43701,"millis":0.043701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6901,"millis":0.006901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":354004,"millis":0.354004,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867693722,"millis":867.693722,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1051613,"millis":1.051613,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":779710,"millis":0.77971,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":763509,"millis":0.763509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":690309,"millis":0.690309,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":895611,"millis":0.895611,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1983826,"millis":1.983826,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":120101,"millis":0.120101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1010613,"millis":1.010613,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":826310,"millis":0.82631,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":806211,"millis":0.806211,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":950512,"millis":0.950512,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2389231,"millis":2.389231,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.299 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":913412,"millis":0.913412,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":376705,"millis":0.376705,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.300 [print] #notpresent \n"},{"result":{"nanos":1304517,"millis":1.304517,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":365604,"millis":0.365604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.302 [print] #notpresent \n"},{"result":{"nanos":113501,"millis":0.113501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":309504,"millis":0.309504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.302 [print] #notpresent \n"},{"result":{"nanos":743810,"millis":0.74381,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":368205,"millis":0.368205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.304 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":377105,"millis":0.377105,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.304 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":717809,"millis":0.717809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":10197131,"millis":10.197131,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":455606,"millis":0.455606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":897.813607,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"97312a37-4ebf-4526-94e6-b29e90c2944a","startTime":1639198831416,"refId":"[1.94:67]","endTime":1639198832316,"exampleData":{"datasetIdentifierCode":"97312a37-4ebf-4526-94e6-b29e90c2944a"},"exampleIndex":93},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.537 karate.env system property was: null \n"},{"result":{"nanos":59601,"millis":0.059601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66201,"millis":0.066201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":74901,"millis":0.074901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":443306,"millis":0.443306,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1421518,"millis":1.421518,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56401,"millis":0.056401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":295704,"millis":0.295704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":88701,"millis":0.088701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845590239,"millis":845.590239,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1083314,"millis":1.083314,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":796910,"millis":0.79691,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":674008,"millis":0.674008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":691709,"millis":0.691709,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1097714,"millis":1.097714,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":870411,"millis":0.870411,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":102102,"millis":0.102102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":685508,"millis":0.685508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":885011,"millis":0.885011,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":685009,"millis":0.685009,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":194103,"millis":0.194103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":688708,"millis":0.688708,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.395 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":1314217,"millis":1.314217,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":223803,"millis":0.223803,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.396 [print] #notpresent \n"},{"result":{"nanos":1236916,"millis":1.236916,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":199402,"millis":0.199402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.398 [print] #notpresent \n"},{"result":{"nanos":352504,"millis":0.352504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":202503,"millis":0.202503,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.398 [print] #notpresent \n"},{"result":{"nanos":980013,"millis":0.980013,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":183102,"millis":0.183102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.399 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":501507,"millis":0.501507,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.400 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1639321,"millis":1.639321,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1632121,"millis":1.632121,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":637708,"millis":0.637708,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.810598,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","startTime":1639198831532,"refId":"[1.95:67]","endTime":1639198832404,"exampleData":{"datasetIdentifierCode":"ac3ee940-4f98-427c-a2d9-58696005d9c2"},"exampleIndex":94},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:31.576 karate.env system property was: null \n"},{"result":{"nanos":72101,"millis":0.072101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64301,"millis":0.064301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":479106,"millis":0.479106,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":459006,"millis":0.459006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103602,"millis":0.103602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":351804,"millis":0.351804,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":90602,"millis":0.090602,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":902464168,"millis":902.464168,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1193815,"millis":1.193815,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":718410,"millis":0.71841,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":865911,"millis":0.865911,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":720009,"millis":0.720009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":854611,"millis":0.854611,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":797711,"millis":0.797711,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":118901,"millis":0.118901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":683609,"millis":0.683609,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":725510,"millis":0.72551,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":578007,"millis":0.578007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":758810,"millis":0.75881,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":620208,"millis":0.620208,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:32.490 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n"},{"result":{"nanos":707009,"millis":0.707009,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":500906,"millis":0.500906,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:32.491 [print] OGC:WMS \n"},{"result":{"nanos":809911,"millis":0.809911,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":550607,"millis":0.550607,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:32.492 [print] #notpresent \n"},{"result":{"nanos":106001,"millis":0.106001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":434306,"millis":0.434306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:32.493 [print] OGC:WMS \n"},{"result":{"nanos":1034513,"millis":1.034513,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":612107,"millis":0.612107,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:32.495 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":807510,"millis":0.80751,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:32.495 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":745910,"millis":0.74591,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":781610,"millis":0.78161,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":524307,"millis":0.524307,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":920.586901,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","startTime":1639198831575,"refId":"[1.96:67]","endTime":1639198832497,"exampleData":{"datasetIdentifierCode":"2d1860f2-f8ba-457e-bd64-93cdabd69aee"},"exampleIndex":95},{"sectionIndex":0,"stepResults":[{"result":{"nanos":90602,"millis":0.090602,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.268 karate.env system property was: null \n"},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":144502,"millis":0.144502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":173303,"millis":0.173303,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":420305,"millis":0.420305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":187903,"millis":0.187903,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":628008,"millis":0.628008,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":145102,"millis":0.145102,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":333005,"millis":0.333005,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":97701,"millis":0.097701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":43801,"millis":0.043801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":85101,"millis":0.085101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":49101,"millis":0.049101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864347230,"millis":864.34723,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1005510,"millis":1.00551,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":725307,"millis":0.725307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":653106,"millis":0.653106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":781008,"millis":0.781008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":880409,"millis":0.880409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":882909,"millis":0.882909,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":769808,"millis":0.769808,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":607506,"millis":0.607506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":598006,"millis":0.598006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":555305,"millis":0.555305,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":561006,"millis":0.561006,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.143 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":690107,"millis":0.690107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":507105,"millis":0.507105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.144 [print] INSPIRE Atom \n"},{"result":{"nanos":709307,"millis":0.709307,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":411004,"millis":0.411004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.146 [print] #notpresent \n"},{"result":{"nanos":44701,"millis":0.044701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":413204,"millis":0.413204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.146 [print] INSPIRE Atom \n"},{"result":{"nanos":832109,"millis":0.832109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":544005,"millis":0.544005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.147 [print] Beheer PDOK \n"},{"result":{"nanos":639607,"millis":0.639607,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.148 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":723207,"millis":0.723207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":711007,"millis":0.711007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":421004,"millis":0.421004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.599011,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","startTime":1639198832267,"refId":"[1.97:67]","endTime":1639198833150,"exampleData":{"datasetIdentifierCode":"68a7e4c1-0073-4a1a-a6df-084d2badf45a"},"exampleIndex":96},{"sectionIndex":0,"stepResults":[{"result":{"nanos":102501,"millis":0.102501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.319 karate.env system property was: null \n"},{"result":{"nanos":46901,"millis":0.046901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":136302,"millis":0.136302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":170802,"millis":0.170802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":563607,"millis":0.563607,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":178103,"millis":0.178103,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":467406,"millis":0.467406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":101701,"millis":0.101701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1508420,"millis":1.50842,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":169602,"millis":0.169602,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":64901,"millis":0.064901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":29401,"millis":0.029401,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860368339,"millis":860.368339,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":838708,"millis":0.838708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":659007,"millis":0.659007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":636306,"millis":0.636306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":788408,"millis":0.788408,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1085211,"millis":1.085211,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":833008,"millis":0.833008,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":639307,"millis":0.639307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":668006,"millis":0.668006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":683606,"millis":0.683606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":84701,"millis":0.084701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.191 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":1315213,"millis":1.315213,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88601,"millis":0.088601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.192 [print] OGC:WMS \n"},{"result":{"nanos":979910,"millis":0.97991,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103901,"millis":0.103901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.193 [print] #notpresent \n"},{"result":{"nanos":36601,"millis":0.036601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":337303,"millis":0.337303,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.193 [print] OGC:WMS \n"},{"result":{"nanos":700107,"millis":0.700107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":108001,"millis":0.108001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.194 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":158501,"millis":0.158501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.194 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":712507,"millis":0.712507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":7682577,"millis":7.682577,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":948310,"millis":0.94831,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.240888,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","startTime":1639198832318,"refId":"[1.98:67]","endTime":1639198833204,"exampleData":{"datasetIdentifierCode":"97b49056-8ace-426c-ae3e-bf7efe4c000f"},"exampleIndex":97},{"sectionIndex":0,"stepResults":[{"result":{"nanos":112802,"millis":0.112802,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.407 karate.env system property was: null \n"},{"result":{"nanos":111301,"millis":0.111301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":215902,"millis":0.215902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":192603,"millis":0.192603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":508207,"millis":0.508207,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":151702,"millis":0.151702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":461506,"millis":0.461506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":117602,"millis":0.117602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":187002,"millis":0.187002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":57601,"millis":0.057601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41901,"millis":0.041901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31101,"millis":0.031101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":29401,"millis":0.029401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":878410668,"millis":878.410668,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":883908,"millis":0.883908,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":637607,"millis":0.637607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":648706,"millis":0.648706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":670207,"millis":0.670207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":898509,"millis":0.898509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":717307,"millis":0.717307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":627907,"millis":0.627907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":643106,"millis":0.643106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":661907,"millis":0.661907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3397634,"millis":3.397634,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":425504,"millis":0.425504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.299 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":756508,"millis":0.756508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":323103,"millis":0.323103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.300 [print] INSPIRE Atom \n"},{"result":{"nanos":657407,"millis":0.657407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83701,"millis":0.083701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.301 [print] #notpresent \n"},{"result":{"nanos":49001,"millis":0.049001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":217302,"millis":0.217302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.301 [print] INSPIRE Atom \n"},{"result":{"nanos":873309,"millis":0.873309,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":217002,"millis":0.217002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.302 [print] Beheer PDOK \n"},{"result":{"nanos":195502,"millis":0.195502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.303 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":862509,"millis":0.862509,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":738807,"millis":0.738807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":437204,"millis":0.437204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":896.470057,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2931d583-9633-49d3-ad38-aabea82f6751","startTime":1639198832406,"refId":"[1.99:67]","endTime":1639198833305,"exampleData":{"datasetIdentifierCode":"2931d583-9633-49d3-ad38-aabea82f6751"},"exampleIndex":98},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67901,"millis":0.067901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:32.503 karate.env system property was: null \n"},{"result":{"nanos":47901,"millis":0.047901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":272004,"millis":0.272004,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":189502,"millis":0.189502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":617208,"millis":0.617208,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":156002,"millis":0.156002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":550207,"millis":0.550207,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":142402,"millis":0.142402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":284904,"millis":0.284904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":79601,"millis":0.079601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":73101,"millis":0.073101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28801,"millis":0.028801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":27201,"millis":0.027201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844078353,"millis":844.078353,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1016810,"millis":1.01681,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":769808,"millis":0.769808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":790208,"millis":0.790208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":875109,"millis":0.875109,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":884009,"millis":0.884009,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":707607,"millis":0.707607,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":587106,"millis":0.587106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":654006,"millis":0.654006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":748808,"millis":0.748808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":603606,"millis":0.603606,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":613906,"millis":0.613906,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:33.358 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":679507,"millis":0.679507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":424104,"millis":0.424104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:33.359 [print] #notpresent \n"},{"result":{"nanos":687706,"millis":0.687706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":471804,"millis":0.471804,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:33.361 [print] INSPIRE Atom \n"},{"result":{"nanos":59301,"millis":0.059301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":427104,"millis":0.427104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:33.361 [print] #notpresent \n"},{"result":{"nanos":792808,"millis":0.792808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":474305,"millis":0.474305,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:33.362 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":792708,"millis":0.792708,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:33.363 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":693307,"millis":0.693307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":722507,"millis":0.722507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":485005,"millis":0.485005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.741338,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","startTime":1639198832500,"refId":"[1.100:67]","endTime":1639198833365,"exampleData":{"datasetIdentifierCode":"1d3c777a-3527-4aa1-8573-d6aeeff115e5"},"exampleIndex":99},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22001,"millis":0.022001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.153 karate.env system property was: null \n"},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":100101,"millis":0.100101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":386304,"millis":0.386304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53201,"millis":0.053201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":593206,"millis":0.593206,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":424604,"millis":0.424604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61001,"millis":0.061001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859610950,"millis":859.61095,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1009910,"millis":1.00991,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":709607,"millis":0.709607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":616806,"millis":0.616806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":665607,"millis":0.665607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":798408,"millis":0.798408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":846808,"millis":0.846808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":682407,"millis":0.682407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":701207,"millis":0.701207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":677307,"millis":0.677307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151402,"millis":0.151402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":847908,"millis":0.847908,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.023 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":1767017,"millis":1.767017,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":235703,"millis":0.235703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.025 [print] OGC:WMS \n"},{"result":{"nanos":574005,"millis":0.574005,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":172001,"millis":0.172001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.026 [print] #notpresent \n"},{"result":{"nanos":39101,"millis":0.039101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":112901,"millis":0.112901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.026 [print] OGC:WMS \n"},{"result":{"nanos":652407,"millis":0.652407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":250702,"millis":0.250702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.027 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":142902,"millis":0.142902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.027 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":854408,"millis":0.854408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":827809,"millis":0.827809,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":466904,"millis":0.466904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.324106,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","startTime":1639198833152,"refId":"[1.101:67]","endTime":1639198834029,"exampleData":{"datasetIdentifierCode":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e"},"exampleIndex":100},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.206 karate.env system property was: null \n"},{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64201,"millis":0.064201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368604,"millis":0.368604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417404,"millis":0.417404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":92001,"millis":0.092001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853907293,"millis":853.907293,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1050211,"millis":1.050211,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":795808,"millis":0.795808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":934209,"millis":0.934209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":782108,"millis":0.782108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":784708,"millis":0.784708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":827508,"millis":0.827508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":739707,"millis":0.739707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":636907,"millis":0.636907,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":718907,"millis":0.718907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":122402,"millis":0.122402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":139901,"millis":0.139901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.070 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":871809,"millis":0.871809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":146001,"millis":0.146001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.071 [print] #notpresent \n"},{"result":{"nanos":740207,"millis":0.740207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108401,"millis":0.108401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.072 [print] INSPIRE Atom \n"},{"result":{"nanos":38701,"millis":0.038701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":110301,"millis":0.110301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.072 [print] #notpresent \n"},{"result":{"nanos":942010,"millis":0.94201,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120101,"millis":0.120101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.073 [print] Beheer PDOK \n"},{"result":{"nanos":111001,"millis":0.111001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.073 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":815708,"millis":0.815708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":853009,"millis":0.853009,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":436304,"millis":0.436304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.038936,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","startTime":1639198833206,"refId":"[1.102:67]","endTime":1639198834075,"exampleData":{"datasetIdentifierCode":"ddf33bff-8de3-4cca-b6f5-24d18daa502f"},"exampleIndex":101},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.307 karate.env system property was: null \n"},{"result":{"nanos":95701,"millis":0.095701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57401,"millis":0.057401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81601,"millis":0.081601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":481305,"millis":0.481305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450305,"millis":0.450305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94101,"millis":0.094101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32201,"millis":0.032201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":154301,"millis":0.154301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26801,"millis":0.026801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":80101,"millis":0.080101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862844182,"millis":862.844182,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1131112,"millis":1.131112,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":681206,"millis":0.681206,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":687206,"millis":0.687206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":705208,"millis":0.705208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":734207,"millis":0.734207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":669807,"millis":0.669807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":584606,"millis":0.584606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":817608,"millis":0.817608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":615306,"millis":0.615306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77901,"millis":0.077901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":194202,"millis":0.194202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.179 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":788008,"millis":0.788008,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":186301,"millis":0.186301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.180 [print] #notpresent \n"},{"result":{"nanos":720107,"millis":0.720107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":154001,"millis":0.154001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.181 [print] OGC:WMS \n"},{"result":{"nanos":163401,"millis":0.163401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":122901,"millis":0.122901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.181 [print] #notpresent \n"},{"result":{"nanos":1232512,"millis":1.232512,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":218803,"millis":0.218803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.183 [print] RIVM \n"},{"result":{"nanos":186502,"millis":0.186502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.183 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":894909,"millis":0.894909,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":957109,"millis":0.957109,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":413104,"millis":0.413104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.509827,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","startTime":1639198833307,"refId":"[1.103:67]","endTime":1639198834186,"exampleData":{"datasetIdentifierCode":"7dc30aed-0940-4e69-b34c-9f24b34078eb"},"exampleIndex":102},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:33.368 karate.env system property was: null \n"},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59301,"millis":0.059301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":348903,"millis":0.348903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52001,"millis":0.052001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390504,"millis":0.390504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":386303,"millis":0.386303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20301,"millis":0.020301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59201,"millis":0.059201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854835502,"millis":854.835502,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":896609,"millis":0.896609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":776708,"millis":0.776708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":791808,"millis":0.791808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":843608,"millis":0.843608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":803008,"millis":0.803008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":780708,"millis":0.780708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":621106,"millis":0.621106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":670207,"millis":0.670207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":834008,"millis":0.834008,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151502,"millis":0.151502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":183102,"millis":0.183102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.232 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":762507,"millis":0.762507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99701,"millis":0.099701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.233 [print] #notpresent \n"},{"result":{"nanos":698107,"millis":0.698107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97501,"millis":0.097501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.234 [print] OGC:WMS \n"},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101901,"millis":0.101901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.234 [print] #notpresent \n"},{"result":{"nanos":722007,"millis":0.722007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78501,"millis":0.078501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.235 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.235 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":739307,"millis":0.739307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619906,"millis":0.619906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":595406,"millis":0.595406,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.323136,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"664862cb-d426-4ee4-97ac-14c12b903b54","startTime":1639198833367,"refId":"[1.104:67]","endTime":1639198834237,"exampleData":{"datasetIdentifierCode":"664862cb-d426-4ee4-97ac-14c12b903b54"},"exampleIndex":103},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.032 karate.env system property was: null \n"},{"result":{"nanos":68700,"millis":0.0687,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60901,"millis":0.060901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":354003,"millis":0.354003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75401,"millis":0.075401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":386904,"millis":0.386904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":112401,"millis":0.112401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35001,"millis":0.035001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":74101,"millis":0.074101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872579077,"millis":872.579077,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1227812,"millis":1.227812,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":869008,"millis":0.869008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":893509,"millis":0.893509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":769607,"millis":0.769607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1203512,"millis":1.203512,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1006110,"millis":1.00611,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":132601,"millis":0.132601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":662006,"millis":0.662006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":721106,"millis":0.721106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":854908,"millis":0.854908,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":255002,"millis":0.255002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":203102,"millis":0.203102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.915 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":879309,"millis":0.879309,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":239202,"millis":0.239202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.916 [print] #notpresent \n"},{"result":{"nanos":776908,"millis":0.776908,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":153101,"millis":0.153101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.917 [print] OGC:WMS \n"},{"result":{"nanos":114801,"millis":0.114801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":117101,"millis":0.117101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.917 [print] #notpresent \n"},{"result":{"nanos":807408,"millis":0.807408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":188102,"millis":0.188102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.918 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":170902,"millis":0.170902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.918 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":825908,"millis":0.825908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":609806,"millis":0.609806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428804,"millis":0.428804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":888.008026,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","startTime":1639198834031,"refId":"[1.105:67]","endTime":1639198834920,"exampleData":{"datasetIdentifierCode":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9"},"exampleIndex":104},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.077 karate.env system property was: null \n"},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61001,"millis":0.061001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":437404,"millis":0.437404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":123102,"millis":0.123102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436404,"millis":0.436404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37601,"millis":0.037601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113501,"millis":0.113501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61501,"millis":0.061501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":878468015,"millis":878.468015,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":987009,"millis":0.987009,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":882009,"millis":0.882009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":705507,"millis":0.705507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":680806,"millis":0.680806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":953309,"millis":0.953309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":776708,"millis":0.776708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":83801,"millis":0.083801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":815808,"millis":0.815808,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":844808,"millis":0.844808,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":651006,"millis":0.651006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":221702,"millis":0.221702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":146202,"millis":0.146202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:34.966 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":746507,"millis":0.746507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":165302,"millis":0.165302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:34.967 [print] OGC:WMS \n"},{"result":{"nanos":800508,"millis":0.800508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":165301,"millis":0.165301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:34.968 [print] #notpresent \n"},{"result":{"nanos":101201,"millis":0.101201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128501,"millis":0.128501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:34.968 [print] OGC:WMS \n"},{"result":{"nanos":958009,"millis":0.958009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":2265722,"millis":2.265722,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:34.971 [print] Beheer PDOK \n"},{"result":{"nanos":702507,"millis":0.702507,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:34.972 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":877308,"millis":0.877308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":492805,"millis":0.492805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":402604,"millis":0.402604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":895.48298,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3d01c1ca-973c-4652-baa5-39458bb9e181","startTime":1639198834077,"refId":"[1.106:67]","endTime":1639198834974,"exampleData":{"datasetIdentifierCode":"3d01c1ca-973c-4652-baa5-39458bb9e181"},"exampleIndex":105},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.188 karate.env system property was: null \n"},{"result":{"nanos":54301,"millis":0.054301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":105901,"millis":0.105901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":94301,"millis":0.094301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":378104,"millis":0.378104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405204,"millis":0.405204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73801,"millis":0.073801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862389715,"millis":862.389715,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1338613,"millis":1.338613,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":839408,"millis":0.839408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":738107,"millis":0.738107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":686706,"millis":0.686706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":918409,"millis":0.918409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":814908,"millis":0.814908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":99801,"millis":0.099801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":698207,"millis":0.698207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":903409,"millis":0.903409,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":781907,"millis":0.781907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":176002,"millis":0.176002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":243002,"millis":0.243002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.061 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":903508,"millis":0.903508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":161502,"millis":0.161502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.062 [print] #notpresent \n"},{"result":{"nanos":777807,"millis":0.777807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":159102,"millis":0.159102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.063 [print] OGC:WMS \n"},{"result":{"nanos":98501,"millis":0.098501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114501,"millis":0.114501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.063 [print] #notpresent \n"},{"result":{"nanos":731307,"millis":0.731307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":170902,"millis":0.170902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.064 [print] RIVM \n"},{"result":{"nanos":139101,"millis":0.139101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.064 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":732306,"millis":0.732306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2261521,"millis":2.261521,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":462005,"millis":0.462005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.703571,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"745968a3-37af-4406-988e-ec595f58c7fe","startTime":1639198834188,"refId":"[1.107:67]","endTime":1639198835068,"exampleData":{"datasetIdentifierCode":"745968a3-37af-4406-988e-ec595f58c7fe"},"exampleIndex":106},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51101,"millis":0.051101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.239 karate.env system property was: null \n"},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":99401,"millis":0.099401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":520305,"millis":0.520305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":387204,"millis":0.387204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15901,"millis":0.015901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872505090,"millis":872.50509,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":956309,"millis":0.956309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":798208,"millis":0.798208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":734707,"millis":0.734707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":707007,"millis":0.707007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":848908,"millis":0.848908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":844408,"millis":0.844408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":126901,"millis":0.126901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":648907,"millis":0.648907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":722407,"millis":0.722407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1432613,"millis":1.432613,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":197002,"millis":0.197002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1283813,"millis":1.283813,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.123 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":822008,"millis":0.822008,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":196902,"millis":0.196902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.124 [print] #notpresent \n"},{"result":{"nanos":1143911,"millis":1.143911,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":560606,"millis":0.560606,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.125 [print] OGC:WMS \n"},{"result":{"nanos":133501,"millis":0.133501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":197402,"millis":0.197402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.126 [print] #notpresent \n"},{"result":{"nanos":1132011,"millis":1.132011,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":523005,"millis":0.523005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.127 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":785408,"millis":0.785408,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.128 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":705506,"millis":0.705506,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":744507,"millis":0.744507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":6949466,"millis":6.949466,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":897.109528,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b7880739-a701-4cc0-bb32-2bba61fa8924","startTime":1639198834239,"refId":"[1.108:67]","endTime":1639198835137,"exampleData":{"datasetIdentifierCode":"b7880739-a701-4cc0-bb32-2bba61fa8924"},"exampleIndex":107},{"sectionIndex":0,"stepResults":[{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.923 karate.env system property was: null \n"},{"result":{"nanos":43001,"millis":0.043001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129501,"millis":0.129501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":164701,"millis":0.164701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":651806,"millis":0.651806,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":134101,"millis":0.134101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":515105,"millis":0.515105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":104501,"millis":0.104501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":184102,"millis":0.184102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":25201,"millis":0.025201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871585208,"millis":871.585208,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1056410,"millis":1.05641,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":735507,"millis":0.735507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":689107,"millis":0.689107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":662806,"millis":0.662806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":767907,"millis":0.767907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1143411,"millis":1.143411,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":852408,"millis":0.852408,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":694006,"millis":0.694006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":725506,"millis":0.725506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100801,"millis":0.100801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":521505,"millis":0.521505,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.806 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":760407,"millis":0.760407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79501,"millis":0.079501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.807 [print] #notpresent \n"},{"result":{"nanos":679807,"millis":0.679807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87301,"millis":0.087301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.807 [print] #notpresent \n"},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":51301,"millis":0.051301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.808 [print] #notpresent \n"},{"result":{"nanos":794707,"millis":0.794707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":101201,"millis":0.101201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.808 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.809 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":876209,"millis":0.876209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":875608,"millis":0.875608,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":573606,"millis":0.573606,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":886.795753,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","startTime":1639198834923,"refId":"[1.109:67]","endTime":1639198835811,"exampleData":{"datasetIdentifierCode":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b"},"exampleIndex":108},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:34.977 karate.env system property was: null \n"},{"result":{"nanos":44001,"millis":0.044001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133701,"millis":0.133701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":180902,"millis":0.180902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367403,"millis":0.367403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":148301,"millis":0.148301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":559605,"millis":0.559605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":136401,"millis":0.136401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":6055858,"millis":6.055858,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":100301,"millis":0.100301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41801,"millis":0.041801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26801,"millis":0.026801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853177832,"millis":853.177832,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":997610,"millis":0.99761,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":739107,"millis":0.739107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":685307,"millis":0.685307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":714407,"millis":0.714407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":840108,"millis":0.840108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":892708,"millis":0.892708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":600706,"millis":0.600706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":903608,"millis":0.903608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":637206,"millis":0.637206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82001,"millis":0.082001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":112701,"millis":0.112701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.846 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":693006,"millis":0.693006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74600,"millis":0.0746,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.847 [print] #notpresent \n"},{"result":{"nanos":685607,"millis":0.685607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75201,"millis":0.075201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.847 [print] #notpresent \n"},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74901,"millis":0.074901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.848 [print] #notpresent \n"},{"result":{"nanos":807908,"millis":0.807908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79201,"millis":0.079201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.849 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.849 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":809108,"millis":0.809108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":788908,"millis":0.788908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":434304,"millis":0.434304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.01192,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"56093b94-7517-456d-a0d4-338aba3d8c74","startTime":1639198834976,"refId":"[1.110:67]","endTime":1639198835851,"exampleData":{"datasetIdentifierCode":"56093b94-7517-456d-a0d4-338aba3d8c74"},"exampleIndex":109},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63901,"millis":0.063901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.072 karate.env system property was: null \n"},{"result":{"nanos":47201,"millis":0.047201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":140801,"millis":0.140801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":168702,"millis":0.168702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":469604,"millis":0.469604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":163702,"millis":0.163702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":488305,"millis":0.488305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":100101,"millis":0.100101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":526605,"millis":0.526605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":86201,"millis":0.086201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":60001,"millis":0.060001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":28001,"millis":0.028001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856645465,"millis":856.645465,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":945409,"millis":0.945409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":647807,"millis":0.647807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":816808,"millis":0.816808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":868708,"millis":0.868708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":879409,"millis":0.879409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":746307,"millis":0.746307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":580006,"millis":0.580006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":699707,"millis":0.699707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":647806,"millis":0.647806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":116701,"millis":0.116701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":861409,"millis":0.861409,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:35.939 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":844708,"millis":0.844708,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:35.940 [print] #notpresent \n"},{"result":{"nanos":692506,"millis":0.692506,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112001,"millis":0.112001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:35.941 [print] #notpresent \n"},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":46001,"millis":0.046001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:35.941 [print] #notpresent \n"},{"result":{"nanos":712007,"millis":0.712007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93101,"millis":0.093101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:35.942 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:35.942 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":711307,"millis":0.711307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":806608,"millis":0.806608,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":6280860,"millis":6.28086,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.418767,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"35546103-58eb-4f61-a858-a6fbc5a7e814","startTime":1639198835071,"refId":"[1.111:67]","endTime":1639198835950,"exampleData":{"datasetIdentifierCode":"35546103-58eb-4f61-a858-a6fbc5a7e814"},"exampleIndex":110},{"sectionIndex":0,"stepResults":[{"result":{"nanos":66201,"millis":0.066201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.141 karate.env system property was: null \n"},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":172902,"millis":0.172902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":213602,"millis":0.213602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":479705,"millis":0.479705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142701,"millis":0.142701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":462104,"millis":0.462104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":99501,"millis":0.099501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":147301,"millis":0.147301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66100,"millis":0.0661,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26501,"millis":0.026501,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873550126,"millis":873.550126,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1026610,"millis":1.02661,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":749907,"millis":0.749907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":659307,"millis":0.659307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":713207,"millis":0.713207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":884408,"millis":0.884408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":929509,"millis":0.929509,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32101,"millis":0.032101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":567405,"millis":0.567405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":777708,"millis":0.777708,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":832608,"millis":0.832608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":821308,"millis":0.821308,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":733207,"millis":0.733207,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.027 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":736307,"millis":0.736307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":741607,"millis":0.741607,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.029 [print] INSPIRE Atom \n"},{"result":{"nanos":718007,"millis":0.718007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":471305,"millis":0.471305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.030 [print] #notpresent \n"},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":464405,"millis":0.464405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.030 [print] INSPIRE Atom \n"},{"result":{"nanos":816508,"millis":0.816508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":484204,"millis":0.484204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.032 [print] Beheer PDOK \n"},{"result":{"nanos":835407,"millis":0.835407,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.033 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":769107,"millis":0.769107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":667706,"millis":0.667706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":418004,"millis":0.418004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.518497,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","startTime":1639198835139,"refId":"[1.112:67]","endTime":1639198836035,"exampleData":{"datasetIdentifierCode":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507"},"exampleIndex":111},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.814 karate.env system property was: null \n"},{"result":{"nanos":32401,"millis":0.032401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":378604,"millis":0.378604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444505,"millis":0.444505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59001,"millis":0.059001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852326424,"millis":852.326424,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1086710,"millis":1.08671,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":882009,"millis":0.882009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":843708,"millis":0.843708,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":688706,"millis":0.688706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":747007,"millis":0.747007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1117410,"millis":1.11741,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":766507,"millis":0.766507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":760008,"millis":0.760008,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":708607,"millis":0.708607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":119401,"millis":0.119401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":178302,"millis":0.178302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.676 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":703007,"millis":0.703007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145901,"millis":0.145901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.676 [print] #notpresent \n"},{"result":{"nanos":676107,"millis":0.676107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99401,"millis":0.099401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.677 [print] #notpresent \n"},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.677 [print] #notpresent \n"},{"result":{"nanos":868509,"millis":0.868509,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119601,"millis":0.119601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.678 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":75501,"millis":0.075501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.678 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":784407,"millis":0.784407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":683207,"millis":0.683207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":457504,"millis":0.457504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.232057,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"92826f1e-040d-4099-b9e1-cab6bfc520af","startTime":1639198835813,"refId":"[1.113:67]","endTime":1639198836680,"exampleData":{"datasetIdentifierCode":"92826f1e-040d-4099-b9e1-cab6bfc520af"},"exampleIndex":112},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.853 karate.env system property was: null \n"},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72601,"millis":0.072601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59301,"millis":0.059301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334003,"millis":0.334003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":492504,"millis":0.492504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56901,"millis":0.056901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79701,"millis":0.079701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16201,"millis":0.016201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844142446,"millis":844.142446,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":778407,"millis":0.778407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":811307,"millis":0.811307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":778608,"millis":0.778608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":702907,"millis":0.702907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":909308,"millis":0.909308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":696406,"millis":0.696406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29701,"millis":0.029701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":696406,"millis":0.696406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":617506,"millis":0.617506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":627206,"millis":0.627206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":114301,"millis":0.114301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":142401,"millis":0.142401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.706 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":622406,"millis":0.622406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108801,"millis":0.108801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.707 [print] #notpresent \n"},{"result":{"nanos":602205,"millis":0.602205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110801,"millis":0.110801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.708 [print] #notpresent \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76801,"millis":0.076801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.708 [print] #notpresent \n"},{"result":{"nanos":903508,"millis":0.903508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":149801,"millis":0.149801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.709 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":75501,"millis":0.075501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.709 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":758007,"millis":0.758007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":476905,"millis":0.476905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":401604,"millis":0.401604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.686962,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"257b960c-ece6-4e0f-b893-77b219c6133f","startTime":1639198835853,"refId":"[1.114:67]","endTime":1639198836710,"exampleData":{"datasetIdentifierCode":"257b960c-ece6-4e0f-b893-77b219c6133f"},"exampleIndex":113},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19101,"millis":0.019101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:35.952 karate.env system property was: null \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":459005,"millis":0.459005,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437905,"millis":0.437905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72801,"millis":0.072801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75701,"millis":0.075701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5601,"millis":0.005601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":86800,"millis":0.0868,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854548245,"millis":854.548245,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1108811,"millis":1.108811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":795108,"millis":0.795108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":667806,"millis":0.667806,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":632606,"millis":0.632606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":701907,"millis":0.701907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1080211,"millis":1.080211,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":764408,"millis":0.764408,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":621506,"millis":0.621506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":607806,"millis":0.607806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":156701,"millis":0.156701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":151002,"millis":0.151002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.816 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":638006,"millis":0.638006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103101,"millis":0.103101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.817 [print] INSPIRE Atom \n"},{"result":{"nanos":608106,"millis":0.608106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":79701,"millis":0.079701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.818 [print] #notpresent \n"},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86301,"millis":0.086301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.818 [print] INSPIRE Atom \n"},{"result":{"nanos":917609,"millis":0.917609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112401,"millis":0.112401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.819 [print] Beheer PDOK \n"},{"result":{"nanos":156802,"millis":0.156802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.819 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":741207,"millis":0.741207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":761907,"millis":0.761907,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389904,"millis":0.389904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.963777,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","startTime":1639198835952,"refId":"[1.115:67]","endTime":1639198836821,"exampleData":{"datasetIdentifierCode":"93c8762c-4cbb-42b0-9b02-89ef902e8880"},"exampleIndex":114},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.038 karate.env system property was: null \n"},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64400,"millis":0.0644,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60001,"millis":0.060001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":751107,"millis":0.751107,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53701,"millis":0.053701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":571005,"millis":0.571005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38401,"millis":0.038401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":463504,"millis":0.463504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21901,"millis":0.021901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60101,"millis":0.060101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846691970,"millis":846.69197,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1345513,"millis":1.345513,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":792807,"millis":0.792807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":844809,"millis":0.844809,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":776407,"millis":0.776407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":856208,"millis":0.856208,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":750407,"millis":0.750407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":578106,"millis":0.578106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":583205,"millis":0.583205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":794307,"millis":0.794307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":203502,"millis":0.203502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:36.895 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":740407,"millis":0.740407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108101,"millis":0.108101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:36.896 [print] OGC:WMS \n"},{"result":{"nanos":776607,"millis":0.776607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95101,"millis":0.095101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:36.897 [print] #notpresent \n"},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:36.897 [print] OGC:WMS \n"},{"result":{"nanos":849108,"millis":0.849108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:36.898 [print] Beheer PDOK \n"},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:36.898 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n"},{"result":{"nanos":735907,"millis":0.735907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":608606,"millis":0.608606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363804,"millis":0.363804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.057105,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d293204f-6581-4b0a-811b-1dcce97adedd","startTime":1639198836037,"refId":"[1.116:67]","endTime":1639198836900,"exampleData":{"datasetIdentifierCode":"d293204f-6581-4b0a-811b-1dcce97adedd"},"exampleIndex":115},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.683 karate.env system property was: null \n"},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78100,"millis":0.0781,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58801,"millis":0.058801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":393204,"millis":0.393204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64301,"millis":0.064301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455904,"millis":0.455904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":90900,"millis":0.0909,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16601,"millis":0.016601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53701,"millis":0.053701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848612889,"millis":848.612889,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1163411,"millis":1.163411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'"}},{"result":{"nanos":939009,"millis":0.939009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":917309,"millis":0.917309,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1021110,"millis":1.02111,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1479214,"millis":1.479214,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":956609,"millis":0.956609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98901,"millis":0.098901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":672007,"millis":0.672007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1272512,"millis":1.272512,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":907809,"millis":0.907809,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":204602,"millis":0.204602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":259302,"millis":0.259302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.544 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":941809,"millis":0.941809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":189002,"millis":0.189002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.545 [print] #notpresent \n"},{"result":{"nanos":838508,"millis":0.838508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":386004,"millis":0.386004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.546 [print] OGC:WMS \n"},{"result":{"nanos":100101,"millis":0.100101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":225902,"millis":0.225902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.547 [print] #notpresent \n"},{"result":{"nanos":769208,"millis":0.769208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":260702,"millis":0.260702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.548 [print] Beheer PDOK \n"},{"result":{"nanos":158402,"millis":0.158402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.548 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n"},{"result":{"nanos":1048610,"millis":1.04861,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":784808,"millis":0.784808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":375903,"millis":0.375903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.920456,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"6de8b875-c4c2-4469-ac80-0782bb67f285","startTime":1639198836683,"refId":"[1.117:67]","endTime":1639198837550,"exampleData":{"datasetIdentifierCode":"6de8b875-c4c2-4469-ac80-0782bb67f285"},"exampleIndex":116},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.715 karate.env system property was: null \n"},{"result":{"nanos":30601,"millis":0.030601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59001,"millis":0.059001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":323903,"millis":0.323903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50601,"millis":0.050601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":387104,"millis":0.387104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":90301,"millis":0.090301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":106501,"millis":0.106501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862790924,"millis":862.790924,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1008810,"millis":1.00881,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":833208,"millis":0.833208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":857309,"millis":0.857309,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":914708,"millis":0.914708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1191911,"millis":1.191911,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1066810,"millis":1.06681,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":128302,"millis":0.128302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":839408,"millis":0.839408,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":9420490,"millis":9.42049,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":849608,"millis":0.849608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":193002,"millis":0.193002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":395004,"millis":0.395004,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.597 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n"},{"result":{"nanos":788807,"millis":0.788807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":279602,"millis":0.279602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.598 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":921408,"millis":0.921408,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":390604,"millis":0.390604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.599 [print] #notpresent \n"},{"result":{"nanos":101201,"millis":0.101201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":351304,"millis":0.351304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.600 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":850908,"millis":0.850908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":286903,"millis":0.286903,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.601 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":284003,"millis":0.284003,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.601 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":802007,"millis":0.802007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":588406,"millis":0.588406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":593206,"millis":0.593206,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.975865,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","startTime":1639198836713,"refId":"[1.118:67]","endTime":1639198837603,"exampleData":{"datasetIdentifierCode":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7"},"exampleIndex":117},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.823 karate.env system property was: null \n"},{"result":{"nanos":136001,"millis":0.136001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67401,"millis":0.067401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":447504,"millis":0.447504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50701,"millis":0.050701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":442004,"millis":0.442004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5501,"millis":0.005501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":93101,"millis":0.093101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":861243909,"millis":861.243909,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1475714,"millis":1.475714,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":737707,"millis":0.737707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":944709,"millis":0.944709,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":718907,"millis":0.718907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":858508,"millis":0.858508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":817308,"millis":0.817308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93801,"millis":0.093801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":652906,"millis":0.652906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":675707,"millis":0.675707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":690807,"millis":0.690807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":206502,"millis":0.206502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1099210,"millis":1.09921,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.696 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n"},{"result":{"nanos":677807,"millis":0.677807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":646906,"millis":0.646906,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.697 [print] #notpresent \n"},{"result":{"nanos":766708,"millis":0.766708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":159501,"millis":0.159501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.698 [print] INSPIRE Atom \n"},{"result":{"nanos":417904,"millis":0.417904,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":162302,"millis":0.162302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.698 [print] #notpresent \n"},{"result":{"nanos":1060310,"millis":1.06031,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":175102,"millis":0.175102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.700 [print] Informatiehuis Water \n"},{"result":{"nanos":552305,"millis":0.552305,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.700 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":1342113,"millis":1.342113,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1016510,"millis":1.01651,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":551105,"millis":0.551105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.212683,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ef2a7962-8bb4-483f-ca52-85123f579","startTime":1639198836823,"refId":"[1.119:67]","endTime":1639198837703,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ca52-85123f579"},"exampleIndex":118},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:36.902 karate.env system property was: null \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52801,"millis":0.052801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":321003,"millis":0.321003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417204,"millis":0.417204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854168542,"millis":854.168542,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":964909,"millis":0.964909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":870008,"millis":0.870008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":705707,"millis":0.705707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":786507,"millis":0.786507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1182811,"millis":1.182811,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":940909,"millis":0.940909,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":159402,"millis":0.159402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":761507,"millis":0.761507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":860608,"millis":0.860608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":950709,"millis":0.950709,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":141301,"millis":0.141301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1304812,"millis":1.304812,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:37.767 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n"},{"result":{"nanos":786207,"millis":0.786207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":494305,"millis":0.494305,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:37.768 [print] OGC:WMS \n"},{"result":{"nanos":814108,"millis":0.814108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":488905,"millis":0.488905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:37.769 [print] #notpresent \n"},{"result":{"nanos":98001,"millis":0.098001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":428004,"millis":0.428004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:37.770 [print] OGC:WMS \n"},{"result":{"nanos":971309,"millis":0.971309,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":644006,"millis":0.644006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:37.771 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":199801,"millis":0.199801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:37.772 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":1527814,"millis":1.527814,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1482914,"millis":1.482914,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1316113,"millis":1.316113,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.246428,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","startTime":1639198836901,"refId":"[1.120:67]","endTime":1639198837776,"exampleData":{"datasetIdentifierCode":"ea4cb6a2-f637-413a-91cc-d58473c2f138"},"exampleIndex":119},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.554 karate.env system property was: null \n"},{"result":{"nanos":42801,"millis":0.042801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":489305,"millis":0.489305,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":179301,"millis":0.179301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":439404,"millis":0.439404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":150502,"millis":0.150502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":515405,"millis":0.515405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":96701,"millis":0.096701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":199802,"millis":0.199802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31001,"millis":0.031001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24701,"millis":0.024701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844956853,"millis":844.956853,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1080210,"millis":1.08021,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101304f0-2cf2-4ce0-aa23-cd7e4000fbba'"}},{"result":{"nanos":732607,"millis":0.732607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":640406,"millis":0.640406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":649807,"millis":0.649807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":656706,"millis":0.656706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":677107,"millis":0.677107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":676807,"millis":0.676807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":618506,"millis":0.618506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":597005,"millis":0.597005,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":659006,"millis":0.659006,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":520305,"millis":0.520305,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.409 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":674506,"millis":0.674506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":426104,"millis":0.426104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.410 [print] INSPIRE Atom \n"},{"result":{"nanos":662306,"millis":0.662306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":489405,"millis":0.489405,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.411 [print] #notpresent \n"},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":413104,"millis":0.413104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.412 [print] INSPIRE Atom \n"},{"result":{"nanos":858608,"millis":0.858608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":513505,"millis":0.513505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.413 [print] Beheer PDOK \n"},{"result":{"nanos":757107,"millis":0.757107,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.414 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n"},{"result":{"nanos":744307,"millis":0.744307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":773908,"millis":0.773908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":452504,"millis":0.452504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"101304f0-2cf2-4ce0-aa23-cd7e4000fbba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.727212,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba","startTime":1639198837553,"refId":"[1.121:67]","endTime":1639198838416,"exampleData":{"datasetIdentifierCode":"101304f0-2cf2-4ce0-aa23-cd7e4000fbba"},"exampleIndex":120},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.606 karate.env system property was: null \n"},{"result":{"nanos":42601,"millis":0.042601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":166001,"millis":0.166001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":175901,"millis":0.175901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":455105,"millis":0.455105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":158101,"millis":0.158101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":512404,"millis":0.512404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":125601,"millis":0.125601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":299803,"millis":0.299803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35101,"millis":0.035101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845880562,"millis":845.880562,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":739707,"millis":0.739707,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":763807,"millis":0.763807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":670507,"millis":0.670507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":648006,"millis":0.648006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":727407,"millis":0.727407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":635906,"millis":0.635906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29301,"millis":0.029301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":547105,"millis":0.547105,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":598706,"millis":0.598706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":610806,"millis":0.610806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86601,"millis":0.086601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":277402,"millis":0.277402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.462 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":829908,"millis":0.829908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":171602,"millis":0.171602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.463 [print] OGC:WFS \n"},{"result":{"nanos":1813717,"millis":1.813717,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94301,"millis":0.094301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.465 [print] #notpresent \n"},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":60000,"millis":0.06,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.465 [print] OGC:WFS \n"},{"result":{"nanos":991610,"millis":0.99161,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":121301,"millis":0.121301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.466 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":40501,"millis":0.040501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.466 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":977509,"millis":0.977509,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":795308,"millis":0.795308,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":417504,"millis":0.417504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.802003,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","startTime":1639198837606,"refId":"[1.122:67]","endTime":1639198838468,"exampleData":{"datasetIdentifierCode":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394"},"exampleIndex":121},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59501,"millis":0.059501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.706 karate.env system property was: null \n"},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":147202,"millis":0.147202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":132501,"millis":0.132501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":398504,"millis":0.398504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":172402,"millis":0.172402,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":467204,"millis":0.467204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":89400,"millis":0.0894,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":157402,"millis":0.157402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":370604,"millis":0.370604,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27601,"millis":0.027601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851412015,"millis":851.412015,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":887708,"millis":0.887708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":758008,"millis":0.758008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":696506,"millis":0.696506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1257112,"millis":1.257112,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":749407,"millis":0.749407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":732007,"millis":0.732007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":615506,"millis":0.615506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":627906,"millis":0.627906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":651007,"millis":0.651007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80801,"millis":0.080801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":326903,"millis":0.326903,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.569 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":704907,"millis":0.704907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":144401,"millis":0.144401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.569 [print] #notpresent \n"},{"result":{"nanos":757507,"millis":0.757507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85201,"millis":0.085201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.570 [print] OGC:WFS \n"},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94201,"millis":0.094201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.571 [print] #notpresent \n"},{"result":{"nanos":822208,"millis":0.822208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.572 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.572 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":888508,"millis":0.888508,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":851209,"millis":0.851209,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":521605,"millis":0.521605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.132656,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"73286af2-d0f4-4a62-9455-86ffa45ef279","startTime":1639198837706,"refId":"[1.123:67]","endTime":1639198838574,"exampleData":{"datasetIdentifierCode":"73286af2-d0f4-4a62-9455-86ffa45ef279"},"exampleIndex":122},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56801,"millis":0.056801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:37.779 karate.env system property was: null \n"},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129802,"millis":0.129802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":146201,"millis":0.146201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":396704,"millis":0.396704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124901,"millis":0.124901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":477505,"millis":0.477505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98101,"millis":0.098101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":164302,"millis":0.164302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":98901,"millis":0.098901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":126501,"millis":0.126501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32901,"millis":0.032901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":23301,"millis":0.023301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855844058,"millis":855.844058,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":925009,"millis":0.925009,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":802508,"millis":0.802508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":750007,"millis":0.750007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":743207,"millis":0.743207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":872508,"millis":0.872508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":814707,"millis":0.814707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53001,"millis":0.053001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":641006,"millis":0.641006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":630707,"millis":0.630707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":737907,"millis":0.737907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87201,"millis":0.087201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":125101,"millis":0.125101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:38.645 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":791707,"millis":0.791707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111701,"millis":0.111701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:38.647 [print] OGC:WFS \n"},{"result":{"nanos":754907,"millis":0.754907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91001,"millis":0.091001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:38.647 [print] #notpresent \n"},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":179101,"millis":0.179101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:38.648 [print] OGC:WFS \n"},{"result":{"nanos":916209,"millis":0.916209,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":101701,"millis":0.101701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:38.649 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":51201,"millis":0.051201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:38.649 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":874808,"millis":0.874808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":697707,"millis":0.697707,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":438704,"millis":0.438704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.071895,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","startTime":1639198837779,"refId":"[1.124:67]","endTime":1639198838651,"exampleData":{"datasetIdentifierCode":"923a666c-ee4f-496c-8c85-94d5f81e1f30"},"exampleIndex":123},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.419 karate.env system property was: null \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61801,"millis":0.061801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":380403,"millis":0.380403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":94101,"millis":0.094101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":389704,"millis":0.389704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35101,"millis":0.035101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":311403,"millis":0.311403,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":6601,"millis":0.006601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":886320348,"millis":886.320348,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":933809,"millis":0.933809,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":766707,"millis":0.766707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":640107,"millis":0.640107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":806707,"millis":0.806707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":745807,"millis":0.745807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":762407,"millis":0.762407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":721107,"millis":0.721107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":575506,"millis":0.575506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":583106,"millis":0.583106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80400,"millis":0.0804,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":114101,"millis":0.114101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.314 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":993709,"millis":0.993709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":160302,"millis":0.160302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.315 [print] OGC:WMS \n"},{"result":{"nanos":859808,"millis":0.859808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":144802,"millis":0.144802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.316 [print] #notpresent \n"},{"result":{"nanos":175702,"millis":0.175702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":109001,"millis":0.109001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.317 [print] OGC:WMS \n"},{"result":{"nanos":738407,"millis":0.738407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102201,"millis":0.102201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.317 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":215802,"millis":0.215802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.318 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":985709,"millis":0.985709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":726007,"millis":0.726007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":399604,"millis":0.399604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":900.266882,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","startTime":1639198838418,"refId":"[1.125:67]","endTime":1639198839320,"exampleData":{"datasetIdentifierCode":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8"},"exampleIndex":124},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.470 karate.env system property was: null \n"},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90501,"millis":0.090501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":392104,"millis":0.392104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444604,"millis":0.444604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97501,"millis":0.097501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":150501,"millis":0.150501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":6301,"millis":0.006301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850852410,"millis":850.85241,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":675606,"millis":0.675606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":656307,"millis":0.656307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":719807,"millis":0.719807,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":664806,"millis":0.664806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":689107,"millis":0.689107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":696107,"millis":0.696107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":615106,"millis":0.615106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":655307,"millis":0.655307,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":602905,"millis":0.602905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":4162039,"millis":4.162039,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163702,"millis":0.163702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.334 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":781407,"millis":0.781407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123801,"millis":0.123801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.335 [print] INSPIRE Atom \n"},{"result":{"nanos":720507,"millis":0.720507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139201,"millis":0.139201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.336 [print] #notpresent \n"},{"result":{"nanos":124402,"millis":0.124402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136201,"millis":0.136201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.336 [print] INSPIRE Atom \n"},{"result":{"nanos":808808,"millis":0.808808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":172102,"millis":0.172102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.337 [print] Beheer PDOK \n"},{"result":{"nanos":211502,"millis":0.211502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.337 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":789907,"millis":0.789907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":516605,"millis":0.516605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":424304,"millis":0.424304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.628671,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","startTime":1639198838470,"refId":"[1.126:67]","endTime":1639198839339,"exampleData":{"datasetIdentifierCode":"88a337a9-bed3-4d79-80fa-ff4b45990d7d"},"exampleIndex":125},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.577 karate.env system property was: null \n"},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59201,"millis":0.059201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":430404,"millis":0.430404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52001,"millis":0.052001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450204,"millis":0.450204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":419604,"millis":0.419604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":870509,"millis":0.870509,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":80300,"millis":0.0803,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838586193,"millis":838.586193,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":976309,"millis":0.976309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":651306,"millis":0.651306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":740907,"millis":0.740907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":635606,"millis":0.635606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":732707,"millis":0.732707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":757108,"millis":0.757108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":847508,"millis":0.847508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":571206,"millis":0.571206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":570605,"millis":0.570605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":104701,"millis":0.104701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163402,"millis":0.163402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.425 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1344113,"millis":1.344113,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127601,"millis":0.127601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.427 [print] INSPIRE Atom \n"},{"result":{"nanos":823107,"millis":0.823107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93601,"millis":0.093601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.428 [print] #notpresent \n"},{"result":{"nanos":34201,"millis":0.034201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82701,"millis":0.082701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.428 [print] INSPIRE Atom \n"},{"result":{"nanos":945509,"millis":0.945509,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87501,"millis":0.087501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.429 [print] Beheer PDOK \n"},{"result":{"nanos":758608,"millis":0.758608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.430 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":748007,"millis":0.748007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":835708,"millis":0.835708,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":424604,"millis":0.424604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.268343,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","startTime":1639198838576,"refId":"[1.127:67]","endTime":1639198839432,"exampleData":{"datasetIdentifierCode":"cb13a608-3d78-4f79-ba60-be63ccd6e268"},"exampleIndex":126},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:38.654 karate.env system property was: null \n"},{"result":{"nanos":33701,"millis":0.033701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100601,"millis":0.100601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":417004,"millis":0.417004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":187002,"millis":0.187002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":485104,"millis":0.485104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38801,"millis":0.038801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60801,"millis":0.060801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":832754838,"millis":832.754838,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":874408,"millis":0.874408,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":797907,"millis":0.797907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":685407,"millis":0.685407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":18219674,"millis":18.219674,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1469014,"millis":1.469014,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":971109,"millis":0.971109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":110601,"millis":0.110601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":698706,"millis":0.698706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":834508,"millis":0.834508,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":767308,"millis":0.767308,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1018910,"millis":1.01891,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":683306,"millis":0.683306,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:39.516 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":834208,"millis":0.834208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":163101,"millis":0.163101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:39.517 [print] #notpresent \n"},{"result":{"nanos":984110,"millis":0.98411,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":173501,"millis":0.173501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:39.518 [print] #notpresent \n"},{"result":{"nanos":254102,"millis":0.254102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":367104,"millis":0.367104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:39.518 [print] #notpresent \n"},{"result":{"nanos":805207,"millis":0.805207,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":188901,"millis":0.188901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:39.520 [print] KNMI \n"},{"result":{"nanos":147002,"millis":0.147002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:39.520 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":733807,"millis":0.733807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":573306,"millis":0.573306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":549805,"millis":0.549805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.182164,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c6308500-3439-4840-88cb-7532cabbfcb4","startTime":1639198838653,"refId":"[1.128:67]","endTime":1639198839522,"exampleData":{"datasetIdentifierCode":"c6308500-3439-4840-88cb-7532cabbfcb4"},"exampleIndex":127},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.331 karate.env system property was: null \n"},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":104201,"millis":0.104201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60601,"millis":0.060601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":465804,"millis":0.465804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49701,"millis":0.049701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":474304,"millis":0.474304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44701,"millis":0.044701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":109401,"millis":0.109401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":135501,"millis":0.135501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859753795,"millis":859.753795,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1103111,"millis":1.103111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'"}},{"result":{"nanos":670306,"millis":0.670306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":663507,"millis":0.663507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":714907,"millis":0.714907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1120511,"millis":1.120511,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":977509,"millis":0.977509,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":144002,"millis":0.144002,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":706507,"millis":0.706507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":713306,"millis":0.713306,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":555205,"millis":0.555205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":192802,"millis":0.192802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":604706,"millis":0.604706,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.201 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":707407,"millis":0.707407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":207702,"millis":0.207702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.202 [print] INSPIRE Atom \n"},{"result":{"nanos":989909,"millis":0.989909,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":196601,"millis":0.196601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.203 [print] #notpresent \n"},{"result":{"nanos":373503,"millis":0.373503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":138901,"millis":0.138901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.204 [print] INSPIRE Atom \n"},{"result":{"nanos":818307,"millis":0.818307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153102,"millis":0.153102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.205 [print] Beheer PDOK \n"},{"result":{"nanos":291303,"millis":0.291303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.205 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":796108,"millis":0.796108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":811607,"millis":0.811607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":487905,"millis":0.487905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.486745,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","startTime":1639198839330,"refId":"[1.129:67]","endTime":1639198840207,"exampleData":{"datasetIdentifierCode":"555f668f-63b4-47ef-a666-f12d71c2cc4a"},"exampleIndex":128},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.341 karate.env system property was: null \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":157302,"millis":0.157302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71301,"millis":0.071301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":257102,"millis":0.257102,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42801,"millis":0.042801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":505205,"millis":0.505205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106001,"millis":0.106001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19401,"millis":0.019401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":182501,"millis":0.182501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":91401,"millis":0.091401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875370044,"millis":875.370044,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":809108,"millis":0.809108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":821108,"millis":0.821108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":801707,"millis":0.801707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":732407,"millis":0.732407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":852408,"millis":0.852408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":874808,"millis":0.874808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91601,"millis":0.091601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":688507,"millis":0.688507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":767407,"millis":0.767407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":707107,"millis":0.707107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":169602,"millis":0.169602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":279203,"millis":0.279203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.226 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1225112,"millis":1.225112,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":210102,"millis":0.210102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.227 [print] #notpresent \n"},{"result":{"nanos":935609,"millis":0.935609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":179502,"millis":0.179502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.229 [print] #notpresent \n"},{"result":{"nanos":183302,"millis":0.183302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":208002,"millis":0.208002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.229 [print] #notpresent \n"},{"result":{"nanos":802407,"millis":0.802407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":326104,"millis":0.326104,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.230 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":171101,"millis":0.171101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.230 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":765808,"millis":0.765808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":481505,"millis":0.481505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344703,"millis":0.344703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":890.375389,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"94ed09fe-1753-4861-8c62-d66251b7cde3","startTime":1639198839341,"refId":"[1.130:67]","endTime":1639198840232,"exampleData":{"datasetIdentifierCode":"94ed09fe-1753-4861-8c62-d66251b7cde3"},"exampleIndex":129},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.435 karate.env system property was: null \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":139201,"millis":0.139201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69901,"millis":0.069901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":378404,"millis":0.378404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":451105,"millis":0.451105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":156202,"millis":0.156202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":5801,"millis":0.005801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872735118,"millis":872.735118,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1139411,"millis":1.139411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":700407,"millis":0.700407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":644906,"millis":0.644906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":747507,"millis":0.747507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":887109,"millis":0.887109,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":887408,"millis":0.887408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":163102,"millis":0.163102,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":645106,"millis":0.645106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":737207,"millis":0.737207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":708106,"millis":0.708106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":440804,"millis":0.440804,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":357003,"millis":0.357003,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.318 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":1138510,"millis":1.13851,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":391903,"millis":0.391903,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.319 [print] INSPIRE Atom \n"},{"result":{"nanos":860108,"millis":0.860108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":339503,"millis":0.339503,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.320 [print] #notpresent \n"},{"result":{"nanos":175002,"millis":0.175002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":353203,"millis":0.353203,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.321 [print] INSPIRE Atom \n"},{"result":{"nanos":805408,"millis":0.805408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":290803,"millis":0.290803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.322 [print] Beheer PDOK \n"},{"result":{"nanos":458305,"millis":0.458305,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.323 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":694806,"millis":0.694806,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":506004,"millis":0.506004,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":357303,"millis":0.357303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":888.633367,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","startTime":1639198839434,"refId":"[1.131:67]","endTime":1639198840324,"exampleData":{"datasetIdentifierCode":"52d0313e-0d2b-44b4-b51e-d9e504307f70"},"exampleIndex":130},{"sectionIndex":0,"stepResults":[{"result":{"nanos":2773026,"millis":2.773026,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:39.524 karate.env system property was: null \n"},{"result":{"nanos":142702,"millis":0.142702,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":232302,"millis":0.232302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":202902,"millis":0.202902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":524105,"millis":0.524105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":148602,"millis":0.148602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":623306,"millis":0.623306,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":140901,"millis":0.140901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":224102,"millis":0.224102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":52101,"millis":0.052101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":24901,"millis":0.024901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859167689,"millis":859.167689,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":964409,"millis":0.964409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":739307,"millis":0.739307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716706,"millis":0.716706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":768107,"millis":0.768107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":765407,"millis":0.765407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":979910,"millis":0.97991,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":640506,"millis":0.640506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":761707,"millis":0.761707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":640406,"millis":0.640406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105401,"millis":0.105401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":136102,"millis":0.136102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:40.397 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":704207,"millis":0.704207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":106001,"millis":0.106001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:40.398 [print] #notpresent \n"},{"result":{"nanos":720607,"millis":0.720607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:40.399 [print] #notpresent \n"},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":220802,"millis":0.220802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:40.399 [print] #notpresent \n"},{"result":{"nanos":825508,"millis":0.825508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83301,"millis":0.083301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:40.400 [print] KNMI \n"},{"result":{"nanos":39701,"millis":0.039701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:40.400 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":790607,"millis":0.790607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":669207,"millis":0.669207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363903,"millis":0.363903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":876.366253,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","startTime":1639198839524,"refId":"[1.132:67]","endTime":1639198840402,"exampleData":{"datasetIdentifierCode":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0"},"exampleIndex":131},{"sectionIndex":0,"stepResults":[{"result":{"nanos":99800,"millis":0.0998,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.210 karate.env system property was: null \n"},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":139501,"millis":0.139501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":192001,"millis":0.192001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":432705,"millis":0.432705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":123501,"millis":0.123501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":521105,"millis":0.521105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":111001,"millis":0.111001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":156401,"millis":0.156401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":142301,"millis":0.142301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23801,"millis":0.023801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852443225,"millis":852.443225,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":9393090,"millis":9.39309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":870808,"millis":0.870808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":946509,"millis":0.946509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":764108,"millis":0.764108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":835608,"millis":0.835608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":794507,"millis":0.794507,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":695807,"millis":0.695807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":703607,"millis":0.703607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":674406,"millis":0.674406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":369904,"millis":0.369904,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":335903,"millis":0.335903,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.082 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":665307,"millis":0.665307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":290003,"millis":0.290003,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.083 [print] OGC:WMS \n"},{"result":{"nanos":770507,"millis":0.770507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":276902,"millis":0.276902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.084 [print] #notpresent \n"},{"result":{"nanos":45601,"millis":0.045601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":208202,"millis":0.208202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.084 [print] OGC:WMS \n"},{"result":{"nanos":975809,"millis":0.975809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116102,"millis":0.116102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.086 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":181001,"millis":0.181001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.086 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":904208,"millis":0.904208,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":925609,"millis":0.925609,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":427004,"millis":0.427004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":876.782254,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e29b19de-d191-47f2-b944-5056a7674cce","startTime":1639198840210,"refId":"[1.133:67]","endTime":1639198841088,"exampleData":{"datasetIdentifierCode":"e29b19de-d191-47f2-b944-5056a7674cce"},"exampleIndex":132},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.235 karate.env system property was: null \n"},{"result":{"nanos":45801,"millis":0.045801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":178602,"millis":0.178602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126701,"millis":0.126701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":395104,"millis":0.395104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":162302,"millis":0.162302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":455004,"millis":0.455004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":90901,"millis":0.090901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1012910,"millis":1.01291,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":81101,"millis":0.081101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":167201,"millis":0.167201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26801,"millis":0.026801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859990097,"millis":859.990097,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":895808,"millis":0.895808,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":801308,"millis":0.801308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":825108,"millis":0.825108,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":869108,"millis":0.869108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1471514,"millis":1.471514,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":780707,"millis":0.780707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":650006,"millis":0.650006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":583106,"millis":0.583106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":690506,"millis":0.690506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112001,"millis":0.112001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":885908,"millis":0.885908,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.106 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":760608,"millis":0.760608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120501,"millis":0.120501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.108 [print] OGC:WMS \n"},{"result":{"nanos":980009,"millis":0.980009,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103801,"millis":0.103801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.109 [print] #notpresent \n"},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":424005,"millis":0.424005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.110 [print] OGC:WMS \n"},{"result":{"nanos":1219311,"millis":1.219311,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82101,"millis":0.082101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.111 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.111 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":1458114,"millis":1.458114,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2164320,"millis":2.16432,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":490505,"millis":0.490505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.419082,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","startTime":1639198840234,"refId":"[1.134:67]","endTime":1639198841115,"exampleData":{"datasetIdentifierCode":"f0eb64f9-8888-42e1-9550-bf91c32da4bc"},"exampleIndex":133},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59901,"millis":0.059901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.327 karate.env system property was: null \n"},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":149302,"millis":0.149302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":140301,"millis":0.140301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":463904,"millis":0.463904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":139901,"millis":0.139901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":519605,"millis":0.519605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92100,"millis":0.0921,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":119101,"millis":0.119101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":118301,"millis":0.118301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852960130,"millis":852.96013,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":911909,"millis":0.911909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":668306,"millis":0.668306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":662807,"millis":0.662807,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":671506,"millis":0.671506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":706607,"millis":0.706607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":676707,"millis":0.676707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":977910,"millis":0.97791,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":785707,"millis":0.785707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":586606,"millis":0.586606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102901,"millis":0.102901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":739907,"millis":0.739907,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.190 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":738607,"millis":0.738607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":154601,"millis":0.154601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.191 [print] OGC:WMS \n"},{"result":{"nanos":640706,"millis":0.640706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83701,"millis":0.083701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.192 [print] #notpresent \n"},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":417604,"millis":0.417604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.193 [print] OGC:WMS \n"},{"result":{"nanos":995809,"millis":0.995809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83701,"millis":0.083701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.194 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.194 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":649206,"millis":0.649206,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":739207,"millis":0.739207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":375304,"millis":0.375304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.514967,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"060d1139-c371-4c1e-9890-55999adfa4f9","startTime":1639198840326,"refId":"[1.135:67]","endTime":1639198841196,"exampleData":{"datasetIdentifierCode":"060d1139-c371-4c1e-9890-55999adfa4f9"},"exampleIndex":134},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:40.404 karate.env system property was: null \n"},{"result":{"nanos":32101,"millis":0.032101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":161201,"millis":0.161201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61201,"millis":0.061201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":338703,"millis":0.338703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433704,"millis":0.433704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34301,"millis":0.034301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115501,"millis":0.115501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":839904006,"millis":839.904006,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":979310,"millis":0.97931,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":790507,"millis":0.790507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":873609,"millis":0.873609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":979009,"millis":0.979009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":768707,"millis":0.768707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":753307,"millis":0.753307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":717607,"millis":0.717607,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":709606,"millis":0.709606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":708006,"millis":0.708006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":169301,"millis":0.169301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":106901,"millis":0.106901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.254 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n"},{"result":{"nanos":1474414,"millis":1.474414,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":106401,"millis":0.106401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.255 [print] #notpresent \n"},{"result":{"nanos":738207,"millis":0.738207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114101,"millis":0.114101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.256 [print] INSPIRE Atom \n"},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136701,"millis":0.136701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.256 [print] #notpresent \n"},{"result":{"nanos":711807,"millis":0.711807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95801,"millis":0.095801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.257 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":80701,"millis":0.080701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.257 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":770007,"millis":0.770007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":772408,"millis":0.772408,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347903,"millis":0.347903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.265042,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","startTime":1639198840404,"refId":"[1.136:67]","endTime":1639198841259,"exampleData":{"datasetIdentifierCode":"efb5222c-112a-4c57-9bbf-f2af918cb9b5"},"exampleIndex":135},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21201,"millis":0.021201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.091 karate.env system property was: null \n"},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59201,"millis":0.059201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":385104,"millis":0.385104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47501,"millis":0.047501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417204,"millis":0.417204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":194902,"millis":0.194902,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851938920,"millis":851.93892,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":984109,"millis":0.984109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":733707,"millis":0.733707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":804907,"millis":0.804907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":622706,"millis":0.622706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":773008,"millis":0.773008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":829008,"millis":0.829008,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":649507,"millis":0.649507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":735607,"millis":0.735607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":612306,"millis":0.612306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":125501,"millis":0.125501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":130402,"millis":0.130402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:41.952 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n"},{"result":{"nanos":639306,"millis":0.639306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99301,"millis":0.099301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:41.953 [print] #notpresent \n"},{"result":{"nanos":633106,"millis":0.633106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":107201,"millis":0.107201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:41.954 [print] INSPIRE Atom \n"},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75801,"millis":0.075801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:41.954 [print] #notpresent \n"},{"result":{"nanos":919709,"millis":0.919709,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":136401,"millis":0.136401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:41.955 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":67301,"millis":0.067301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:41.955 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":809808,"millis":0.809808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":669106,"millis":0.669106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":535106,"millis":0.535106,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.116248,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5f0c583a-101e-45ea-b684-a056713cf811","startTime":1639198841090,"refId":"[1.137:67]","endTime":1639198841957,"exampleData":{"datasetIdentifierCode":"5f0c583a-101e-45ea-b684-a056713cf811"},"exampleIndex":136},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.118 karate.env system property was: null \n"},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71401,"millis":0.071401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59501,"millis":0.059501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":419704,"millis":0.419704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435304,"millis":0.435304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":270103,"millis":0.270103,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856084659,"millis":856.084659,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1418414,"millis":1.418414,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540z0b'"}},{"result":{"nanos":794107,"millis":0.794107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":17236865,"millis":17.236865,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":982909,"millis":0.982909,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1247112,"millis":1.247112,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":874609,"millis":0.874609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":109501,"millis":0.109501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":681907,"millis":0.681907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":828908,"millis":0.828908,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":570305,"millis":0.570305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1337313,"millis":1.337313,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":855808,"millis":0.855808,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.003 [print] https:\/\/service.pdok.nl\/kadaster\/adressen\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":709406,"millis":0.709406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":532105,"millis":0.532105,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.004 [print] OGC:WMS \n"},{"result":{"nanos":657506,"millis":0.657506,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":573305,"millis":0.573305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.006 [print] #notpresent \n"},{"result":{"nanos":143301,"millis":0.143301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":558405,"millis":0.558405,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.006 [print] OGC:WMS \n"},{"result":{"nanos":1189212,"millis":1.189212,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":598406,"millis":0.598406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.008 [print] Beheer PDOK \n"},{"result":{"nanos":752207,"millis":0.752207,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.009 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":661706,"millis":0.661706,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":658606,"millis":0.658606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":446504,"millis":0.446504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.0326,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b","startTime":1639198841117,"refId":"[1.138:67]","endTime":1639198842011,"exampleData":{"datasetIdentifierCode":"4074b3c3-ca85-45ad-bc0d-b5fca8540z0b"},"exampleIndex":137},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.199 karate.env system property was: null \n"},{"result":{"nanos":31701,"millis":0.031701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81801,"millis":0.081801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":325403,"millis":0.325403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":422905,"millis":0.422905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":214602,"millis":0.214602,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":292403,"millis":0.292403,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5001,"millis":0.005001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":840551611,"millis":840.551611,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1187411,"millis":1.187411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":840008,"millis":0.840008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":699307,"millis":0.699307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":654006,"millis":0.654006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":957810,"millis":0.95781,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2273921,"millis":2.273921,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":141801,"millis":0.141801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":801008,"millis":0.801008,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":727407,"millis":0.727407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":624606,"millis":0.624606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":600506,"millis":0.600506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":599106,"millis":0.599106,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.052 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n"},{"result":{"nanos":812908,"millis":0.812908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":496804,"millis":0.496804,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.053 [print] #notpresent \n"},{"result":{"nanos":788907,"millis":0.788907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":602306,"millis":0.602306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.054 [print] OGC:WFS \n"},{"result":{"nanos":128501,"millis":0.128501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":550605,"millis":0.550605,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.055 [print] #notpresent \n"},{"result":{"nanos":724907,"millis":0.724907,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":545905,"millis":0.545905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.056 [print] RIVM \n"},{"result":{"nanos":825308,"millis":0.825308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.057 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":1116911,"millis":1.116911,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":828008,"millis":0.828008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":415904,"millis":0.415904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.183098,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","startTime":1639198841198,"refId":"[1.139:67]","endTime":1639198842060,"exampleData":{"datasetIdentifierCode":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545"},"exampleIndex":138},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.262 karate.env system property was: null \n"},{"result":{"nanos":31201,"millis":0.031201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70601,"millis":0.070601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":364204,"millis":0.364204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":570506,"millis":0.570506,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91001,"millis":0.091001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36001,"millis":0.036001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":1740516,"millis":1.740516,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":88501,"millis":0.088501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854836047,"millis":854.836047,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1070210,"millis":1.07021,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'"}},{"result":{"nanos":1003810,"millis":1.00381,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":831408,"millis":0.831408,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":949609,"millis":0.949609,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1136611,"millis":1.136611,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1015810,"millis":1.01581,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95301,"millis":0.095301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":982909,"millis":0.982909,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":760408,"millis":0.760408,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":945909,"millis":0.945909,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":190002,"millis":0.190002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":809807,"millis":0.809807,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.130 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":940409,"millis":0.940409,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":639406,"millis":0.639406,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.132 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1001009,"millis":1.001009,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":534205,"millis":0.534205,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.133 [print] #notpresent \n"},{"result":{"nanos":140301,"millis":0.140301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":588406,"millis":0.588406,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.134 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1015410,"millis":1.01541,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":607406,"millis":0.607406,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.136 [print] Beheer PDOK \n"},{"result":{"nanos":826808,"millis":0.826808,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.136 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n"},{"result":{"nanos":972909,"millis":0.972909,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":524905,"millis":0.524905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354804,"millis":0.354804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":876.03865,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","startTime":1639198841261,"refId":"[1.140:67]","endTime":1639198842138,"exampleData":{"datasetIdentifierCode":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448"},"exampleIndex":139},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:41.961 karate.env system property was: null \n"},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":95601,"millis":0.095601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":422104,"millis":0.422104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":346304,"millis":0.346304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":126102,"millis":0.126102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":293603,"millis":0.293603,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68001,"millis":0.068001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858691731,"millis":858.691731,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1158311,"millis":1.158311,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":963110,"millis":0.96311,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":807608,"millis":0.807608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1168812,"millis":1.168812,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1240712,"millis":1.240712,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1260512,"millis":1.260512,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":740208,"millis":0.740208,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":839008,"millis":0.839008,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":790008,"millis":0.790008,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":148802,"millis":0.148802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":210302,"millis":0.210302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.832 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n"},{"result":{"nanos":859408,"millis":0.859408,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":174101,"millis":0.174101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.833 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":1060111,"millis":1.060111,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":167902,"millis":0.167902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.834 [print] #notpresent \n"},{"result":{"nanos":89601,"millis":0.089601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":229502,"millis":0.229502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.835 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":921809,"millis":0.921809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":159201,"millis":0.159201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.836 [print] Beheer PDOK \n"},{"result":{"nanos":148702,"millis":0.148702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.836 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n"},{"result":{"nanos":1010510,"millis":1.01051,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":684807,"millis":0.684807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344603,"millis":0.344603,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.610798,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","startTime":1639198841961,"refId":"[1.141:67]","endTime":1639198842838,"exampleData":{"datasetIdentifierCode":"bfcc588f-9393-4c70-b989-d9e92ac2f493"},"exampleIndex":140},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.014 karate.env system property was: null \n"},{"result":{"nanos":44501,"millis":0.044501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":179301,"millis":0.179301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":134201,"millis":0.134201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":408204,"millis":0.408204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124601,"millis":0.124601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":469205,"millis":0.469205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":137901,"millis":0.137901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":522305,"millis":0.522305,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26301,"millis":0.026301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":23001,"millis":0.023001,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857293937,"millis":857.293937,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":958810,"millis":0.95881,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":937809,"millis":0.937809,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":977010,"millis":0.97701,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1003310,"millis":1.00331,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1083511,"millis":1.083511,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":884009,"millis":0.884009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":697407,"millis":0.697407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":907609,"millis":0.907609,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":891108,"millis":0.891108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129101,"millis":0.129101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":171102,"millis":0.171102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.883 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":783107,"millis":0.783107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134601,"millis":0.134601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.884 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":772608,"millis":0.772608,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":153901,"millis":0.153901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.885 [print] #notpresent \n"},{"result":{"nanos":92101,"millis":0.092101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97301,"millis":0.097301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.885 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":957010,"millis":0.95701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":136001,"millis":0.136001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.886 [print] Beheer PDOK \n"},{"result":{"nanos":162302,"millis":0.162302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.886 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n"},{"result":{"nanos":1061111,"millis":1.061111,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634706,"millis":0.634706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":432805,"millis":0.432805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.687799,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"94e5b115-bece-4140-99ed-93b8f363948e","startTime":1639198842013,"refId":"[1.142:67]","endTime":1639198842888,"exampleData":{"datasetIdentifierCode":"94e5b115-bece-4140-99ed-93b8f363948e"},"exampleIndex":141},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.063 karate.env system property was: null \n"},{"result":{"nanos":104701,"millis":0.104701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":177802,"millis":0.177802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":163302,"millis":0.163302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":571205,"millis":0.571205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":125402,"millis":0.125402,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438004,"millis":0.438004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":100101,"millis":0.100101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":464604,"millis":0.464604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38701,"millis":0.038701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a914681-61bd-4f67-902b-45037a00c469'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864443026,"millis":864.443026,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":962209,"millis":0.962209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'"}},{"result":{"nanos":943910,"millis":0.94391,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":828308,"millis":0.828308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":818008,"millis":0.818008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":957110,"millis":0.95711,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":859409,"millis":0.859409,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":669107,"millis":0.669107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":703307,"millis":0.703307,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1016810,"millis":1.01681,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99401,"millis":0.099401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":300803,"millis":0.300803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.939 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":944910,"millis":0.94491,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":204202,"millis":0.204202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:42.940 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":751408,"millis":0.751408,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":143301,"millis":0.143301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:42.941 [print] #notpresent \n"},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":105901,"millis":0.105901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:42.941 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":941909,"millis":0.941909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":193702,"millis":0.193702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:42.942 [print] Beheer PDOK \n"},{"result":{"nanos":116801,"millis":0.116801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:42.942 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n"},{"result":{"nanos":999209,"millis":0.999209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":625806,"millis":0.625806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368804,"millis":0.368804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.493284,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7a914681-61bd-4f67-902b-45037a00c469","startTime":1639198842062,"refId":"[1.143:67]","endTime":1639198842944,"exampleData":{"datasetIdentifierCode":"7a914681-61bd-4f67-902b-45037a00c469"},"exampleIndex":142},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56501,"millis":0.056501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.142 karate.env system property was: null \n"},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":181402,"millis":0.181402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":126602,"millis":0.126602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":468204,"millis":0.468204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119101,"millis":0.119101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":439804,"millis":0.439804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":102901,"millis":0.102901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":435704,"millis":0.435704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":53801,"millis":0.053801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23301,"millis":0.023301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846693880,"millis":846.69388,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":935409,"millis":0.935409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":900709,"millis":0.900709,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":734708,"millis":0.734708,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":760707,"millis":0.760707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":773907,"millis":0.773907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1264413,"millis":1.264413,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47601,"millis":0.047601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":617206,"millis":0.617206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":681007,"millis":0.681007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":798708,"millis":0.798708,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77601,"millis":0.077601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":143401,"millis":0.143401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:42.999 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":672407,"millis":0.672407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79501,"millis":0.079501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.000 [print] OGC:WMS \n"},{"result":{"nanos":623706,"millis":0.623706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70801,"millis":0.070801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.000 [print] #notpresent \n"},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":156601,"millis":0.156601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.001 [print] OGC:WMS \n"},{"result":{"nanos":739408,"millis":0.739408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97101,"millis":0.097101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.001 [print] Beheer PDOK \n"},{"result":{"nanos":101801,"millis":0.101801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.002 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":780408,"millis":0.780408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":694807,"millis":0.694807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368503,"millis":0.368503,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.036522,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","startTime":1639198842141,"refId":"[1.144:67]","endTime":1639198843003,"exampleData":{"datasetIdentifierCode":"5b40b9b4-fcb2-4553-bcab-34824c43c992"},"exampleIndex":143},{"sectionIndex":0,"stepResults":[{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.841 karate.env system property was: null \n"},{"result":{"nanos":73101,"millis":0.073101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":148802,"millis":0.148802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":166801,"millis":0.166801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367503,"millis":0.367503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":135902,"millis":0.135902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":484305,"millis":0.484305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":86601,"millis":0.086601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":132901,"millis":0.132901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":42501,"millis":0.042501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":23801,"millis":0.023801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854224762,"millis":854.224762,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1125011,"millis":1.125011,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":853108,"millis":0.853108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":915909,"millis":0.915909,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":870908,"millis":0.870908,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1015010,"millis":1.01501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":866408,"millis":0.866408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29301,"millis":0.029301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":692606,"millis":0.692606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":721407,"millis":0.721407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":776108,"millis":0.776108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":137601,"millis":0.137601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":128601,"millis":0.128601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.706 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":729207,"millis":0.729207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75001,"millis":0.075001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.707 [print] #notpresent \n"},{"result":{"nanos":843208,"millis":0.843208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":132201,"millis":0.132201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.708 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101801,"millis":0.101801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.708 [print] #notpresent \n"},{"result":{"nanos":986110,"millis":0.98611,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95901,"millis":0.095901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.709 [print] Beheer PDOK \n"},{"result":{"nanos":90301,"millis":0.090301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.709 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":927110,"millis":0.92711,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":783208,"millis":0.783208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":352403,"millis":0.352403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.444009,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","startTime":1639198842840,"refId":"[1.145:67]","endTime":1639198843711,"exampleData":{"datasetIdentifierCode":"68d14b1c-71ad-4ce7-8267-45787a80c2d4"},"exampleIndex":144},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.891 karate.env system property was: null \n"},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":85401,"millis":0.085401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80400,"millis":0.0804,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":381003,"millis":0.381003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43301,"millis":0.043301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":520505,"millis":0.520505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32901,"millis":0.032901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51701,"millis":0.051701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":840091822,"millis":840.091822,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":694907,"millis":0.694907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":815008,"millis":0.815008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":659507,"millis":0.659507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":620406,"millis":0.620406,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":742007,"millis":0.742007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":930310,"millis":0.93031,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":512605,"millis":0.512605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":648106,"millis":0.648106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":688207,"millis":0.688207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":155402,"millis":0.155402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":685507,"millis":0.685507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.740 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":630306,"millis":0.630306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97301,"millis":0.097301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.741 [print] OGC:WMS \n"},{"result":{"nanos":883108,"millis":0.883108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":129502,"millis":0.129502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.742 [print] #notpresent \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":397204,"millis":0.397204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.743 [print] OGC:WMS \n"},{"result":{"nanos":1040311,"millis":1.040311,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146101,"millis":0.146101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.744 [print] Beheer PDOK \n"},{"result":{"nanos":787508,"millis":0.787508,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.745 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":923809,"millis":0.923809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":556605,"millis":0.556605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":461105,"millis":0.461105,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.753168,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","startTime":1639198842891,"refId":"[1.146:67]","endTime":1639198843747,"exampleData":{"datasetIdentifierCode":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9"},"exampleIndex":145},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:42.947 karate.env system property was: null \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50701,"millis":0.050701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70201,"millis":0.070201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340303,"millis":0.340303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58901,"millis":0.058901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":600106,"millis":0.600106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":160302,"millis":0.160302,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":84601,"millis":0.084601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875133669,"millis":875.133669,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1697917,"millis":1.697917,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":1670316,"millis":1.670316,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1686416,"millis":1.686416,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1737518,"millis":1.737518,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1641216,"millis":1.641216,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1897319,"millis":1.897319,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31601,"millis":0.031601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1278612,"millis":1.278612,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1073611,"millis":1.073611,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1213712,"millis":1.213712,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":407404,"millis":0.407404,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":383703,"millis":0.383703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.839 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1232412,"millis":1.232412,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":217702,"millis":0.217702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.840 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1355914,"millis":1.355914,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100801,"millis":0.100801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.842 [print] #notpresent \n"},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":247003,"millis":0.247003,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.842 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1749517,"millis":1.749517,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":101801,"millis":0.101801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.844 [print] Beheer PDOK \n"},{"result":{"nanos":115601,"millis":0.115601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.844 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n"},{"result":{"nanos":1950119,"millis":1.950119,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":830008,"millis":0.830008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":506605,"millis":0.506605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":899.806712,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","startTime":1639198842946,"refId":"[1.147:67]","endTime":1639198843847,"exampleData":{"datasetIdentifierCode":"94f241c2-43a2-42c3-8e9e-71976605aa0e"},"exampleIndex":146},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.006 karate.env system property was: null \n"},{"result":{"nanos":28701,"millis":0.028701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53601,"millis":0.053601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374104,"millis":0.374104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412104,"millis":0.412104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":127001,"millis":0.127001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52301,"millis":0.052301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856512685,"millis":856.512685,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":883609,"millis":0.883609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":726507,"millis":0.726507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2078821,"millis":2.078821,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":17920278,"millis":17.920278,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1079510,"millis":1.07951,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":944009,"millis":0.944009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97901,"millis":0.097901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":693907,"millis":0.693907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":6438864,"millis":6.438864,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":673907,"millis":0.673907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":193002,"millis":0.193002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":977610,"millis":0.97761,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:43.897 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":977710,"millis":0.97771,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":149802,"millis":0.149802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:43.898 [print] OGC:WMS \n"},{"result":{"nanos":714307,"millis":0.714307,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":208502,"millis":0.208502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:43.899 [print] #notpresent \n"},{"result":{"nanos":239102,"millis":0.239102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":171401,"millis":0.171401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:43.899 [print] OGC:WMS \n"},{"result":{"nanos":953610,"millis":0.95361,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":161102,"millis":0.161102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:43.900 [print] Beheer PDOK \n"},{"result":{"nanos":264102,"millis":0.264102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:43.901 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":829209,"millis":0.829209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":698507,"millis":0.698507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":397704,"millis":0.397704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":896.25978,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e258f171-6f56-4d4d-8311-027b30213c2d","startTime":1639198843005,"refId":"[1.148:67]","endTime":1639198843903,"exampleData":{"datasetIdentifierCode":"e258f171-6f56-4d4d-8311-027b30213c2d"},"exampleIndex":147},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.713 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":98101,"millis":0.098101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108001,"millis":0.108001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":442505,"millis":0.442505,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":524005,"millis":0.524005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36301,"millis":0.036301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121201,"millis":0.121201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52201,"millis":0.052201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":831887441,"millis":831.887441,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1016210,"millis":1.01621,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":859409,"millis":0.859409,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":955309,"millis":0.955309,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2891729,"millis":2.891729,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1152511,"millis":1.152511,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":774707,"millis":0.774707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":123902,"millis":0.123902,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":650206,"millis":0.650206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":802708,"millis":0.802708,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":547306,"millis":0.547306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143901,"millis":0.143901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1017710,"millis":1.01771,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.559 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":772508,"millis":0.772508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150501,"millis":0.150501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.560 [print] OGC:WMS \n"},{"result":{"nanos":911909,"millis":0.911909,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":141602,"millis":0.141602,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.562 [print] #notpresent \n"},{"result":{"nanos":360704,"millis":0.360704,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145501,"millis":0.145501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.562 [print] OGC:WMS \n"},{"result":{"nanos":914809,"millis":0.914809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":141302,"millis":0.141302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.563 [print] Beheer PDOK \n"},{"result":{"nanos":121601,"millis":0.121601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.563 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":1261913,"millis":1.261913,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":494205,"millis":0.494205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":404004,"millis":0.404004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":850.197924,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","startTime":1639198843713,"refId":"[1.149:67]","endTime":1639198844565,"exampleData":{"datasetIdentifierCode":"5523cfd7-a72c-409e-a0c7-89b858aafa64"},"exampleIndex":148},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.749 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55401,"millis":0.055401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":362403,"millis":0.362403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433604,"millis":0.433604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33001,"millis":0.033001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106101,"millis":0.106101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18501,"millis":0.018501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":366903,"millis":0.366903,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858430504,"millis":858.430504,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":947509,"millis":0.947509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":741607,"millis":0.741607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":627306,"millis":0.627306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":612006,"millis":0.612006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":931209,"millis":0.931209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":727707,"millis":0.727707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":113202,"millis":0.113202,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":892209,"millis":0.892209,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":655106,"millis":0.655106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":710107,"millis":0.710107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":183002,"millis":0.183002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":242203,"millis":0.242203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.617 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":986910,"millis":0.98691,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":244202,"millis":0.244202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.618 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":891409,"millis":0.891409,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":173002,"millis":0.173002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.619 [print] #notpresent \n"},{"result":{"nanos":220302,"millis":0.220302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":232502,"millis":0.232502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.620 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":784808,"millis":0.784808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":198302,"millis":0.198302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.621 [print] Beheer PDOK \n"},{"result":{"nanos":213202,"millis":0.213202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.621 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":664707,"millis":0.664707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":682207,"millis":0.682207,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":504505,"millis":0.504505,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.184549,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","startTime":1639198843748,"refId":"[1.150:67]","endTime":1639198844623,"exampleData":{"datasetIdentifierCode":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1"},"exampleIndex":149},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.850 karate.env system property was: null \n"},{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74801,"millis":0.074801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":396603,"millis":0.396603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390004,"millis":0.390004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96600,"millis":0.0966,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56701,"millis":0.056701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856374484,"millis":856.374484,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2186822,"millis":2.186822,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":868608,"millis":0.868608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":704407,"millis":0.704407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":682207,"millis":0.682207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":898609,"millis":0.898609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":820708,"millis":0.820708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93301,"millis":0.093301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":747607,"millis":0.747607,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":889509,"millis":0.889509,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":801808,"millis":0.801808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":703507,"millis":0.703507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":668507,"millis":0.668507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.718 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":742907,"millis":0.742907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":600806,"millis":0.600806,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.720 [print] OGC:WMS \n"},{"result":{"nanos":709807,"millis":0.709807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":493505,"millis":0.493505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.721 [print] #notpresent \n"},{"result":{"nanos":101601,"millis":0.101601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":465005,"millis":0.465005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.721 [print] OGC:WMS \n"},{"result":{"nanos":776207,"millis":0.776207,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":506705,"millis":0.506705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.723 [print] Beheer PDOK \n"},{"result":{"nanos":889708,"millis":0.889708,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.724 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":746307,"millis":0.746307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":525605,"millis":0.525605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":388604,"millis":0.388604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.653261,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","startTime":1639198843849,"refId":"[1.151:67]","endTime":1639198844725,"exampleData":{"datasetIdentifierCode":"7b8f44b5-6eae-4113-a835-84b8678c3dd5"},"exampleIndex":150},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56001,"millis":0.056001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:43.905 karate.env system property was: null \n"},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":161101,"millis":0.161101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":117201,"millis":0.117201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":421005,"millis":0.421005,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":133901,"millis":0.133901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":479905,"millis":0.479905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87901,"millis":0.087901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":190102,"millis":0.190102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48401,"millis":0.048401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27101,"millis":0.027101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857813797,"millis":857.813797,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":895609,"millis":0.895609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":832208,"millis":0.832208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":751608,"millis":0.751608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":689107,"millis":0.689107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":707507,"millis":0.707507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1022810,"millis":1.02281,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75001,"millis":0.075001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":861808,"millis":0.861808,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":612006,"millis":0.612006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":604306,"millis":0.604306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118701,"millis":0.118701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:44.773 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1293413,"millis":1.293413,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":96601,"millis":0.096601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:44.774 [print] OGC:WMS \n"},{"result":{"nanos":1130911,"millis":1.130911,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":165302,"millis":0.165302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:44.776 [print] #notpresent \n"},{"result":{"nanos":270803,"millis":0.270803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99201,"millis":0.099201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:44.776 [print] OGC:WMS \n"},{"result":{"nanos":1303913,"millis":1.303913,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":418504,"millis":0.418504,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:44.777 [print] Beheer PDOK \n"},{"result":{"nanos":113201,"millis":0.113201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:44.778 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":1468315,"millis":1.468315,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":587406,"millis":0.587406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":392104,"millis":0.392104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.326862,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","startTime":1639198843905,"refId":"[1.152:67]","endTime":1639198844780,"exampleData":{"datasetIdentifierCode":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b"},"exampleIndex":151},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.572 karate.env system property was: null \n"},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":165902,"millis":0.165902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":123001,"millis":0.123001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":507405,"millis":0.507405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":161302,"millis":0.161302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":482005,"millis":0.482005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":105301,"millis":0.105301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":233802,"millis":0.233802,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49301,"millis":0.049301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":104601,"millis":0.104601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":959113101,"millis":959.113101,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1491114,"millis":1.491114,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":1937520,"millis":1.93752,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1053910,"millis":1.05391,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1434315,"millis":1.434315,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1451814,"millis":1.451814,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1167712,"millis":1.167712,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59601,"millis":0.059601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":703707,"millis":0.703707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":691207,"millis":0.691207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":963510,"millis":0.96351,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":152901,"millis":0.152901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":185601,"millis":0.185601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.545 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":890508,"millis":0.890508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116702,"millis":0.116702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.546 [print] OGC:WFS \n"},{"result":{"nanos":1003310,"millis":1.00331,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85401,"millis":0.085401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.548 [print] #notpresent \n"},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":185202,"millis":0.185202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.548 [print] OGC:WFS \n"},{"result":{"nanos":1131012,"millis":1.131012,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.549 [print] Beheer PDOK \n"},{"result":{"nanos":92301,"millis":0.092301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.549 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":1029110,"millis":1.02911,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":649007,"millis":0.649007,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":485305,"millis":0.485305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":978.414893,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b023459a-9f0e-4d53-8059-a794119abbed","startTime":1639198844571,"refId":"[1.153:67]","endTime":1639198845552,"exampleData":{"datasetIdentifierCode":"b023459a-9f0e-4d53-8059-a794119abbed"},"exampleIndex":152},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.626 karate.env system property was: null \n"},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":202002,"millis":0.202002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":146602,"millis":0.146602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":494905,"millis":0.494905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":3034430,"millis":3.03443,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":610606,"millis":0.610606,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":93701,"millis":0.093701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":552006,"millis":0.552006,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":36801,"millis":0.036801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":924896562,"millis":924.896562,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":677007,"millis":0.677007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":645606,"millis":0.645606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":851509,"millis":0.851509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":810608,"millis":0.810608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":708807,"millis":0.708807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":624906,"millis":0.624906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":627306,"millis":0.627306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":625706,"millis":0.625706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":756808,"millis":0.756808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":106801,"millis":0.106801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":364404,"millis":0.364404,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.564 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n"},{"result":{"nanos":631606,"millis":0.631606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111401,"millis":0.111401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.565 [print] OGC:WCS \n"},{"result":{"nanos":585905,"millis":0.585905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76601,"millis":0.076601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.565 [print] #notpresent \n"},{"result":{"nanos":32101,"millis":0.032101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82301,"millis":0.082301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.565 [print] OGC:WCS \n"},{"result":{"nanos":644706,"millis":0.644706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":147002,"millis":0.147002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.566 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.566 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":725207,"millis":0.725207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485005,"millis":0.485005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":319203,"millis":0.319203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":941.121423,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","startTime":1639198844625,"refId":"[1.154:67]","endTime":1639198845568,"exampleData":{"datasetIdentifierCode":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0"},"exampleIndex":153},{"sectionIndex":0,"stepResults":[{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.728 karate.env system property was: null \n"},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":115301,"millis":0.115301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108102,"millis":0.108102,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":533605,"millis":0.533605,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":155302,"millis":0.155302,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":555505,"millis":0.555505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":103901,"millis":0.103901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":220202,"millis":0.220202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":287403,"millis":0.287403,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23501,"millis":0.023501,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871071429,"millis":871.071429,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":744908,"millis":0.744908,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":771208,"millis":0.771208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":719407,"millis":0.719407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":791608,"millis":0.791608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":764807,"millis":0.764807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":742407,"millis":0.742407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":608406,"millis":0.608406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":613806,"millis":0.613806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":675006,"millis":0.675006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":355004,"millis":0.355004,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.609 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":805608,"millis":0.805608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77001,"millis":0.077001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.610 [print] OGC:WFS \n"},{"result":{"nanos":758407,"millis":0.758407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":125202,"millis":0.125202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.611 [print] #notpresent \n"},{"result":{"nanos":122901,"millis":0.122901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":269403,"millis":0.269403,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.612 [print] OGC:WFS \n"},{"result":{"nanos":711107,"millis":0.711107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95501,"millis":0.095501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.612 [print] Beheer PDOK \n"},{"result":{"nanos":156801,"millis":0.156801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.613 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":752408,"millis":0.752408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":660706,"millis":0.660706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":438005,"millis":0.438005,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":885.285369,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"bc0b75c6-3eef-49de-aca2-8483024903c1","startTime":1639198844727,"refId":"[1.155:67]","endTime":1639198845615,"exampleData":{"datasetIdentifierCode":"bc0b75c6-3eef-49de-aca2-8483024903c1"},"exampleIndex":154},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:44.782 karate.env system property was: null \n"},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49501,"millis":0.049501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311904,"millis":0.311904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377604,"millis":0.377604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32101,"millis":0.032101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":318403,"millis":0.318403,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50501,"millis":0.050501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848282803,"millis":848.282803,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":813809,"millis":0.813809,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":741307,"millis":0.741307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716607,"millis":0.716607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":726407,"millis":0.726407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":765607,"millis":0.765607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":724007,"millis":0.724007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":803708,"millis":0.803708,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":670607,"millis":0.670607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":717807,"millis":0.717807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105001,"millis":0.105001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":415904,"millis":0.415904,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:45.640 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":822908,"millis":0.822908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87001,"millis":0.087001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:45.641 [print] OGC:WFS \n"},{"result":{"nanos":886509,"millis":0.886509,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72601,"millis":0.072601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:45.642 [print] #notpresent \n"},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":289503,"millis":0.289503,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:45.643 [print] OGC:WFS \n"},{"result":{"nanos":841808,"millis":0.841808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":111001,"millis":0.111001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:45.644 [print] Beheer PDOK \n"},{"result":{"nanos":345604,"millis":0.345604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:45.644 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":872609,"millis":0.872609,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":584306,"millis":0.584306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":373703,"millis":0.373703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.277241,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1601e160-91e8-4091-9aca-10294f819d42","startTime":1639198844782,"refId":"[1.156:67]","endTime":1639198845646,"exampleData":{"datasetIdentifierCode":"1601e160-91e8-4091-9aca-10294f819d42"},"exampleIndex":155},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.554 karate.env system property was: null \n"},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119101,"millis":0.119101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":320903,"millis":0.320903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45701,"millis":0.045701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434304,"millis":0.434304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37001,"millis":0.037001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":108001,"millis":0.108001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33701,"millis":0.033701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":837522196,"millis":837.522196,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1063510,"millis":1.06351,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":852709,"millis":0.852709,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":19733495,"millis":19.733495,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":904209,"millis":0.904209,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1010310,"millis":1.01031,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":793208,"millis":0.793208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94501,"millis":0.094501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":728807,"millis":0.728807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":693607,"millis":0.693607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":788308,"millis":0.788308,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":174402,"millis":0.174402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":311503,"millis":0.311503,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.421 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":739508,"millis":0.739508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":191702,"millis":0.191702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.422 [print] OGC:WMS \n"},{"result":{"nanos":953709,"millis":0.953709,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":239103,"millis":0.239103,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.423 [print] #notpresent \n"},{"result":{"nanos":109601,"millis":0.109601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":231802,"millis":0.231802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.423 [print] OGC:WMS \n"},{"result":{"nanos":800808,"millis":0.800808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":167801,"millis":0.167801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.424 [print] Beheer PDOK \n"},{"result":{"nanos":166002,"millis":0.166002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.424 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":748407,"millis":0.748407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":533005,"millis":0.533005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339303,"millis":0.339303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.20143,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"275b64ab-34c2-41f8-8904-97812c7f716e","startTime":1639198845554,"refId":"[1.157:67]","endTime":1639198846426,"exampleData":{"datasetIdentifierCode":"275b64ab-34c2-41f8-8904-97812c7f716e"},"exampleIndex":156},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.570 karate.env system property was: null \n"},{"result":{"nanos":27401,"millis":0.027401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47601,"millis":0.047601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271803,"millis":0.271803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437805,"millis":0.437805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87401,"millis":0.087401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85801,"millis":0.085801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":1857833404,"millis":1857.833404,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1201111,"millis":1.201111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":763807,"millis":0.763807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":859909,"millis":0.859909,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":714307,"millis":0.714307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1066211,"millis":1.066211,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":810508,"millis":0.810508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":93101,"millis":0.093101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":825308,"millis":0.825308,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":737408,"millis":0.737408,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":623706,"millis":0.623706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":147202,"millis":0.147202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":205602,"millis":0.205602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:47.438 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":731307,"millis":0.731307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":233902,"millis":0.233902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:47.439 [print] OGC:WMS \n"},{"result":{"nanos":723707,"millis":0.723707,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145101,"millis":0.145101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:47.440 [print] #notpresent \n"},{"result":{"nanos":88500,"millis":0.0885,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":189502,"millis":0.189502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:47.440 [print] OGC:WMS \n"},{"result":{"nanos":869409,"millis":0.869409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":168202,"millis":0.168202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:47.441 [print] Beheer PDOK \n"},{"result":{"nanos":174102,"millis":0.174102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:47.441 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":920709,"millis":0.920709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":565206,"millis":0.565206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":351303,"millis":0.351303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1872.228646,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","startTime":1639198845570,"refId":"[1.158:67]","endTime":1639198847443,"exampleData":{"datasetIdentifierCode":"89b35a6c-c099-456b-8eaf-2b83c7a35c74"},"exampleIndex":157},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.618 karate.env system property was: null \n"},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":379104,"millis":0.379104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60601,"millis":0.060601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":522005,"millis":0.522005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":110701,"millis":0.110701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":122601,"millis":0.122601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":1397514,"millis":1.397514,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847943200,"millis":847.9432,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":951909,"millis":0.951909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":924009,"millis":0.924009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":791908,"millis":0.791908,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":682007,"millis":0.682007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":895009,"millis":0.895009,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":904709,"millis":0.904709,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":162301,"millis":0.162301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":634906,"millis":0.634906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":683407,"millis":0.683407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":697807,"millis":0.697807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":144201,"millis":0.144201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1128912,"millis":1.128912,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.478 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":715807,"millis":0.715807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":472805,"millis":0.472805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.479 [print] OGC:WFS \n"},{"result":{"nanos":693907,"millis":0.693907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":149801,"millis":0.149801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.480 [print] #notpresent \n"},{"result":{"nanos":365704,"millis":0.365704,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":141801,"millis":0.141801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.481 [print] OGC:WFS \n"},{"result":{"nanos":1195011,"millis":1.195011,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148801,"millis":0.148801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.482 [print] Beheer PDOK \n"},{"result":{"nanos":394504,"millis":0.394504,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.482 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":1428114,"millis":1.428114,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":581206,"millis":0.581206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387704,"millis":0.387704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.136379,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d7d19437-f875-45b3-86cd-2fa3335479ec","startTime":1639198845617,"refId":"[1.159:67]","endTime":1639198846485,"exampleData":{"datasetIdentifierCode":"d7d19437-f875-45b3-86cd-2fa3335479ec"},"exampleIndex":158},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:45.649 karate.env system property was: null \n"},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66801,"millis":0.066801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":426404,"millis":0.426404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66101,"millis":0.066101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":609006,"millis":0.609006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56301,"millis":0.056301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32301,"millis":0.032301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":6901,"millis":0.006901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859142110,"millis":859.14211,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1164911,"millis":1.164911,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":878009,"millis":0.878009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":767008,"millis":0.767008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":817408,"millis":0.817408,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":896209,"millis":0.896209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":840209,"millis":0.840209,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":95701,"millis":0.095701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":719707,"millis":0.719707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":766508,"millis":0.766508,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":739007,"millis":0.739007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":164402,"millis":0.164402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":230202,"millis":0.230202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:46.519 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n"},{"result":{"nanos":899308,"millis":0.899308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":228002,"millis":0.228002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:46.520 [print] OGC:WMS \n"},{"result":{"nanos":802308,"millis":0.802308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":427904,"millis":0.427904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:46.522 [print] #notpresent \n"},{"result":{"nanos":111102,"millis":0.111102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":189202,"millis":0.189202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:46.522 [print] OGC:WMS \n"},{"result":{"nanos":869508,"millis":0.869508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":195802,"millis":0.195802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:46.523 [print] Beheer PDOK \n"},{"result":{"nanos":202002,"millis":0.202002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:46.523 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":858908,"millis":0.858908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":546406,"millis":0.546406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":391604,"millis":0.391604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.488262,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a7aeddf2-3b37-4668-9c75-de93d9326276","startTime":1639198845649,"refId":"[1.160:67]","endTime":1639198846525,"exampleData":{"datasetIdentifierCode":"a7aeddf2-3b37-4668-9c75-de93d9326276"},"exampleIndex":159},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:46.429 karate.env system property was: null \n"},{"result":{"nanos":42801,"millis":0.042801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129401,"millis":0.129401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":117201,"millis":0.117201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":377104,"millis":0.377104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119802,"millis":0.119802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":746407,"millis":0.746407,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":221902,"millis":0.221902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":143201,"millis":0.143201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47301,"millis":0.047301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26101,"millis":0.026101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":48201,"millis":0.048201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":837362395,"millis":837.362395,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1026110,"millis":1.02611,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":860209,"millis":0.860209,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":795908,"millis":0.795908,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":694507,"millis":0.694507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":763107,"millis":0.763107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":690707,"millis":0.690707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":637506,"millis":0.637506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":620007,"millis":0.620007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":644806,"millis":0.644806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105201,"millis":0.105201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":129802,"millis":0.129802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:47.276 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":709807,"millis":0.709807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":76501,"millis":0.076501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:47.277 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1381013,"millis":1.381013,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":169701,"millis":0.169701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:47.278 [print] #notpresent \n"},{"result":{"nanos":38201,"millis":0.038201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":414104,"millis":0.414104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:47.279 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1430314,"millis":1.430314,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92001,"millis":0.092001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:47.280 [print] Beheer PDOK \n"},{"result":{"nanos":948010,"millis":0.94801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:47.281 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":802808,"millis":0.802808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":782208,"millis":0.782208,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428304,"millis":0.428304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":853.825259,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","startTime":1639198846428,"refId":"[1.161:67]","endTime":1639198847283,"exampleData":{"datasetIdentifierCode":"101a2cc7-bb53-4a16-98f9-bab1f4745b01"},"exampleIndex":160},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:46.488 karate.env system property was: null \n"},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131601,"millis":0.131601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":136701,"millis":0.136701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":422504,"millis":0.422504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":168202,"millis":0.168202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":502705,"millis":0.502705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":81901,"millis":0.081901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111501,"millis":0.111501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":323303,"millis":0.323303,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23501,"millis":0.023501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21801,"millis":0.021801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847405594,"millis":847.405594,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1134412,"millis":1.134412,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":757807,"millis":0.757807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":793708,"millis":0.793708,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":969410,"millis":0.96941,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":772308,"millis":0.772308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":763007,"millis":0.763007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":766808,"millis":0.766808,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":720407,"millis":0.720407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":633907,"millis":0.633907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":128901,"millis":0.128901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":563206,"millis":0.563206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:47.346 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":770908,"millis":0.770908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:47.347 [print] OGC:WMS \n"},{"result":{"nanos":729807,"millis":0.729807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94401,"millis":0.094401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:47.348 [print] #notpresent \n"},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99901,"millis":0.099901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:47.348 [print] OGC:WMS \n"},{"result":{"nanos":834908,"millis":0.834908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77001,"millis":0.077001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:47.349 [print] Beheer PDOK \n"},{"result":{"nanos":103001,"millis":0.103001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:47.349 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":808308,"millis":0.808308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":692607,"millis":0.692607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":489605,"millis":0.489605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.430943,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","startTime":1639198846487,"refId":"[1.162:67]","endTime":1639198847351,"exampleData":{"datasetIdentifierCode":"25c69c01-8dfa-406f-bbcb-24feba25dcc6"},"exampleIndex":161},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62901,"millis":0.062901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:46.528 karate.env system property was: null \n"},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":181802,"millis":0.181802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":150002,"millis":0.150002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":481205,"millis":0.481205,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":134501,"millis":0.134501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":534406,"millis":0.534406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":102201,"millis":0.102201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":170701,"millis":0.170701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26501,"millis":0.026501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":832251444,"millis":832.251444,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":785107,"millis":0.785107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'"}},{"result":{"nanos":796908,"millis":0.796908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":783808,"millis":0.783808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":773508,"millis":0.773508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":941909,"millis":0.941909,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":792807,"millis":0.792807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":613206,"millis":0.613206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":661107,"millis":0.661107,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":695207,"millis":0.695207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":110201,"millis":0.110201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:47.370 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1295213,"millis":1.295213,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98301,"millis":0.098301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:47.372 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":674807,"millis":0.674807,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:47.373 [print] #notpresent \n"},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82001,"millis":0.082001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:47.373 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":796608,"millis":0.796608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100301,"millis":0.100301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:47.374 [print] Beheer PDOK \n"},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:47.374 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n"},{"result":{"nanos":1137311,"millis":1.137311,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":658806,"millis":0.658806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":381704,"millis":0.381704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":846.856986,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","startTime":1639198846528,"refId":"[1.163:67]","endTime":1639198847376,"exampleData":{"datasetIdentifierCode":"c6fa88ab-e440-414b-a773-793c4ce6d8df"},"exampleIndex":162},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17201,"millis":0.017201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:47.286 karate.env system property was: null \n"},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50801,"millis":0.050801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":475805,"millis":0.475805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369103,"millis":0.369103,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91001,"millis":0.091001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35359958-c40a-486f-9cf5-567a94de905e'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":840412725,"millis":840.412725,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":950410,"millis":0.95041,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'"}},{"result":{"nanos":769508,"millis":0.769508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":876608,"millis":0.876608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":866808,"millis":0.866808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1144912,"millis":1.144912,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":845208,"millis":0.845208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31301,"millis":0.031301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":660706,"millis":0.660706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":663007,"millis":0.663007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":700907,"millis":0.700907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":101701,"millis":0.101701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":129001,"millis":0.129001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:48.136 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":747007,"millis":0.747007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":80601,"millis":0.080601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:48.137 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":649107,"millis":0.649107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94901,"millis":0.094901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:48.137 [print] #notpresent \n"},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":105401,"millis":0.105401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:48.138 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":899409,"millis":0.899409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":132101,"millis":0.132101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:48.139 [print] Beheer PDOK \n"},{"result":{"nanos":120401,"millis":0.120401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:48.139 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n"},{"result":{"nanos":779607,"millis":0.779607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":755508,"millis":0.755508,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":415104,"millis":0.415104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.269063,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"35359958-c40a-486f-9cf5-567a94de905e","startTime":1639198847286,"refId":"[1.164:67]","endTime":1639198848141,"exampleData":{"datasetIdentifierCode":"35359958-c40a-486f-9cf5-567a94de905e"},"exampleIndex":163},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:47.353 karate.env system property was: null \n"},{"result":{"nanos":32501,"millis":0.032501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343304,"millis":0.343304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":78500,"millis":0.0785,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":407404,"millis":0.407404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89501,"millis":0.089501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52401,"millis":0.052401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863023949,"millis":863.023949,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1073510,"millis":1.07351,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":911609,"millis":0.911609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":851408,"millis":0.851408,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":857109,"millis":0.857109,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":882008,"millis":0.882008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":965709,"millis":0.965709,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":52301,"millis":0.052301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":659706,"millis":0.659706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":660706,"millis":0.660706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":705107,"millis":0.705107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92301,"millis":0.092301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":211802,"millis":0.211802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:48.226 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":743807,"millis":0.743807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102601,"millis":0.102601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:48.227 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":741108,"millis":0.741108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98401,"millis":0.098401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:48.228 [print] #notpresent \n"},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67001,"millis":0.067001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:48.228 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":793408,"millis":0.793408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109801,"millis":0.109801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:48.229 [print] Beheer PDOK \n"},{"result":{"nanos":83801,"millis":0.083801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:48.229 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n"},{"result":{"nanos":944610,"millis":0.94461,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1677617,"millis":1.677617,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":503605,"millis":0.503605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.104997,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"74620aa8-4fa2-414d-8350-50d93e500da8","startTime":1639198847353,"refId":"[1.165:67]","endTime":1639198848232,"exampleData":{"datasetIdentifierCode":"74620aa8-4fa2-414d-8350-50d93e500da8"},"exampleIndex":164},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:47.378 karate.env system property was: null \n"},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":83300,"millis":0.0833,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70301,"millis":0.070301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":427204,"millis":0.427204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":409104,"millis":0.409104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32901,"millis":0.032901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94101,"millis":0.094101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863889358,"millis":863.889358,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":850109,"millis":0.850109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":978910,"millis":0.97891,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":881608,"millis":0.881608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":970109,"millis":0.970109,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":798508,"millis":0.798508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":927310,"millis":0.92731,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":13148830,"millis":13.14883,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1146711,"millis":1.146711,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1199312,"millis":1.199312,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":374404,"millis":0.374404,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":330203,"millis":0.330203,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:48.265 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n"},{"result":{"nanos":877809,"millis":0.877809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":240503,"millis":0.240503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:48.266 [print] #notpresent \n"},{"result":{"nanos":869108,"millis":0.869108,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":160701,"millis":0.160701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:48.267 [print] OGC:WMS \n"},{"result":{"nanos":97701,"millis":0.097701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":171002,"millis":0.171002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:48.268 [print] #notpresent \n"},{"result":{"nanos":870809,"millis":0.870809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":155801,"millis":0.155801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:48.269 [print] Beheer PDOK \n"},{"result":{"nanos":153701,"millis":0.153701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:48.269 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":753608,"millis":0.753608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":534105,"millis":0.534105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":388104,"millis":0.388104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.113736,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","startTime":1639198847378,"refId":"[1.166:67]","endTime":1639198848271,"exampleData":{"datasetIdentifierCode":"c474b492-da63-4a33-9bdd-b3709ce2cd6c"},"exampleIndex":165},{"sectionIndex":0,"stepResults":[{"result":{"nanos":79801,"millis":0.079801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:47.446 karate.env system property was: null \n"},{"result":{"nanos":44401,"millis":0.044401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133201,"millis":0.133201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":123801,"millis":0.123801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":400204,"millis":0.400204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120702,"millis":0.120702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":499005,"millis":0.499005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87401,"millis":0.087401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121201,"millis":0.121201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44201,"millis":0.044201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23301,"millis":0.023301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22801,"millis":0.022801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848892009,"millis":848.892009,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":856108,"millis":0.856108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":872108,"millis":0.872108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":739208,"millis":0.739208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":808408,"millis":0.808408,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":866809,"millis":0.866809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":808108,"millis":0.808108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84901,"millis":0.084901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":757507,"millis":0.757507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":708607,"millis":0.708607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":809508,"millis":0.809508,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":818808,"millis":0.818808,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":749008,"millis":0.749008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:48.306 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":951309,"millis":0.951309,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":524606,"millis":0.524606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:48.308 [print] OGC:WFS \n"},{"result":{"nanos":847308,"millis":0.847308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":158802,"millis":0.158802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:48.309 [print] #notpresent \n"},{"result":{"nanos":427104,"millis":0.427104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":174602,"millis":0.174602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:48.310 [print] OGC:WFS \n"},{"result":{"nanos":1157112,"millis":1.157112,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":165801,"millis":0.165801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:48.311 [print] Beheer PDOK \n"},{"result":{"nanos":1004110,"millis":1.00411,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:48.311 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":858509,"millis":0.858509,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":418704,"millis":0.418704,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346104,"millis":0.346104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.615888,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","startTime":1639198847446,"refId":"[1.167:67]","endTime":1639198848314,"exampleData":{"datasetIdentifierCode":"7827b68f-647e-46cc-a02a-cac48eaa5dda"},"exampleIndex":166},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:48.143 karate.env system property was: null \n"},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":332503,"millis":0.332503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43201,"millis":0.043201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444004,"millis":0.444004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35101,"millis":0.035101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":116001,"millis":0.116001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6701,"millis":0.006701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":6301,"millis":0.006301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":879241209,"millis":879.241209,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1066411,"millis":1.066411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":840708,"millis":0.840708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1019010,"millis":1.01901,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":709007,"millis":0.709007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1065710,"millis":1.06571,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":862109,"millis":0.862109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":109401,"millis":0.109401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":886409,"millis":0.886409,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":819808,"millis":0.819808,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":629807,"millis":0.629807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":152301,"millis":0.152301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":320004,"millis":0.320004,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:49.033 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":952309,"millis":0.952309,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":332204,"millis":0.332204,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:49.034 [print] OGC:WMS \n"},{"result":{"nanos":2394123,"millis":2.394123,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":555505,"millis":0.555505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:49.037 [print] #notpresent \n"},{"result":{"nanos":146902,"millis":0.146902,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":485205,"millis":0.485205,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:49.038 [print] OGC:WMS \n"},{"result":{"nanos":812408,"millis":0.812408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":494705,"millis":0.494705,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:49.039 [print] Beheer PDOK \n"},{"result":{"nanos":758707,"millis":0.758707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:49.040 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":767407,"millis":0.767407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":505005,"millis":0.505005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":474305,"millis":0.474305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":897.640592,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","startTime":1639198848143,"refId":"[1.168:67]","endTime":1639198849042,"exampleData":{"datasetIdentifierCode":"5be14ec9-9bb3-4395-a061-e7e78d04a527"},"exampleIndex":167},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21501,"millis":0.021501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:48.239 karate.env system property was: null \n"},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60201,"millis":0.060201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":360703,"millis":0.360703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":485305,"millis":0.485305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":92401,"millis":0.092401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":315803,"millis":0.315803,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":837318994,"millis":837.318994,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1004810,"millis":1.00481,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'"}},{"result":{"nanos":748607,"millis":0.748607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":687307,"millis":0.687307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":632106,"millis":0.632106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":935309,"millis":0.935309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":758207,"millis":0.758207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":107901,"millis":0.107901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":582606,"millis":0.582606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1732617,"millis":1.732617,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":782408,"millis":0.782408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":318503,"millis":0.318503,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1107111,"millis":1.107111,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:49.089 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":779107,"millis":0.779107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":521705,"millis":0.521705,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:49.090 [print] OGC:WMS \n"},{"result":{"nanos":1130311,"millis":1.130311,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":611506,"millis":0.611506,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:49.092 [print] #notpresent \n"},{"result":{"nanos":121002,"millis":0.121002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":463504,"millis":0.463504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:49.092 [print] OGC:WMS \n"},{"result":{"nanos":893009,"millis":0.893009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":612006,"millis":0.612006,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:49.094 [print] Beheer PDOK \n"},{"result":{"nanos":1034810,"millis":1.03481,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:49.095 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":766608,"millis":0.766608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":575905,"millis":0.575905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":396403,"millis":0.396403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.269178,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a035801a-3256-4a36-9f81-02421aacee17","startTime":1639198848235,"refId":"[1.169:67]","endTime":1639198849097,"exampleData":{"datasetIdentifierCode":"a035801a-3256-4a36-9f81-02421aacee17"},"exampleIndex":168},{"sectionIndex":0,"stepResults":[{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:48.273 karate.env system property was: null \n"},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":157902,"millis":0.157902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":183602,"millis":0.183602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":696907,"millis":0.696907,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":141602,"millis":0.141602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":524105,"millis":0.524105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95701,"millis":0.095701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":206002,"millis":0.206002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70101,"millis":0.070101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":84801,"millis":0.084801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26201,"millis":0.026201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41001,"millis":0.041001,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850600226,"millis":850.600226,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":905809,"millis":0.905809,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":743308,"millis":0.743308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":684907,"millis":0.684907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":819908,"millis":0.819908,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1021210,"millis":1.02121,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":791008,"millis":0.791008,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":107901,"millis":0.107901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":631106,"millis":0.631106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":637406,"millis":0.637406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":710307,"millis":0.710307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":203102,"millis":0.203102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":740407,"millis":0.740407,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:49.136 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":669307,"millis":0.669307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":440304,"millis":0.440304,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:49.137 [print] OGC:WMS \n"},{"result":{"nanos":614106,"millis":0.614106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":499505,"millis":0.499505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:49.138 [print] #notpresent \n"},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":413804,"millis":0.413804,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:49.138 [print] OGC:WMS \n"},{"result":{"nanos":829408,"millis":0.829408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":595206,"millis":0.595206,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:49.140 [print] Beheer PDOK \n"},{"result":{"nanos":706507,"millis":0.706507,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:49.141 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":752708,"millis":0.752708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":538305,"millis":0.538305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":430305,"millis":0.430305,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.551496,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","startTime":1639198848273,"refId":"[1.170:67]","endTime":1639198849142,"exampleData":{"datasetIdentifierCode":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d"},"exampleIndex":169},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56501,"millis":0.056501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:48.317 karate.env system property was: null \n"},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125101,"millis":0.125101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119901,"millis":0.119901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":394304,"millis":0.394304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120001,"millis":0.120001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":446804,"millis":0.446804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":90001,"millis":0.090001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":116701,"millis":0.116701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":371504,"millis":0.371504,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37801,"millis":0.037801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29501,"millis":0.029501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849692317,"millis":849.692317,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":759007,"millis":0.759007,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":957110,"millis":0.95711,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":716107,"millis":0.716107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":616906,"millis":0.616906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":735807,"millis":0.735807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":655107,"millis":0.655107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":594206,"millis":0.594206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":595906,"millis":0.595906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":933310,"millis":0.93331,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":539005,"millis":0.539005,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":604506,"millis":0.604506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:49.177 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":696407,"millis":0.696407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":443305,"millis":0.443305,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:49.178 [print] OGC:WFS \n"},{"result":{"nanos":631106,"millis":0.631106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":415805,"millis":0.415805,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:49.179 [print] #notpresent \n"},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":372104,"millis":0.372104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:49.180 [print] OGC:WFS \n"},{"result":{"nanos":664907,"millis":0.664907,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":413404,"millis":0.413404,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:49.181 [print] Beheer PDOK \n"},{"result":{"nanos":681907,"millis":0.681907,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:49.182 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":658706,"millis":0.658706,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":692507,"millis":0.692507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":334304,"millis":0.334304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.532877,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","startTime":1639198848316,"refId":"[1.171:67]","endTime":1639198849183,"exampleData":{"datasetIdentifierCode":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506"},"exampleIndex":170},{"sectionIndex":0,"stepResults":[{"result":{"nanos":109701,"millis":0.109701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:49.045 karate.env system property was: null \n"},{"result":{"nanos":42001,"millis":0.042001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":193202,"millis":0.193202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":143401,"millis":0.143401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":551406,"millis":0.551406,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142901,"millis":0.142901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":645307,"millis":0.645307,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91601,"millis":0.091601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":490705,"millis":0.490705,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":74801,"millis":0.074801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25201,"millis":0.025201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":21601,"millis":0.021601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860429724,"millis":860.429724,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1066211,"millis":1.066211,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":782408,"millis":0.782408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":731207,"millis":0.731207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":868709,"millis":0.868709,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":723607,"millis":0.723607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":691307,"millis":0.691307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":57701,"millis":0.057701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":582206,"millis":0.582206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":827508,"millis":0.827508,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":629006,"millis":0.629006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90900,"millis":0.0909,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":212303,"millis":0.212303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:49.917 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1220112,"millis":1.220112,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108901,"millis":0.108901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:49.918 [print] OGC:WMS \n"},{"result":{"nanos":690507,"millis":0.690507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111201,"millis":0.111201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:49.919 [print] #notpresent \n"},{"result":{"nanos":38201,"millis":0.038201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":77201,"millis":0.077201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:49.919 [print] OGC:WMS \n"},{"result":{"nanos":794308,"millis":0.794308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":142201,"millis":0.142201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:49.920 [print] Beheer PDOK \n"},{"result":{"nanos":99201,"millis":0.099201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:49.920 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":758008,"millis":0.758008,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1105811,"millis":1.105811,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":397504,"millis":0.397504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.894881,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f917ffa9-1531-48ea-867e-0d413d85b05a","startTime":1639198849044,"refId":"[1.172:67]","endTime":1639198849922,"exampleData":{"datasetIdentifierCode":"f917ffa9-1531-48ea-867e-0d413d85b05a"},"exampleIndex":171},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:49.100 karate.env system property was: null \n"},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":146402,"millis":0.146402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":195302,"millis":0.195302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":481304,"millis":0.481304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126301,"millis":0.126301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":478705,"millis":0.478705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87001,"millis":0.087001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":500905,"millis":0.500905,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":82701,"millis":0.082701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24401,"millis":0.024401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":22701,"millis":0.022701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846070781,"millis":846.070781,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":869409,"millis":0.869409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":874609,"millis":0.874609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":787908,"millis":0.787908,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":884509,"millis":0.884509,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":757907,"millis":0.757907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":712208,"millis":0.712208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":624106,"millis":0.624106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":585606,"millis":0.585606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":637807,"millis":0.637807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82701,"millis":0.082701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":180901,"millis":0.180901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:49.956 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":700007,"millis":0.700007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":144001,"millis":0.144001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:49.957 [print] OGC:WMS \n"},{"result":{"nanos":818708,"millis":0.818708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:49.958 [print] #notpresent \n"},{"result":{"nanos":31101,"millis":0.031101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74200,"millis":0.0742,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:49.958 [print] OGC:WMS \n"},{"result":{"nanos":879109,"millis":0.879109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74601,"millis":0.074601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:49.959 [print] Beheer PDOK \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:49.959 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":743007,"millis":0.743007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":612606,"millis":0.612606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":365104,"millis":0.365104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.01612,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"62dc32f1-853c-416a-876b-6e083554f1b6","startTime":1639198849099,"refId":"[1.173:67]","endTime":1639198849961,"exampleData":{"datasetIdentifierCode":"62dc32f1-853c-416a-876b-6e083554f1b6"},"exampleIndex":172},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:49.145 karate.env system property was: null \n"},{"result":{"nanos":942109,"millis":0.942109,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":108202,"millis":0.108202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":404104,"millis":0.404104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44100,"millis":0.0441,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404904,"millis":0.404904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33701,"millis":0.033701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":401504,"millis":0.401504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":6601,"millis":0.006601,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860940328,"millis":860.940328,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":866609,"millis":0.866609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":789908,"millis":0.789908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":835508,"millis":0.835508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":755907,"millis":0.755907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":783508,"millis":0.783508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":785208,"millis":0.785208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":622407,"millis":0.622407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":808808,"millis":0.808808,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":678707,"millis":0.678707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105501,"millis":0.105501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":186202,"millis":0.186202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:50.016 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":683207,"millis":0.683207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111701,"millis":0.111701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:50.017 [print] OGC:WFS \n"},{"result":{"nanos":871709,"millis":0.871709,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110901,"millis":0.110901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:50.018 [print] #notpresent \n"},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97501,"millis":0.097501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:50.018 [print] OGC:WFS \n"},{"result":{"nanos":785508,"millis":0.785508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":124201,"millis":0.124201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:50.019 [print] Beheer PDOK \n"},{"result":{"nanos":101601,"millis":0.101601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:50.019 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":961909,"millis":0.961909,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":607806,"millis":0.607806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":309704,"millis":0.309704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.564574,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","startTime":1639198849144,"refId":"[1.174:67]","endTime":1639198850021,"exampleData":{"datasetIdentifierCode":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a"},"exampleIndex":173},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:49.187 karate.env system property was: null \n"},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315303,"millis":0.315303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42401,"millis":0.042401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434704,"millis":0.434704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50601,"millis":0.050601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":523605,"millis":0.523605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860173621,"millis":860.173621,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":835408,"millis":0.835408,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":746308,"millis":0.746308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":721307,"millis":0.721307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":625807,"millis":0.625807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":726307,"millis":0.726307,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":627706,"millis":0.627706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29501,"millis":0.029501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":564605,"millis":0.564605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":548906,"millis":0.548906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":15523854,"millis":15.523854,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":330403,"millis":0.330403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":199302,"millis":0.199302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:50.071 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":809908,"millis":0.809908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":167001,"millis":0.167001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:50.072 [print] OGC:WMS \n"},{"result":{"nanos":688606,"millis":0.688606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140301,"millis":0.140301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:50.073 [print] #notpresent \n"},{"result":{"nanos":131402,"millis":0.131402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":106601,"millis":0.106601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:50.073 [print] OGC:WMS \n"},{"result":{"nanos":825408,"millis":0.825408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":165302,"millis":0.165302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:50.074 [print] Beheer PDOK \n"},{"result":{"nanos":882909,"millis":0.882909,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:50.075 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":1324613,"millis":1.324613,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":506905,"millis":0.506905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2767428,"millis":2.767428,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.823435,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3ac5737f-55ed-455d-8350-44af11b67fc3","startTime":1639198849187,"refId":"[1.175:67]","endTime":1639198850080,"exampleData":{"datasetIdentifierCode":"3ac5737f-55ed-455d-8350-44af11b67fc3"},"exampleIndex":174},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:49.925 karate.env system property was: null \n"},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55401,"millis":0.055401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343904,"millis":0.343904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":520505,"millis":0.520505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54101,"millis":0.054101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872108050,"millis":872.10805,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1141110,"millis":1.14111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":821207,"millis":0.821207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":711606,"millis":0.711606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":765307,"millis":0.765307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1144510,"millis":1.14451,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":884707,"millis":0.884707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89400,"millis":0.0894,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":806607,"millis":0.806607,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":794507,"millis":0.794507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":637306,"millis":0.637306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":200501,"millis":0.200501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":777806,"millis":0.777806,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:50.807 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1452612,"millis":1.452612,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":173801,"millis":0.173801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:50.809 [print] #notpresent \n"},{"result":{"nanos":1113210,"millis":1.11321,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":180702,"millis":0.180702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:50.810 [print] OGC:WFS \n"},{"result":{"nanos":457504,"millis":0.457504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136601,"millis":0.136601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:50.811 [print] #notpresent \n"},{"result":{"nanos":1039210,"millis":1.03921,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":197901,"millis":0.197901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:50.812 [print] Beheer PDOK \n"},{"result":{"nanos":425704,"millis":0.425704,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:50.813 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":1336112,"millis":1.336112,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":574105,"millis":0.574105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":367004,"millis":0.367004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":889.625203,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e08079df-6c19-486e-916e-5c9948cfafea","startTime":1639198849924,"refId":"[1.176:67]","endTime":1639198850815,"exampleData":{"datasetIdentifierCode":"e08079df-6c19-486e-916e-5c9948cfafea"},"exampleIndex":175},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:49.963 karate.env system property was: null \n"},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":231403,"millis":0.231403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":373004,"millis":0.373004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42201,"millis":0.042201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":449204,"millis":0.449204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53801,"millis":0.053801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46101,"millis":0.046101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859587997,"millis":859.587997,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":784507,"millis":0.784507,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":845208,"millis":0.845208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":787007,"millis":0.787007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":783907,"millis":0.783907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1068409,"millis":1.068409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":883407,"millis":0.883407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":78601,"millis":0.078601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":837308,"millis":0.837308,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":773607,"millis":0.773607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":638605,"millis":0.638605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":169202,"millis":0.169202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":562505,"millis":0.562505,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:50.833 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1236011,"millis":1.236011,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":271503,"millis":0.271503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:50.834 [print] #notpresent \n"},{"result":{"nanos":1224711,"millis":1.224711,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":213101,"millis":0.213101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:50.836 [print] OGC:WMS \n"},{"result":{"nanos":343503,"millis":0.343503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":162801,"millis":0.162801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:50.836 [print] #notpresent \n"},{"result":{"nanos":1087010,"millis":1.08701,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":170801,"millis":0.170801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:50.838 [print] Beheer PDOK \n"},{"result":{"nanos":6169154,"millis":6.169154,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:50.844 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":1576814,"millis":1.576814,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619906,"millis":0.619906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":392303,"millis":0.392303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.684403,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","startTime":1639198849963,"refId":"[1.177:67]","endTime":1639198850846,"exampleData":{"datasetIdentifierCode":"88a93a3b-d522-4c5d-9b0f-c6c39a118442"},"exampleIndex":176},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:50.024 karate.env system property was: null \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68801,"millis":0.068801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64801,"millis":0.064801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":589106,"millis":0.589106,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67300,"millis":0.0673,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385003,"millis":0.385003,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111101,"millis":0.111101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":841125068,"millis":841.125068,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":947508,"millis":0.947508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":769107,"millis":0.769107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":797907,"millis":0.797907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":604606,"millis":0.604606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":858807,"millis":0.858807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":854807,"millis":0.854807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":129301,"millis":0.129301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":638705,"millis":0.638705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":779207,"millis":0.779207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":660706,"millis":0.660706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":480105,"millis":0.480105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":207602,"millis":0.207602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:50.875 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":774507,"millis":0.774507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":183501,"millis":0.183501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:50.875 [print] OGC:WFS \n"},{"result":{"nanos":675806,"millis":0.675806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":269503,"millis":0.269503,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:50.876 [print] #notpresent \n"},{"result":{"nanos":124501,"millis":0.124501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135501,"millis":0.135501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:50.877 [print] OGC:WFS \n"},{"result":{"nanos":687607,"millis":0.687607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":222702,"millis":0.222702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:50.878 [print] Beheer PDOK \n"},{"result":{"nanos":200601,"millis":0.200601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:50.878 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":813507,"millis":0.813507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":433804,"millis":0.433804,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348603,"millis":0.348603,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.196693,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d94b1eca-8a7d-4dc4-b979-36257878758f","startTime":1639198850023,"refId":"[1.178:67]","endTime":1639198850880,"exampleData":{"datasetIdentifierCode":"d94b1eca-8a7d-4dc4-b979-36257878758f"},"exampleIndex":177},{"sectionIndex":0,"stepResults":[{"result":{"nanos":78801,"millis":0.078801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:50.086 karate.env system property was: null \n"},{"result":{"nanos":3614936,"millis":3.614936,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":223802,"millis":0.223802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":159302,"millis":0.159302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":509005,"millis":0.509005,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":160202,"millis":0.160202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":617406,"millis":0.617406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":93801,"millis":0.093801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":194102,"millis":0.194102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":1901119,"millis":1.901119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":60001,"millis":0.060001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28601,"millis":0.028601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21701,"millis":0.021701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867040920,"millis":867.04092,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1078009,"millis":1.078009,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":809307,"millis":0.809307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":767607,"millis":0.767607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":757207,"millis":0.757207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1109210,"millis":1.10921,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1023109,"millis":1.023109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87101,"millis":0.087101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":907608,"millis":0.907608,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":769907,"millis":0.769907,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1389912,"millis":1.389912,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":156401,"millis":0.156401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":183602,"millis":0.183602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:50.971 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":869207,"millis":0.869207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":104301,"millis":0.104301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:50.972 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":904308,"millis":0.904308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:50.973 [print] #notpresent \n"},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":167601,"millis":0.167601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:50.973 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":902608,"millis":0.902608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95300,"millis":0.0953,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:50.974 [print] Beheer PDOK \n"},{"result":{"nanos":167801,"millis":0.167801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:50.975 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n"},{"result":{"nanos":967508,"millis":0.967508,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":637706,"millis":0.637706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":440104,"millis":0.440104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":889.184423,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1639198850085,"refId":"[1.179:67]","endTime":1639198850977,"exampleData":{"datasetIdentifierCode":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":178},{"sectionIndex":0,"stepResults":[{"result":{"nanos":72600,"millis":0.0726,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:50.818 karate.env system property was: null \n"},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":240102,"millis":0.240102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":163702,"millis":0.163702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":504604,"millis":0.504604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":172202,"millis":0.172202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":597605,"millis":0.597605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":104700,"millis":0.1047,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":201201,"millis":0.201201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":362604,"millis":0.362604,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":37401,"millis":0.037401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21201,"millis":0.021201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860669784,"millis":860.669784,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":985009,"millis":0.985009,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":724606,"millis":0.724606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":870108,"millis":0.870108,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":740307,"millis":0.740307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":824707,"millis":0.824707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":756107,"millis":0.756107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":810407,"millis":0.810407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":639106,"millis":0.639106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":639306,"millis":0.639306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86201,"millis":0.086201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":272902,"millis":0.272902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:51.690 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":832108,"millis":0.832108,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":101301,"millis":0.101301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:51.691 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":750406,"millis":0.750406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97001,"millis":0.097001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:51.692 [print] #notpresent \n"},{"result":{"nanos":33201,"millis":0.033201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:51.692 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":813407,"millis":0.813407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106701,"millis":0.106701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:51.693 [print] Beheer PDOK \n"},{"result":{"nanos":112701,"millis":0.112701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:51.693 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":769507,"millis":0.769507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":690606,"millis":0.690606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387204,"millis":0.387204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.478715,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7681eb19-a914-4dc7-9208-c2a131dca06d","startTime":1639198850817,"refId":"[1.180:67]","endTime":1639198851695,"exampleData":{"datasetIdentifierCode":"7681eb19-a914-4dc7-9208-c2a131dca06d"},"exampleIndex":179},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:50.849 karate.env system property was: null \n"},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":148202,"millis":0.148202,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":188002,"millis":0.188002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":572405,"millis":0.572405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126501,"millis":0.126501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":519305,"millis":0.519305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":92300,"millis":0.0923,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":156601,"millis":0.156601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61401,"millis":0.061401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21801,"millis":0.021801,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851604105,"millis":851.604105,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":812207,"millis":0.812207,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":739806,"millis":0.739806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":684906,"millis":0.684906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":801407,"millis":0.801407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":768606,"millis":0.768606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":787707,"millis":0.787707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":791607,"millis":0.791607,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":812407,"millis":0.812407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":832708,"millis":0.832708,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":561504,"millis":0.561504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:51.712 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":767607,"millis":0.767607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99201,"millis":0.099201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:51.713 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":941308,"millis":0.941308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98101,"millis":0.098101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:51.714 [print] #notpresent \n"},{"result":{"nanos":355503,"millis":0.355503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":400204,"millis":0.400204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:51.714 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":792107,"millis":0.792107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":149001,"millis":0.149001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:51.715 [print] Beheer PDOK \n"},{"result":{"nanos":962709,"millis":0.962709,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:51.716 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":710106,"millis":0.710106,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":405404,"millis":0.405404,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330203,"millis":0.330203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.439743,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","startTime":1639198850849,"refId":"[1.181:67]","endTime":1639198851718,"exampleData":{"datasetIdentifierCode":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef"},"exampleIndex":180},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54201,"millis":0.054201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:50.883 karate.env system property was: null \n"},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":120401,"millis":0.120401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":120301,"millis":0.120301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":407103,"millis":0.407103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114802,"millis":0.114802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":465804,"millis":0.465804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":83601,"millis":0.083601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":161501,"millis":0.161501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46401,"millis":0.046401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":861359691,"millis":861.359691,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":758507,"millis":0.758507,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":834808,"millis":0.834808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":814307,"millis":0.814307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":907508,"millis":0.907508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1193211,"millis":1.193211,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":882007,"millis":0.882007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":85500,"millis":0.0855,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":752907,"millis":0.752907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":782607,"millis":0.782607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":694206,"millis":0.694206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98701,"millis":0.098701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":102301,"millis":0.102301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:51.755 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":763607,"millis":0.763607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":96201,"millis":0.096201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:51.756 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":806307,"millis":0.806307,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":74401,"millis":0.074401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:51.757 [print] #notpresent \n"},{"result":{"nanos":79001,"millis":0.079001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":369303,"millis":0.369303,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:51.757 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":787107,"millis":0.787107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81201,"millis":0.081201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:51.759 [print] Beheer PDOK \n"},{"result":{"nanos":223202,"millis":0.223202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:51.759 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":917608,"millis":0.917608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":476105,"millis":0.476105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":320902,"millis":0.320902,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":876.019621,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","startTime":1639198850882,"refId":"[1.182:67]","endTime":1639198851761,"exampleData":{"datasetIdentifierCode":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd"},"exampleIndex":181},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:50.979 karate.env system property was: null \n"},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75001,"millis":0.075001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":407904,"millis":0.407904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40401,"millis":0.040401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":613705,"millis":0.613705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37601,"millis":0.037601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72600,"millis":0.0726,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51001,"millis":0.051001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857939361,"millis":857.939361,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1029809,"millis":1.029809,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":848908,"millis":0.848908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":847907,"millis":0.847907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1018009,"millis":1.018009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":886707,"millis":0.886707,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":840007,"millis":0.840007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":810107,"millis":0.810107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":704606,"millis":0.704606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":775707,"millis":0.775707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79201,"millis":0.079201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":221702,"millis":0.221702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:51.847 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1172510,"millis":1.17251,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121901,"millis":0.121901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:51.849 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":916408,"millis":0.916408,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98401,"millis":0.098401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:51.850 [print] #notpresent \n"},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":470004,"millis":0.470004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:51.850 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":979408,"millis":0.979408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126101,"millis":0.126101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:51.851 [print] Beheer PDOK \n"},{"result":{"nanos":65101,"millis":0.065101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:51.851 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":754607,"millis":0.754607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":799507,"millis":0.799507,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346003,"millis":0.346003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.465697,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","startTime":1639198850979,"refId":"[1.183:67]","endTime":1639198851853,"exampleData":{"datasetIdentifierCode":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f"},"exampleIndex":182},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:51.697 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65401,"millis":0.065401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":233002,"millis":0.233002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":424704,"millis":0.424704,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447304,"millis":0.447304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":241202,"millis":0.241202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17301,"millis":0.017301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48101,"millis":0.048101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838455489,"millis":838.455489,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1128410,"millis":1.12841,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":793407,"millis":0.793407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":807908,"millis":0.807908,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":672106,"millis":0.672106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1103709,"millis":1.103709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":917408,"millis":0.917408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":131301,"millis":0.131301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":739507,"millis":0.739507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":732306,"millis":0.732306,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":719707,"millis":0.719707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":237002,"millis":0.237002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":454304,"millis":0.454304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:52.547 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n"},{"result":{"nanos":673006,"millis":0.673006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":282703,"millis":0.282703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:52.548 [print] OGC:WFS \n"},{"result":{"nanos":825307,"millis":0.825307,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":303903,"millis":0.303903,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:52.549 [print] #notpresent \n"},{"result":{"nanos":91501,"millis":0.091501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":231702,"millis":0.231702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:52.549 [print] OGC:WFS \n"},{"result":{"nanos":910708,"millis":0.910708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":278203,"millis":0.278203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:52.550 [print] Beheer PDOK \n"},{"result":{"nanos":248602,"millis":0.248602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:52.551 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":768307,"millis":0.768307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":531004,"millis":0.531004,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":877207,"millis":0.877207,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.565332,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","startTime":1639198851697,"refId":"[1.184:67]","endTime":1639198852553,"exampleData":{"datasetIdentifierCode":"008d85d1-460d-46f6-9af4-98afdedbc4dc"},"exampleIndex":183},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:51.720 karate.env system property was: null \n"},{"result":{"nanos":35901,"millis":0.035901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62201,"millis":0.062201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347003,"millis":0.347003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65701,"millis":0.065701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1263311,"millis":1.263311,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":434303,"millis":0.434303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60301,"millis":0.060301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863420409,"millis":863.420409,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":989709,"millis":0.989709,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":772107,"millis":0.772107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":639306,"millis":0.639306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":706706,"millis":0.706706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":771507,"millis":0.771507,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":919108,"millis":0.919108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":102901,"millis":0.102901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":741907,"millis":0.741907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":865007,"millis":0.865007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":718406,"millis":0.718406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":172902,"millis":0.172902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":686106,"millis":0.686106,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:52.595 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":720806,"millis":0.720806,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":503805,"millis":0.503805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:52.596 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":753607,"millis":0.753607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":512304,"millis":0.512304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:52.597 [print] #notpresent \n"},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":482704,"millis":0.482704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:52.598 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":812607,"millis":0.812607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":517505,"millis":0.517505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:52.599 [print] Beheer PDOK \n"},{"result":{"nanos":875607,"millis":0.875607,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:52.600 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":799707,"millis":0.799707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":542904,"millis":0.542904,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":567905,"millis":0.567905,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.177865,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","startTime":1639198851720,"refId":"[1.185:67]","endTime":1639198852602,"exampleData":{"datasetIdentifierCode":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db"},"exampleIndex":184},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:51.763 karate.env system property was: null \n"},{"result":{"nanos":28401,"millis":0.028401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347003,"millis":0.347003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431903,"millis":0.431903,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32701,"millis":0.032701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13201,"millis":0.013201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62701,"millis":0.062701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843037029,"millis":843.037029,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":825708,"millis":0.825708,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":790507,"millis":0.790507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":691106,"millis":0.691106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":841108,"millis":0.841108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1214210,"millis":1.21421,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3686633,"millis":3.686633,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":115901,"millis":0.115901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":937409,"millis":0.937409,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":709106,"millis":0.709106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":653506,"millis":0.653506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":170301,"millis":0.170301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1092110,"millis":1.09211,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:52.620 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":868008,"millis":0.868008,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145701,"millis":0.145701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:52.621 [print] OGC:WMS \n"},{"result":{"nanos":993109,"millis":0.993109,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":139001,"millis":0.139001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:52.622 [print] #notpresent \n"},{"result":{"nanos":391504,"millis":0.391504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":122001,"millis":0.122001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:52.622 [print] OGC:WMS \n"},{"result":{"nanos":1311311,"millis":1.311311,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":147501,"millis":0.147501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:52.624 [print] Beheer PDOK \n"},{"result":{"nanos":582805,"millis":0.582805,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:52.625 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n"},{"result":{"nanos":1402513,"millis":1.402513,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":615605,"millis":0.615605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":324003,"millis":0.324003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.000107,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1bd24d1e-aa13-4395-809e-893570f7c651","startTime":1639198851763,"refId":"[1.186:67]","endTime":1639198852627,"exampleData":{"datasetIdentifierCode":"1bd24d1e-aa13-4395-809e-893570f7c651"},"exampleIndex":185},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:51.874 karate.env system property was: null \n"},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":126602,"millis":0.126602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":138001,"millis":0.138001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":582305,"millis":0.582305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":137701,"millis":0.137701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":451403,"millis":0.451403,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82600,"millis":0.0826,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113001,"millis":0.113001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":370404,"millis":0.370404,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853587823,"millis":853.587823,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":911108,"millis":0.911108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":820507,"millis":0.820507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":724906,"millis":0.724906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":756907,"millis":0.756907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1402512,"millis":1.402512,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":921909,"millis":0.921909,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84900,"millis":0.0849,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":699407,"millis":0.699407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":858207,"millis":0.858207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":709606,"millis":0.709606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":184202,"millis":0.184202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":960609,"millis":0.960609,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:52.740 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":758306,"millis":0.758306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159802,"millis":0.159802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:52.741 [print] OGC:WFS \n"},{"result":{"nanos":1005009,"millis":1.005009,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":221802,"millis":0.221802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:52.743 [print] #notpresent \n"},{"result":{"nanos":409404,"millis":0.409404,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":166501,"millis":0.166501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:52.743 [print] OGC:WFS \n"},{"result":{"nanos":983509,"millis":0.983509,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":2371021,"millis":2.371021,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:52.744 [print] Beheer PDOK \n"},{"result":{"nanos":764007,"millis":0.764007,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:52.747 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":884408,"millis":0.884408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":578405,"millis":0.578405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":441104,"millis":0.441104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.655299,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"972edbaa-f860-4c48-b449-4f238a263472","startTime":1639198851874,"refId":"[1.187:67]","endTime":1639198852749,"exampleData":{"datasetIdentifierCode":"972edbaa-f860-4c48-b449-4f238a263472"},"exampleIndex":186},{"sectionIndex":0,"stepResults":[{"result":{"nanos":68700,"millis":0.0687,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:52.558 karate.env system property was: null \n"},{"result":{"nanos":64301,"millis":0.064301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":132801,"millis":0.132801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":151602,"millis":0.151602,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":488904,"millis":0.488904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124301,"millis":0.124301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432904,"millis":0.432904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":124301,"millis":0.124301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":651906,"millis":0.651906,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":74401,"millis":0.074401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39701,"millis":0.039701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":74201,"millis":0.074201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863390308,"millis":863.390308,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1032909,"millis":1.032909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":827407,"millis":0.827407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":870208,"millis":0.870208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":972009,"millis":0.972009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":912908,"millis":0.912908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":869908,"millis":0.869908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":902508,"millis":0.902508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":791407,"millis":0.791407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":746707,"millis":0.746707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":358403,"millis":0.358403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":683206,"millis":0.683206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:53.433 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":795507,"millis":0.795507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":540205,"millis":0.540205,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:53.434 [print] OGC:WMS \n"},{"result":{"nanos":803207,"millis":0.803207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":508605,"millis":0.508605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:53.436 [print] #notpresent \n"},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":447304,"millis":0.447304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:53.436 [print] OGC:WMS \n"},{"result":{"nanos":880308,"millis":0.880308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":466804,"millis":0.466804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:53.438 [print] Beheer PDOK \n"},{"result":{"nanos":686506,"millis":0.686506,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:53.438 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":845308,"millis":0.845308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":680906,"millis":0.680906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":377103,"millis":0.377103,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.989474,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","startTime":1639198852557,"refId":"[1.188:67]","endTime":1639198853440,"exampleData":{"datasetIdentifierCode":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a"},"exampleIndex":187},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:52.605 karate.env system property was: null \n"},{"result":{"nanos":40601,"millis":0.040601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":118501,"millis":0.118501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":4262138,"millis":4.262138,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":505304,"millis":0.505304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":137301,"millis":0.137301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":482804,"millis":0.482804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85901,"millis":0.085901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":153701,"millis":0.153701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":170302,"millis":0.170302,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21001,"millis":0.021001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853661422,"millis":853.661422,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":3318229,"millis":3.318229,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":1068110,"millis":1.06811,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1130310,"millis":1.13031,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":951608,"millis":0.951608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":961509,"millis":0.961509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":964408,"millis":0.964408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":908008,"millis":0.908008,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":912108,"millis":0.912108,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":818607,"millis":0.818607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":123302,"millis":0.123302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":785007,"millis":0.785007,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:53.478 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":862607,"millis":0.862607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":471504,"millis":0.471504,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:53.479 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":778907,"millis":0.778907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":418304,"millis":0.418304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:53.480 [print] #notpresent \n"},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":427403,"millis":0.427403,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:53.481 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1055110,"millis":1.05511,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":448204,"millis":0.448204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:53.482 [print] Beheer PDOK \n"},{"result":{"nanos":2230719,"millis":2.230719,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:53.485 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":1351212,"millis":1.351212,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":852607,"millis":0.852607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1475913,"millis":1.475913,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.217372,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"40f04047-3b61-40eb-b026-c1a0caa71881","startTime":1639198852604,"refId":"[1.189:67]","endTime":1639198853488,"exampleData":{"datasetIdentifierCode":"40f04047-3b61-40eb-b026-c1a0caa71881"},"exampleIndex":188},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:52.630 karate.env system property was: null \n"},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":160302,"millis":0.160302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":144501,"millis":0.144501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":376004,"millis":0.376004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116901,"millis":0.116901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":468004,"millis":0.468004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88501,"millis":0.088501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":151701,"millis":0.151701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":364403,"millis":0.364403,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23501,"millis":0.023501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22801,"millis":0.022801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":876813627,"millis":876.813627,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":999609,"millis":0.999609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":1044309,"millis":1.044309,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":964109,"millis":0.964109,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1053009,"millis":1.053009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":991909,"millis":0.991909,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1036809,"millis":1.036809,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33401,"millis":0.033401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":809307,"millis":0.809307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":736106,"millis":0.736106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":816907,"millis":0.816907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107501,"millis":0.107501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":208902,"millis":0.208902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:53.518 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1322411,"millis":1.322411,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":472004,"millis":0.472004,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:53.520 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":897708,"millis":0.897708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81801,"millis":0.081801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:53.521 [print] #notpresent \n"},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":437704,"millis":0.437704,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:53.522 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1060210,"millis":1.06021,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":404003,"millis":0.404003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:53.523 [print] Beheer PDOK \n"},{"result":{"nanos":157802,"millis":0.157802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:53.524 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":1346012,"millis":1.346012,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":899708,"millis":0.899708,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":533704,"millis":0.533704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":895.435392,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ceda1b88-32ac-40b2-a841-71eb041c9427","startTime":1639198852629,"refId":"[1.190:67]","endTime":1639198853533,"exampleData":{"datasetIdentifierCode":"ceda1b88-32ac-40b2-a841-71eb041c9427"},"exampleIndex":189},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:52.752 karate.env system property was: null \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53301,"millis":0.053301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":466105,"millis":0.466105,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435004,"millis":0.435004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":436203,"millis":0.436203,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19101,"millis":0.019101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46201,"millis":0.046201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844640343,"millis":844.640343,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1027509,"millis":1.027509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":797907,"millis":0.797907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":769707,"millis":0.769707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":781607,"millis":0.781607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":887108,"millis":0.887108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":15578237,"millis":15.578237,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":205402,"millis":0.205402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":928309,"millis":0.928309,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":710006,"millis":0.710006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":662106,"millis":0.662106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":178002,"millis":0.178002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":225102,"millis":0.225102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:53.622 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n"},{"result":{"nanos":737706,"millis":0.737706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201302,"millis":0.201302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:53.623 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":782607,"millis":0.782607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":161202,"millis":0.161202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:53.624 [print] #notpresent \n"},{"result":{"nanos":135501,"millis":0.135501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":172302,"millis":0.172302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:53.624 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":849107,"millis":0.849107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":142401,"millis":0.142401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:53.625 [print] Beheer PDOK \n"},{"result":{"nanos":250902,"millis":0.250902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:53.625 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":858807,"millis":0.858807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":712406,"millis":0.712406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":428104,"millis":0.428104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.507707,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","startTime":1639198852751,"refId":"[1.191:67]","endTime":1639198853627,"exampleData":{"datasetIdentifierCode":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c"},"exampleIndex":190},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:53.443 karate.env system property was: null \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66901,"millis":0.066901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89701,"millis":0.089701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":373203,"millis":0.373203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41301,"millis":0.041301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":524404,"millis":0.524404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":462904,"millis":0.462904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19901,"millis":0.019901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":75601,"millis":0.075601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862052497,"millis":862.052497,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1188310,"millis":1.18831,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":754907,"millis":0.754907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":768407,"millis":0.768407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":812107,"millis":0.812107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":964009,"millis":0.964009,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":922408,"millis":0.922408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97301,"millis":0.097301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":698806,"millis":0.698806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":691606,"millis":0.691606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":688907,"millis":0.688907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":184401,"millis":0.184401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1062010,"millis":1.06201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:54.316 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":2721924,"millis":2.721924,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":724906,"millis":0.724906,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:54.320 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":818208,"millis":0.818208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":581805,"millis":0.581805,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:54.321 [print] #notpresent \n"},{"result":{"nanos":109201,"millis":0.109201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":459104,"millis":0.459104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:54.322 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":797607,"millis":0.797607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":531605,"millis":0.531605,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:54.323 [print] Beheer PDOK \n"},{"result":{"nanos":1172211,"millis":1.172211,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:54.324 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":732006,"millis":0.732006,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":573305,"millis":0.573305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":472605,"millis":0.472605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.390779,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"280cee65-1b66-4973-a569-75122e0b745b","startTime":1639198853442,"refId":"[1.192:67]","endTime":1639198854326,"exampleData":{"datasetIdentifierCode":"280cee65-1b66-4973-a569-75122e0b745b"},"exampleIndex":191},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:53.491 karate.env system property was: null \n"},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49601,"millis":0.049601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77100,"millis":0.0771,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":338303,"millis":0.338303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40701,"millis":0.040701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417904,"millis":0.417904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":439704,"millis":0.439704,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70801,"millis":0.070801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848109174,"millis":848.109174,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":957209,"millis":0.957209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":901008,"millis":0.901008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":798407,"millis":0.798407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":757007,"millis":0.757007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":963008,"millis":0.963008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":778006,"millis":0.778006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":120201,"millis":0.120201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":894208,"millis":0.894208,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":754007,"millis":0.754007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":723206,"millis":0.723206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":217302,"millis":0.217302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":857108,"millis":0.857108,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:54.350 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":798307,"millis":0.798307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":506704,"millis":0.506704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:54.351 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":966808,"millis":0.966808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":597905,"millis":0.597905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:54.353 [print] #notpresent \n"},{"result":{"nanos":94700,"millis":0.0947,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":506305,"millis":0.506305,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:54.353 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":825807,"millis":0.825807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":557905,"millis":0.557905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:54.355 [print] Beheer PDOK \n"},{"result":{"nanos":1366812,"millis":1.366812,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:54.356 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n"},{"result":{"nanos":932208,"millis":0.932208,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":711006,"millis":0.711006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":545405,"millis":0.545405,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.840838,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","startTime":1639198853490,"refId":"[1.193:67]","endTime":1639198854358,"exampleData":{"datasetIdentifierCode":"108fec55-e467-4d04-ab35-fd0d7060e3e2"},"exampleIndex":192},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:53.535 karate.env system property was: null \n"},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":357703,"millis":0.357703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447804,"millis":0.447804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":101200,"millis":0.1012,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851415503,"millis":851.415503,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":964808,"millis":0.964808,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":740807,"millis":0.740807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":706106,"millis":0.706106,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":664906,"millis":0.664906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":942309,"millis":0.942309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":703306,"millis":0.703306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":97301,"millis":0.097301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":670006,"millis":0.670006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":920008,"millis":0.920008,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":605806,"millis":0.605806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":761107,"millis":0.761107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1047309,"millis":1.047309,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:54.398 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":993909,"millis":0.993909,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":530605,"millis":0.530605,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:54.399 [print] OGC:WMS \n"},{"result":{"nanos":703606,"millis":0.703606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":535605,"millis":0.535605,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:54.401 [print] #notpresent \n"},{"result":{"nanos":104301,"millis":0.104301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":460204,"millis":0.460204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:54.401 [print] OGC:WMS \n"},{"result":{"nanos":732207,"millis":0.732207,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":778807,"millis":0.778807,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:54.403 [print] Beheer PDOK \n"},{"result":{"nanos":788507,"millis":0.788507,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:54.403 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n"},{"result":{"nanos":732306,"millis":0.732306,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":662506,"millis":0.662506,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":506605,"millis":0.506605,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.126761,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","startTime":1639198853535,"refId":"[1.194:67]","endTime":1639198854405,"exampleData":{"datasetIdentifierCode":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0"},"exampleIndex":193},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:53.632 karate.env system property was: null \n"},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":165601,"millis":0.165601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":187001,"millis":0.187001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":502605,"millis":0.502605,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":157101,"millis":0.157101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486605,"millis":0.486605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87501,"millis":0.087501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":143101,"millis":0.143101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37101,"millis":0.037101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21801,"millis":0.021801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872126586,"millis":872.126586,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2800,"millis":0.0028,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1191411,"millis":1.191411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":809707,"millis":0.809707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":841608,"millis":0.841608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":762507,"millis":0.762507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1020009,"millis":1.020009,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":773007,"millis":0.773007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":657706,"millis":0.657706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":824207,"millis":0.824207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":684006,"millis":0.684006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75301,"millis":0.075301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":294803,"millis":0.294803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:54.515 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":826607,"millis":0.826607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113301,"millis":0.113301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:54.516 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":626205,"millis":0.626205,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66401,"millis":0.066401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:54.516 [print] #notpresent \n"},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73201,"millis":0.073201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:54.516 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":784707,"millis":0.784707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99201,"millis":0.099201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:54.517 [print] Beheer PDOK \n"},{"result":{"nanos":88701,"millis":0.088701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:54.518 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":965709,"millis":0.965709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":828307,"millis":0.828307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":407604,"millis":0.407604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.048719,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"918388cf-9d8c-4264-b108-3e375bde0d52","startTime":1639198853631,"refId":"[1.195:67]","endTime":1639198854520,"exampleData":{"datasetIdentifierCode":"918388cf-9d8c-4264-b108-3e375bde0d52"},"exampleIndex":194},{"sectionIndex":0,"stepResults":[{"result":{"nanos":76201,"millis":0.076201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:54.329 karate.env system property was: null \n"},{"result":{"nanos":94601,"millis":0.094601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":142101,"millis":0.142101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":138902,"millis":0.138902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":421103,"millis":0.421103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":158902,"millis":0.158902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":451704,"millis":0.451704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85301,"millis":0.085301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":543305,"millis":0.543305,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37801,"millis":0.037801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":65901,"millis":0.065901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23801,"millis":0.023801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855548639,"millis":855.548639,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1207710,"millis":1.20771,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":902707,"millis":0.902707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":900108,"millis":0.900108,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":881008,"millis":0.881008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1050709,"millis":1.050709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":939009,"millis":0.939009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":661606,"millis":0.661606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":704006,"millis":0.704006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":799407,"millis":0.799407,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80200,"millis":0.0802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":207502,"millis":0.207502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:55.196 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":745807,"millis":0.745807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":67301,"millis":0.067301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:55.197 [print] #notpresent \n"},{"result":{"nanos":778107,"millis":0.778107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":104001,"millis":0.104001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:55.198 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80601,"millis":0.080601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:55.198 [print] #notpresent \n"},{"result":{"nanos":1016409,"millis":1.016409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":118701,"millis":0.118701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:55.199 [print] Beheer PDOK \n"},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:55.199 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":762007,"millis":0.762007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":575505,"millis":0.575505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":320503,"millis":0.320503,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.958576,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"62c0d0a5-5826-406d-a625-d84bc5fec800","startTime":1639198854328,"refId":"[1.196:67]","endTime":1639198855201,"exampleData":{"datasetIdentifierCode":"62c0d0a5-5826-406d-a625-d84bc5fec800"},"exampleIndex":195},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:54.362 karate.env system property was: null \n"},{"result":{"nanos":43301,"millis":0.043301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":184901,"millis":0.184901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":148702,"millis":0.148702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":459804,"millis":0.459804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":123001,"millis":0.123001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435104,"millis":0.435104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":87301,"millis":0.087301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":501605,"millis":0.501605,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36101,"millis":0.036101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":22101,"millis":0.022101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843902737,"millis":843.902737,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":728507,"millis":0.728507,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":1009209,"millis":1.009209,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":904108,"millis":0.904108,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":986009,"millis":0.986009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":814107,"millis":0.814107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":803307,"millis":0.803307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":863507,"millis":0.863507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":781507,"millis":0.781507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":723207,"millis":0.723207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":572605,"millis":0.572605,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:55.217 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n"},{"result":{"nanos":802307,"millis":0.802307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":464304,"millis":0.464304,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:55.218 [print] OGC:WMS \n"},{"result":{"nanos":763407,"millis":0.763407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":419004,"millis":0.419004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:55.219 [print] OGC:WMS \n"},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1220311,"millis":1.220311,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:55.220 [print] OGC:WMS \n"},{"result":{"nanos":980209,"millis":0.980209,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":416604,"millis":0.416604,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:55.222 [print] Beheer PDOK \n"},{"result":{"nanos":1111309,"millis":1.111309,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:55.223 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n"},{"result":{"nanos":810607,"millis":0.810607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":650606,"millis":0.650606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":367903,"millis":0.367903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.497402,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"598c4109-21d2-4a6c-b083-9975a6736853","startTime":1639198854361,"refId":"[1.197:67]","endTime":1639198855225,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736853"},"exampleIndex":196},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60301,"millis":0.060301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:54.410 karate.env system property was: null \n"},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129401,"millis":0.129401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":162902,"millis":0.162902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":475904,"millis":0.475904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142902,"millis":0.142902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":6284855,"millis":6.284855,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":323103,"millis":0.323103,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2737225,"millis":2.737225,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":174501,"millis":0.174501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47601,"millis":0.047601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24401,"millis":0.024401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":955457220,"millis":955.45722,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":27001,"millis":0.027001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":10589693,"millis":10.589693,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":12607211,"millis":12.607211,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":9704885,"millis":9.704885,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":9655885,"millis":9.655885,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":10536092,"millis":10.536092,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":9432683,"millis":9.432683,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":101501,"millis":0.101501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":5915352,"millis":5.915352,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":6073554,"millis":6.073554,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":12733512,"millis":12.733512,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1271911,"millis":1.271911,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":580906,"millis":0.580906,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:55.466 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":10315691,"millis":10.315691,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":374403,"millis":0.374403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:55.477 [print] #notpresent \n"},{"result":{"nanos":13765221,"millis":13.765221,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":378303,"millis":0.378303,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:55.491 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":112101,"millis":0.112101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":179302,"millis":0.179302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:55.491 [print] #notpresent \n"},{"result":{"nanos":10852695,"millis":10.852695,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":493204,"millis":0.493204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:55.502 [print] Beheer PDOK \n"},{"result":{"nanos":360603,"millis":0.360603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:55.503 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":15132134,"millis":15.132134,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":571005,"millis":0.571005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":413904,"millis":0.413904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1108.355468,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"76854ff3-a853-4405-b9fd-acef66460376","startTime":1639198854409,"refId":"[1.198:67]","endTime":1639198855519,"exampleData":{"datasetIdentifierCode":"76854ff3-a853-4405-b9fd-acef66460376"},"exampleIndex":197},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:54.522 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47701,"millis":0.047701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98101,"millis":0.098101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":404503,"millis":0.404503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":457604,"millis":0.457604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55601,"millis":0.055601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6201,"millis":0.006201,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":934236633,"millis":934.236633,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":43154980,"millis":43.15498,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":26918037,"millis":26.918037,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":9195581,"millis":9.195581,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":8409074,"millis":8.409074,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":8243873,"millis":8.243873,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":8362873,"millis":8.362873,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":156301,"millis":0.156301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":8185472,"millis":8.185472,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":6530758,"millis":6.530758,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":6588358,"millis":6.588358,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1165610,"millis":1.16561,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":558404,"millis":0.558404,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:55.586 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":6542257,"millis":6.542257,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":390704,"millis":0.390704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:55.593 [print] #notpresent \n"},{"result":{"nanos":6607058,"millis":6.607058,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":465604,"millis":0.465604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:55.600 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":101601,"millis":0.101601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":312103,"millis":0.312103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:55.600 [print] #notpresent \n"},{"result":{"nanos":8901279,"millis":8.901279,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":384003,"millis":0.384003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:55.610 [print] Beheer PDOK \n"},{"result":{"nanos":374004,"millis":0.374004,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:55.610 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":9188081,"millis":9.188081,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":513904,"millis":0.513904,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326003,"millis":0.326003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1097.123367,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"37e05521-c323-4dbe-aba4-de1178ba44a5","startTime":1639198854522,"refId":"[1.199:67]","endTime":1639198855620,"exampleData":{"datasetIdentifierCode":"37e05521-c323-4dbe-aba4-de1178ba44a5"},"exampleIndex":198},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:55.203 karate.env system property was: null \n"},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58601,"millis":0.058601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":332402,"millis":0.332402,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":597105,"millis":0.597105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37001,"millis":0.037001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72100,"millis":0.0721,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13901,"millis":0.013901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63401,"millis":0.063401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":945607133,"millis":945.607133,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":4194437,"millis":4.194437,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":5533048,"millis":5.533048,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":5856951,"millis":5.856951,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":5926953,"millis":5.926953,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":6291955,"millis":6.291955,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":6199355,"millis":6.199355,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":109901,"millis":0.109901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3736933,"millis":3.736933,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":4576341,"millis":4.576341,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":7437065,"millis":7.437065,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1066710,"millis":1.06671,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":189002,"millis":0.189002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:56.202 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":3939634,"millis":3.939634,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":193201,"millis":0.193201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:56.206 [print] #notpresent \n"},{"result":{"nanos":3771134,"millis":3.771134,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":204801,"millis":0.204801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:56.210 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":98900,"millis":0.0989,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":163001,"millis":0.163001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:56.210 [print] #notpresent \n"},{"result":{"nanos":6295056,"millis":6.295056,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":257902,"millis":0.257902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:56.217 [print] Beheer PDOK \n"},{"result":{"nanos":205102,"millis":0.205102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:56.217 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":6074453,"millis":6.074453,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":664105,"millis":0.664105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":321702,"millis":0.321702,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1020.271486,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"8e7686c3-f75e-411f-866e-6985267b916b","startTime":1639198855203,"refId":"[1.200:67]","endTime":1639198856224,"exampleData":{"datasetIdentifierCode":"8e7686c3-f75e-411f-866e-6985267b916b"},"exampleIndex":199},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:55.227 karate.env system property was: null \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51101,"millis":0.051101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356503,"millis":0.356503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":378803,"millis":0.378803,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74000,"millis":0.074,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14301,"millis":0.014301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":351203,"millis":0.351203,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860073880,"millis":860.07388,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1342912,"millis":1.342912,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":1058710,"millis":1.05871,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":904008,"millis":0.904008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":806507,"millis":0.806507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1077110,"millis":1.07711,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":906508,"millis":0.906508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89801,"millis":0.089801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":19079968,"millis":19.079968,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1346712,"millis":1.346712,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":735607,"millis":0.735607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":163001,"millis":0.163001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":213202,"millis":0.213202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:56.117 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1012809,"millis":1.012809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":361204,"millis":0.361204,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:56.118 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1277411,"millis":1.277411,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":228902,"millis":0.228902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:56.120 [print] #notpresent \n"},{"result":{"nanos":101201,"millis":0.101201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":218002,"millis":0.218002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:56.120 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2021417,"millis":2.021417,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":523404,"millis":0.523404,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:56.123 [print] Beheer PDOK \n"},{"result":{"nanos":807007,"millis":0.807007,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:56.124 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":1033109,"millis":1.033109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":641605,"millis":0.641605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330303,"millis":0.330303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":897.806212,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a84f9836-9111-4e45-a311-3dab39019e15","startTime":1639198855227,"refId":"[1.201:67]","endTime":1639198856126,"exampleData":{"datasetIdentifierCode":"a84f9836-9111-4e45-a311-3dab39019e15"},"exampleIndex":200},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:55.522 karate.env system property was: null \n"},{"result":{"nanos":45901,"millis":0.045901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131101,"millis":0.131101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":153501,"millis":0.153501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":431403,"millis":0.431403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":227802,"millis":0.227802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":543604,"millis":0.543604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":321003,"millis":0.321003,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":38801,"millis":0.038801,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845501351,"millis":845.501351,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1358512,"millis":1.358512,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":1039909,"millis":1.039909,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":869608,"millis":0.869608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":881408,"millis":0.881408,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1503013,"millis":1.503013,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1178610,"millis":1.17861,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":730807,"millis":0.730807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1137010,"millis":1.13701,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":989909,"millis":0.989909,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":260402,"millis":0.260402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":859908,"millis":0.859908,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:56.381 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1096410,"millis":1.09641,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":664106,"millis":0.664106,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:56.383 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":917308,"millis":0.917308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":677306,"millis":0.677306,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:56.385 [print] #notpresent \n"},{"result":{"nanos":116001,"millis":0.116001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":531505,"millis":0.531505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:56.385 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1274911,"millis":1.274911,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":636906,"millis":0.636906,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:56.387 [print] Beheer PDOK \n"},{"result":{"nanos":844908,"millis":0.844908,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:56.388 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":928908,"millis":0.928908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":516305,"millis":0.516305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":356803,"millis":0.356803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.216442,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","startTime":1639198855521,"refId":"[1.202:67]","endTime":1639198856390,"exampleData":{"datasetIdentifierCode":"018a28a5-1019-4747-b031-f66ffc1c6ae7"},"exampleIndex":201},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56501,"millis":0.056501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:55.623 karate.env system property was: null \n"},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129201,"millis":0.129201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":122701,"millis":0.122701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":422903,"millis":0.422903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":121601,"millis":0.121601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":545505,"millis":0.545505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":192902,"millis":0.192902,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":327202,"millis":0.327202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":55201,"millis":0.055201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22501,"millis":0.022501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":907897501,"millis":907.897501,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":4451239,"millis":4.451239,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":5313447,"millis":5.313447,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":5704350,"millis":5.70435,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":5316047,"millis":5.316047,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":5630249,"millis":5.630249,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":5281047,"millis":5.281047,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":122001,"millis":0.122001,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":25903928,"millis":25.903928,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":4398138,"millis":4.398138,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4321038,"millis":4.321038,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":2902325,"millis":2.902325,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":825908,"millis":0.825908,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:56.604 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":4369438,"millis":4.369438,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":313102,"millis":0.313102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:56.609 [print] #notpresent \n"},{"result":{"nanos":3956035,"millis":3.956035,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":308603,"millis":0.308603,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:56.613 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":101901,"millis":0.101901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":252102,"millis":0.252102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:56.613 [print] #notpresent \n"},{"result":{"nanos":6248655,"millis":6.248655,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":282302,"millis":0.282302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:56.620 [print] Beheer PDOK \n"},{"result":{"nanos":227502,"millis":0.227502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:56.620 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":5737651,"millis":5.737651,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":625106,"millis":0.625106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":371203,"millis":0.371203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1003.061336,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","startTime":1639198855622,"refId":"[1.203:67]","endTime":1639198856627,"exampleData":{"datasetIdentifierCode":"e69bb2e9-eff4-4fb3-86a6-057cf628e761"},"exampleIndex":202},{"sectionIndex":0,"stepResults":[{"result":{"nanos":80101,"millis":0.080101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:56.128 karate.env system property was: null \n"},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129101,"millis":0.129101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":124101,"millis":0.124101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":400003,"millis":0.400003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120101,"millis":0.120101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435504,"millis":0.435504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":85101,"millis":0.085101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":155001,"millis":0.155001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23301,"millis":0.023301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849887390,"millis":849.88739,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1134810,"millis":1.13481,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":978509,"millis":0.978509,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":804507,"millis":0.804507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":686506,"millis":0.686506,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":978609,"millis":0.978609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":898908,"millis":0.898908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":90301,"millis":0.090301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":860008,"millis":0.860008,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":898508,"millis":0.898508,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":717607,"millis":0.717607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":164401,"millis":0.164401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1070310,"millis":1.07031,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:56.990 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":2030918,"millis":2.030918,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":341403,"millis":0.341403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:56.993 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":669806,"millis":0.669806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135801,"millis":0.135801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:56.994 [print] #notpresent \n"},{"result":{"nanos":406503,"millis":0.406503,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":167902,"millis":0.167902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:56.995 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1156110,"millis":1.15611,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":171902,"millis":0.171902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:56.996 [print] Beheer PDOK \n"},{"result":{"nanos":428104,"millis":0.428104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:56.996 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":1273511,"millis":1.273511,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":659006,"millis":0.659006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":400703,"millis":0.400703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.830758,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","startTime":1639198856128,"refId":"[1.204:67]","endTime":1639198856999,"exampleData":{"datasetIdentifierCode":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184"},"exampleIndex":203},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:56.227 karate.env system property was: null \n"},{"result":{"nanos":44201,"millis":0.044201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":151701,"millis":0.151701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":121001,"millis":0.121001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":451404,"millis":0.451404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":134702,"millis":0.134702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424103,"millis":0.424103,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82501,"millis":0.082501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":270403,"millis":0.270403,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36501,"millis":0.036501,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23001,"millis":0.023001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848552678,"millis":848.552678,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1114010,"millis":1.11401,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'"}},{"result":{"nanos":770307,"millis":0.770307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":809307,"millis":0.809307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":742207,"millis":0.742207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1072910,"millis":1.07291,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":895908,"millis":0.895908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":725107,"millis":0.725107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":630405,"millis":0.630405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":732407,"millis":0.732407,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":162301,"millis":0.162301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":188402,"millis":0.188402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:57.086 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1272011,"millis":1.272011,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":183402,"millis":0.183402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:57.088 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":716906,"millis":0.716906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112501,"millis":0.112501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:57.089 [print] #notpresent \n"},{"result":{"nanos":410804,"millis":0.410804,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":950708,"millis":0.950708,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:57.090 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1214210,"millis":1.21421,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":256103,"millis":0.256103,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:57.092 [print] Beheer PDOK \n"},{"result":{"nanos":474204,"millis":0.474204,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:57.092 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n"},{"result":{"nanos":1802116,"millis":1.802116,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":828807,"millis":0.828807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354004,"millis":0.354004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.940643,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","startTime":1639198856226,"refId":"[1.205:67]","endTime":1639198857095,"exampleData":{"datasetIdentifierCode":"ce4ac3b9-8291-498d-95de-79fe7b6f5259"},"exampleIndex":204},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58701,"millis":0.058701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:56.393 karate.env system property was: null \n"},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":132801,"millis":0.132801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":139601,"millis":0.139601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":416304,"millis":0.416304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120301,"millis":0.120301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":605405,"millis":0.605405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":138201,"millis":0.138201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":537905,"millis":0.537905,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39001,"millis":0.039001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23701,"millis":0.023701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851924908,"millis":851.924908,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1466913,"millis":1.466913,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'"}},{"result":{"nanos":1486513,"millis":1.486513,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1132410,"millis":1.13241,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1109910,"millis":1.10991,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1258311,"millis":1.258311,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1128010,"millis":1.12801,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1726916,"millis":1.726916,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":834207,"millis":0.834207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":988609,"millis":0.988609,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":210802,"millis":0.210802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161701,"millis":0.161701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:57.260 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":964809,"millis":0.964809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":139101,"millis":0.139101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:57.261 [print] #notpresent \n"},{"result":{"nanos":852507,"millis":0.852507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85501,"millis":0.085501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:57.262 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":93001,"millis":0.093001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":140201,"millis":0.140201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:57.262 [print] #notpresent \n"},{"result":{"nanos":1105610,"millis":1.10561,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":135701,"millis":0.135701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:57.263 [print] Beheer PDOK \n"},{"result":{"nanos":161402,"millis":0.161402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:57.263 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n"},{"result":{"nanos":1075309,"millis":1.075309,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":452904,"millis":0.452904,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301502,"millis":0.301502,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.382079,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","startTime":1639198856392,"refId":"[1.206:67]","endTime":1639198857265,"exampleData":{"datasetIdentifierCode":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79"},"exampleIndex":205},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:56.630 karate.env system property was: null \n"},{"result":{"nanos":42601,"millis":0.042601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":151201,"millis":0.151201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":155301,"millis":0.155301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":439004,"millis":0.439004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116501,"millis":0.116501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486304,"millis":0.486304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":322503,"millis":0.322503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39101,"millis":0.039101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847168666,"millis":847.168666,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1098410,"millis":1.09841,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":852408,"millis":0.852408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":733206,"millis":0.733206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":831408,"millis":0.831408,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":913408,"millis":0.913408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":773507,"millis":0.773507,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":622406,"millis":0.622406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":628705,"millis":0.628705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":821807,"millis":0.821807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":139301,"millis":0.139301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":191902,"millis":0.191902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:57.487 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":756607,"millis":0.756607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":166701,"millis":0.166701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:57.488 [print] OGC:WMS \n"},{"result":{"nanos":819008,"millis":0.819008,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":183401,"millis":0.183401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:57.489 [print] #notpresent \n"},{"result":{"nanos":103301,"millis":0.103301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":219302,"millis":0.219302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:57.490 [print] OGC:WMS \n"},{"result":{"nanos":822808,"millis":0.822808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":155202,"millis":0.155202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:57.491 [print] Beheer PDOK \n"},{"result":{"nanos":174602,"millis":0.174602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:57.491 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":782507,"millis":0.782507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":453704,"millis":0.453704,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":383303,"millis":0.383303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.895497,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d981070b-888c-42d5-85ff-1e383f3d7fce","startTime":1639198856629,"refId":"[1.207:67]","endTime":1639198857493,"exampleData":{"datasetIdentifierCode":"d981070b-888c-42d5-85ff-1e383f3d7fce"},"exampleIndex":206},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:57.001 karate.env system property was: null \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153502,"millis":0.153502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":111901,"millis":0.111901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":314803,"millis":0.314803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":159301,"millis":0.159301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":601006,"millis":0.601006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":1552713,"millis":1.552713,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98000,"millis":0.098,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":392004,"millis":0.392004,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32401,"millis":0.032401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851915908,"millis":851.915908,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1154910,"millis":1.15491,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":811407,"millis":0.811407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":826707,"millis":0.826707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":682006,"millis":0.682006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":854008,"millis":0.854008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":763007,"millis":0.763007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":605606,"millis":0.605606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":746806,"millis":0.746806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":706307,"millis":0.706307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":162001,"millis":0.162001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":195202,"millis":0.195202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:57.865 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n"},{"result":{"nanos":752407,"millis":0.752407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":211802,"millis":0.211802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:57.866 [print] OGC:WMS \n"},{"result":{"nanos":1289711,"millis":1.289711,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98701,"millis":0.098701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:57.867 [print] #notpresent \n"},{"result":{"nanos":469504,"millis":0.469504,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135901,"millis":0.135901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:57.868 [print] OGC:WMS \n"},{"result":{"nanos":1074610,"millis":1.07461,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144701,"millis":0.144701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:57.869 [print] Beheer PDOK \n"},{"result":{"nanos":492804,"millis":0.492804,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:57.870 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":1416412,"millis":1.416412,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":547905,"millis":0.547905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":499604,"millis":0.499604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.154668,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","startTime":1639198857000,"refId":"[1.208:67]","endTime":1639198857872,"exampleData":{"datasetIdentifierCode":"684ff4f6-1652-45a8-93f0-8e16d37b2a66"},"exampleIndex":207},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:57.098 karate.env system property was: null \n"},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125801,"millis":0.125801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114501,"millis":0.114501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":377203,"millis":0.377203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":160702,"millis":0.160702,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":483704,"millis":0.483704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":77201,"millis":0.077201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44601,"millis":0.044601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849085682,"millis":849.085682,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1048609,"millis":1.048609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":756007,"millis":0.756007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":846307,"millis":0.846307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":999809,"millis":0.999809,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":928708,"millis":0.928708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1149011,"millis":1.149011,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":744707,"millis":0.744707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":741106,"millis":0.741106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":736406,"millis":0.736406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":225302,"millis":0.225302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":191302,"millis":0.191302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:57.958 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n"},{"result":{"nanos":1455113,"millis":1.455113,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":162901,"millis":0.162901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:57.960 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":966008,"millis":0.966008,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91101,"millis":0.091101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:57.961 [print] #notpresent \n"},{"result":{"nanos":384003,"millis":0.384003,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":165401,"millis":0.165401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:57.962 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1079110,"millis":1.07911,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":184801,"millis":0.184801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:57.963 [print] Beheer PDOK \n"},{"result":{"nanos":442004,"millis":0.442004,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:57.963 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n"},{"result":{"nanos":1521714,"millis":1.521714,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":610705,"millis":0.610705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":474205,"millis":0.474205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.663237,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","startTime":1639198857097,"refId":"[1.209:67]","endTime":1639198857966,"exampleData":{"datasetIdentifierCode":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf"},"exampleIndex":208},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56001,"millis":0.056001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:57.268 karate.env system property was: null \n"},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":200402,"millis":0.200402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":143401,"millis":0.143401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340103,"millis":0.340103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":129801,"millis":0.129801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432403,"millis":0.432403,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42801,"millis":0.042801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26901,"millis":0.026901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853332520,"millis":853.33252,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1315112,"millis":1.315112,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":987909,"millis":0.987909,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1013009,"millis":1.013009,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":821307,"millis":0.821307,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1037209,"millis":1.037209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":840107,"millis":0.840107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":789907,"millis":0.789907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":726607,"millis":0.726607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":889108,"millis":0.889108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":252702,"millis":0.252702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":146402,"millis":0.146402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:58.133 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1049009,"millis":1.049009,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":197402,"millis":0.197402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:58.134 [print] OGC:WFS \n"},{"result":{"nanos":820407,"millis":0.820407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":149902,"millis":0.149902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:58.135 [print] #notpresent \n"},{"result":{"nanos":117601,"millis":0.117601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":350403,"millis":0.350403,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:58.136 [print] OGC:WFS \n"},{"result":{"nanos":898108,"millis":0.898108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":143802,"millis":0.143802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:58.137 [print] Beheer PDOK \n"},{"result":{"nanos":367203,"millis":0.367203,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:58.137 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":1037809,"millis":1.037809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":623006,"millis":0.623006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":353003,"millis":0.353003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.882168,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"180b6682-5d6f-429d-abb7-32f7d6253787","startTime":1639198857268,"refId":"[1.210:67]","endTime":1639198858139,"exampleData":{"datasetIdentifierCode":"180b6682-5d6f-429d-abb7-32f7d6253787"},"exampleIndex":209},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51701,"millis":0.051701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:57.495 karate.env system property was: null \n"},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122401,"millis":0.122401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":146801,"millis":0.146801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":333003,"millis":0.333003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119001,"millis":0.119001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415604,"millis":0.415604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":99101,"millis":0.099101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867667346,"millis":867.667346,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":966008,"millis":0.966008,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4805aac3-9a8d-4fcd-851b-88c7b3d342e2'"}},{"result":{"nanos":631006,"millis":0.631006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":611105,"millis":0.611105,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":572105,"millis":0.572105,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":671905,"millis":0.671905,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":698906,"millis":0.698906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":578005,"millis":0.578005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":711407,"millis":0.711407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":873408,"millis":0.873408,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110601,"millis":0.110601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":99701,"millis":0.099701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:58.372 [print] https:\/\/service.pdok.nl\/kadaster\/sr\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":689306,"millis":0.689306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":115201,"millis":0.115201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:58.372 [print] OGC:WMS \n"},{"result":{"nanos":696706,"millis":0.696706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":104600,"millis":0.1046,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:58.373 [print] #notpresent \n"},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":132502,"millis":0.132502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:58.373 [print] OGC:WMS \n"},{"result":{"nanos":699706,"millis":0.699706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":114501,"millis":0.114501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:58.374 [print] Beheer PDOK \n"},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:58.374 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification\"] \n"},{"result":{"nanos":7676068,"millis":7.676068,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":806607,"millis":0.806607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":392304,"millis":0.392304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4805aac3-9a8d-4fcd-851b-88c7b3d342e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.253717,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2","startTime":1639198857495,"refId":"[1.211:67]","endTime":1639198858383,"exampleData":{"datasetIdentifierCode":"4805aac3-9a8d-4fcd-851b-88c7b3d342e2"},"exampleIndex":210},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:57.875 karate.env system property was: null \n"},{"result":{"nanos":36601,"millis":0.036601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":128101,"millis":0.128101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":174502,"millis":0.174502,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":350603,"millis":0.350603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":162601,"millis":0.162601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":459004,"millis":0.459004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":296903,"millis":0.296903,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854852311,"millis":854.852311,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1191912,"millis":1.191912,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":869808,"millis":0.869808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1086610,"millis":1.08661,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":856809,"millis":0.856809,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":942409,"millis":0.942409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":776408,"millis":0.776408,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":627006,"millis":0.627006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":700507,"millis":0.700507,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":774008,"millis":0.774008,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":186202,"millis":0.186202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":207702,"millis":0.207702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:58.741 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1008710,"millis":1.00871,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":188602,"millis":0.188602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:58.742 [print] #notpresent \n"},{"result":{"nanos":876509,"millis":0.876509,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105501,"millis":0.105501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:58.744 [print] #notpresent \n"},{"result":{"nanos":205402,"millis":0.205402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136902,"millis":0.136902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:58.744 [print] #notpresent \n"},{"result":{"nanos":1101511,"millis":1.101511,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":170501,"millis":0.170501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:58.745 [print] KNMI \n"},{"result":{"nanos":241002,"millis":0.241002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:58.745 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":884209,"millis":0.884209,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":492105,"millis":0.492105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":325703,"millis":0.325703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.830666,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","startTime":1639198857874,"refId":"[1.212:67]","endTime":1639198858747,"exampleData":{"datasetIdentifierCode":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e"},"exampleIndex":211},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:57.969 karate.env system property was: null \n"},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":123601,"millis":0.123601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114801,"millis":0.114801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":404604,"millis":0.404604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142601,"millis":0.142601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":449604,"millis":0.449604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86201,"millis":0.086201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22401,"millis":0.022401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":874832401,"millis":874.832401,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1485915,"millis":1.485915,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":896609,"millis":0.896609,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":779808,"millis":0.779808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":763007,"millis":0.763007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1024010,"millis":1.02401,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":837708,"millis":0.837708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":698107,"millis":0.698107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":746008,"millis":0.746008,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":819108,"millis":0.819108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":258803,"millis":0.258803,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":100301,"millis":0.100301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:58.855 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":1757617,"millis":1.757617,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":168402,"millis":0.168402,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:58.857 [print] OGC:WFS \n"},{"result":{"nanos":1275913,"millis":1.275913,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113401,"millis":0.113401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:58.858 [print] #notpresent \n"},{"result":{"nanos":503905,"millis":0.503905,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":179802,"millis":0.179802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:58.859 [print] OGC:WFS \n"},{"result":{"nanos":1204812,"millis":1.204812,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":152601,"millis":0.152601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:58.860 [print] Beheer PDOK \n"},{"result":{"nanos":403404,"millis":0.403404,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:58.861 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":818108,"millis":0.818108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":582405,"millis":0.582405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":391003,"millis":0.391003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.447872,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","startTime":1639198857968,"refId":"[1.213:67]","endTime":1639198858862,"exampleData":{"datasetIdentifierCode":"63f622ef-46b3-411a-a2aa-045cabf1e3ac"},"exampleIndex":212},{"sectionIndex":0,"stepResults":[{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:58.142 karate.env system property was: null \n"},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":158701,"millis":0.158701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":146601,"millis":0.146601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":346003,"millis":0.346003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":157202,"millis":0.157202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":493304,"millis":0.493304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46801,"millis":0.046801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91100,"millis":0.0911,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75401,"millis":0.075401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858633415,"millis":858.633415,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":976910,"millis":0.97691,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'"}},{"result":{"nanos":684007,"millis":0.684007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":677607,"millis":0.677607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":735107,"millis":0.735107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":912509,"millis":0.912509,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":674407,"millis":0.674407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":596206,"millis":0.596206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":594606,"millis":0.594606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":778908,"millis":0.778908,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":162802,"millis":0.162802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":107501,"millis":0.107501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:59.010 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1361613,"millis":1.361613,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":160702,"millis":0.160702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:59.012 [print] OGC:WFS \n"},{"result":{"nanos":816008,"millis":0.816008,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86501,"millis":0.086501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:59.012 [print] #notpresent \n"},{"result":{"nanos":186602,"millis":0.186602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":224602,"millis":0.224602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:59.013 [print] OGC:WFS \n"},{"result":{"nanos":939309,"millis":0.939309,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":128301,"millis":0.128301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:59.014 [print] Beheer PDOK \n"},{"result":{"nanos":206202,"millis":0.206202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:59.014 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":858809,"millis":0.858809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":561505,"millis":0.561505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423004,"millis":0.423004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.241057,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"feabca04-e3fd-4802-96f2-583d328e30ad","startTime":1639198858141,"refId":"[1.214:67]","endTime":1639198859016,"exampleData":{"datasetIdentifierCode":"feabca04-e3fd-4802-96f2-583d328e30ad"},"exampleIndex":213},{"sectionIndex":0,"stepResults":[{"result":{"nanos":88701,"millis":0.088701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:58.386 karate.env system property was: null \n"},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":154801,"millis":0.154801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":145701,"millis":0.145701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":359803,"millis":0.359803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":154601,"millis":0.154601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":476404,"millis":0.476404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34001,"millis":0.034001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86900,"millis":0.0869,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":37701,"millis":0.037701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847129548,"millis":847.129548,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":968509,"millis":0.968509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":682907,"millis":0.682907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":712207,"millis":0.712207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":633106,"millis":0.633106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":926209,"millis":0.926209,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":659906,"millis":0.659906,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29801,"millis":0.029801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":652506,"millis":0.652506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":582306,"millis":0.582306,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":824708,"millis":0.824708,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":720107,"millis":0.720107,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":751707,"millis":0.751707,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:59.244 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":695207,"millis":0.695207,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":458805,"millis":0.458805,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:59.245 [print] OGC:WFS \n"},{"result":{"nanos":574206,"millis":0.574206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":422604,"millis":0.422604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:59.247 [print] #notpresent \n"},{"result":{"nanos":138201,"millis":0.138201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":418504,"millis":0.418504,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:59.247 [print] OGC:WFS \n"},{"result":{"nanos":741507,"millis":0.741507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":451804,"millis":0.451804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:59.248 [print] Beheer PDOK \n"},{"result":{"nanos":663107,"millis":0.663107,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:59.249 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":712007,"millis":0.712007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":490405,"millis":0.490405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":373804,"millis":0.373804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.104301,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"027e3f15-3b58-4570-97bb-779ce3ca947e","startTime":1639198858385,"refId":"[1.215:67]","endTime":1639198859251,"exampleData":{"datasetIdentifierCode":"027e3f15-3b58-4570-97bb-779ce3ca947e"},"exampleIndex":214},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52901,"millis":0.052901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:58.750 karate.env system property was: null \n"},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":186702,"millis":0.186702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":134402,"millis":0.134402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":666906,"millis":0.666906,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":150602,"millis":0.150602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":458705,"millis":0.458705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75301,"millis":0.075301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47401,"millis":0.047401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":191302,"millis":0.191302,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30901,"millis":0.030901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859427836,"millis":859.427836,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1120111,"millis":1.120111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":869608,"millis":0.869608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":870208,"millis":0.870208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":705907,"millis":0.705907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1013510,"millis":1.01351,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":734908,"millis":0.734908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":795108,"millis":0.795108,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":647606,"millis":0.647606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":757507,"millis":0.757507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":488105,"millis":0.488105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":290503,"millis":0.290503,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:59.620 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":764908,"millis":0.764908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":301703,"millis":0.301703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:59.621 [print] #notpresent \n"},{"result":{"nanos":662506,"millis":0.662506,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":210302,"millis":0.210302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:59.622 [print] #notpresent \n"},{"result":{"nanos":102801,"millis":0.102801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":287003,"millis":0.287003,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:59.623 [print] #notpresent \n"},{"result":{"nanos":723807,"millis":0.723807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":294903,"millis":0.294903,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:59.624 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":235102,"millis":0.235102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:59.624 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":854708,"millis":0.854708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":466305,"millis":0.466305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":390704,"millis":0.390704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.160792,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","startTime":1639198858749,"refId":"[1.216:67]","endTime":1639198859626,"exampleData":{"datasetIdentifierCode":"b81f9ce3-f612-4761-ba37-4c8afda9033a"},"exampleIndex":215},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56001,"millis":0.056001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:58.865 karate.env system property was: null \n"},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":141701,"millis":0.141701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":123801,"millis":0.123801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":341104,"millis":0.341104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126701,"millis":0.126701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":553406,"millis":0.553406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":117601,"millis":0.117601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":69301,"millis":0.069301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6401,"millis":0.006401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":949881524,"millis":949.881524,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1178012,"millis":1.178012,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":834808,"millis":0.834808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":670107,"millis":0.670107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":847508,"millis":0.847508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":904108,"millis":0.904108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":844908,"millis":0.844908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":68401,"millis":0.068401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":613006,"millis":0.613006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":648807,"millis":0.648807,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":695507,"millis":0.695507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":170401,"millis":0.170401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131302,"millis":0.131302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:59.825 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":1256212,"millis":1.256212,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":154702,"millis":0.154702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:59.826 [print] #notpresent \n"},{"result":{"nanos":1141911,"millis":1.141911,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93801,"millis":0.093801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:59.828 [print] OGC:WFS \n"},{"result":{"nanos":381404,"millis":0.381404,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":118401,"millis":0.118401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:59.828 [print] #notpresent \n"},{"result":{"nanos":1010010,"millis":1.01001,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":133002,"millis":0.133002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:59.829 [print] RIVM \n"},{"result":{"nanos":714907,"millis":0.714907,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:59.830 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":1067410,"millis":1.06741,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":569605,"millis":0.569605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":515805,"millis":0.515805,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":966.351986,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","startTime":1639198858865,"refId":"[1.217:67]","endTime":1639198859832,"exampleData":{"datasetIdentifierCode":"ff8f6da2-949e-4838-90f6-fd895a4a240f"},"exampleIndex":216},{"sectionIndex":0,"stepResults":[{"result":{"nanos":5524255,"millis":5.524255,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:59.019 karate.env system property was: null \n"},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":149402,"millis":0.149402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119701,"millis":0.119701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":378904,"millis":0.378904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120401,"millis":0.120401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470505,"millis":0.470505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":90001,"millis":0.090001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49501,"millis":0.049501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":109701,"millis":0.109701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28901,"millis":0.028901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856892712,"millis":856.892712,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":939910,"millis":0.93991,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":745807,"millis":0.745807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":659507,"millis":0.659507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":597906,"millis":0.597906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":998210,"millis":0.99821,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":667806,"millis":0.667806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26501,"millis":0.026501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":570405,"millis":0.570405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":502705,"millis":0.502705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":636907,"millis":0.636907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":150001,"millis":0.150001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":87401,"millis":0.087401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:00:59.890 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":788608,"millis":0.788608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":166102,"millis":0.166102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:00:59.891 [print] OGC:WMS \n"},{"result":{"nanos":815808,"millis":0.815808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69301,"millis":0.069301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:00:59.892 [print] #notpresent \n"},{"result":{"nanos":152001,"millis":0.152001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":168102,"millis":0.168102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:00:59.892 [print] OGC:WMS \n"},{"result":{"nanos":734407,"millis":0.734407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150001,"millis":0.150001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:00:59.893 [print] Beheer PDOK \n"},{"result":{"nanos":129902,"millis":0.129902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:00:59.893 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":784307,"millis":0.784307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":531705,"millis":0.531705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1737817,"millis":1.737817,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":876.875711,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","startTime":1639198859018,"refId":"[1.218:67]","endTime":1639198859897,"exampleData":{"datasetIdentifierCode":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa"},"exampleIndex":217},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:59.253 karate.env system property was: null \n"},{"result":{"nanos":30401,"millis":0.030401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":322703,"millis":0.322703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39401,"millis":0.039401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427204,"millis":0.427204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54401,"millis":0.054401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":474105,"millis":0.474105,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76201,"millis":0.076201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21901,"millis":0.021901,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848492629,"millis":848.492629,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1265312,"millis":1.265312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":1830918,"millis":1.830918,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":850108,"millis":0.850108,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":718507,"millis":0.718507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":856809,"millis":0.856809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":670206,"millis":0.670206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":772307,"millis":0.772307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":606706,"millis":0.606706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":613706,"millis":0.613706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":167302,"millis":0.167302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":98201,"millis":0.098201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:00.113 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":716407,"millis":0.716407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":205102,"millis":0.205102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:00.113 [print] OGC:WMS \n"},{"result":{"nanos":748808,"millis":0.748808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86001,"millis":0.086001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:00.114 [print] #notpresent \n"},{"result":{"nanos":204802,"millis":0.204802,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":194602,"millis":0.194602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:00.115 [print] OGC:WMS \n"},{"result":{"nanos":900109,"millis":0.900109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":176602,"millis":0.176602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:00.116 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":135601,"millis":0.135601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:00.116 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":752308,"millis":0.752308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":491805,"millis":0.491805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":332203,"millis":0.332203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.577278,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","startTime":1639198859253,"refId":"[1.219:67]","endTime":1639198860118,"exampleData":{"datasetIdentifierCode":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f"},"exampleIndex":218},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:59.629 karate.env system property was: null \n"},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":216102,"millis":0.216102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":152902,"millis":0.152902,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":430304,"millis":0.430304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":171802,"millis":0.171802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":537205,"millis":0.537205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41901,"millis":0.041901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":189702,"millis":0.189702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22501,"millis":0.022501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846315408,"millis":846.315408,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1372514,"millis":1.372514,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":889009,"millis":0.889009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":929809,"millis":0.929809,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":869208,"millis":0.869208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":931609,"millis":0.931609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1026710,"millis":1.02671,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30101,"millis":0.030101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":666506,"millis":0.666506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":8882787,"millis":8.882787,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":739507,"millis":0.739507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":218502,"millis":0.218502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113601,"millis":0.113601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:00.495 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":701106,"millis":0.701106,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":126702,"millis":0.126702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:00.496 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":689307,"millis":0.689307,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87101,"millis":0.087101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:00.497 [print] #notpresent \n"},{"result":{"nanos":107201,"millis":0.107201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":193802,"millis":0.193802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:00.497 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":790608,"millis":0.790608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":125601,"millis":0.125601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:00.498 [print] Beheer PDOK \n"},{"result":{"nanos":212202,"millis":0.212202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:00.498 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":753107,"millis":0.753107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":425104,"millis":0.425104,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":451205,"millis":0.451205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.628837,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d467c2cc-4026-b80a-d4e1a9d2bf79","startTime":1639198859629,"refId":"[1.220:67]","endTime":1639198860500,"exampleData":{"datasetIdentifierCode":"d467c2cc-4026-b80a-d4e1a9d2bf79"},"exampleIndex":219},{"sectionIndex":0,"stepResults":[{"result":{"nanos":104101,"millis":0.104101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:59.835 karate.env system property was: null \n"},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122901,"millis":0.122901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":162701,"millis":0.162701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":336204,"millis":0.336204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":115101,"millis":0.115101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470804,"millis":0.470804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19001,"millis":0.019001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68601,"millis":0.068601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846447309,"millis":846.447309,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1276313,"millis":1.276313,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":707307,"millis":0.707307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":698607,"millis":0.698607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":722707,"millis":0.722707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":969710,"millis":0.96971,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":699207,"millis":0.699207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":630006,"millis":0.630006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":595706,"millis":0.595706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":537205,"millis":0.537205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":191402,"millis":0.191402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":224803,"millis":0.224803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:00.691 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":1504114,"millis":1.504114,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":198801,"millis":0.198801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:00.693 [print] #notpresent \n"},{"result":{"nanos":1050410,"millis":1.05041,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89501,"millis":0.089501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:00.694 [print] #notpresent \n"},{"result":{"nanos":424004,"millis":0.424004,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145002,"millis":0.145002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:00.694 [print] #notpresent \n"},{"result":{"nanos":1042610,"millis":1.04261,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144202,"millis":0.144202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:00.695 [print] KNMI \n"},{"result":{"nanos":800108,"millis":0.800108,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:00.696 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":738707,"millis":0.738707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":561406,"millis":0.561406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":329903,"millis":0.329903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.406765,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","startTime":1639198859834,"refId":"[1.221:67]","endTime":1639198860698,"exampleData":{"datasetIdentifierCode":"1e01d173-96f4-40b1-8236-c6a9cfdac252"},"exampleIndex":220},{"sectionIndex":0,"stepResults":[{"result":{"nanos":111801,"millis":0.111801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:00:59.900 karate.env system property was: null \n"},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153401,"millis":0.153401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116901,"millis":0.116901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":342904,"millis":0.342904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":133601,"millis":0.133601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":413604,"millis":0.413604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53801,"millis":0.053801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":76701,"millis":0.076701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":362904,"millis":0.362904,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38401,"millis":0.038401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843733383,"millis":843.733383,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":968110,"millis":0.96811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":796808,"millis":0.796808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":698107,"millis":0.698107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":748207,"millis":0.748207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":837808,"millis":0.837808,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":700406,"millis":0.700406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":574006,"millis":0.574006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":548205,"millis":0.548205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":548706,"millis":0.548706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":146301,"millis":0.146301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134302,"millis":0.134302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:00.753 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":842308,"millis":0.842308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":128501,"millis":0.128501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:00.754 [print] INSPIRE Atom \n"},{"result":{"nanos":618907,"millis":0.618907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80900,"millis":0.0809,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:00.754 [print] #notpresent \n"},{"result":{"nanos":112901,"millis":0.112901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":199702,"millis":0.199702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:00.755 [print] INSPIRE Atom \n"},{"result":{"nanos":655106,"millis":0.655106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":139102,"millis":0.139102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:00.756 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":143001,"millis":0.143001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:00.756 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":798708,"millis":0.798708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":474205,"millis":0.474205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":384204,"millis":0.384204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.965813,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","startTime":1639198859899,"refId":"[1.222:67]","endTime":1639198860757,"exampleData":{"datasetIdentifierCode":"13e4dff0-1e80-11e2-81c1-0800200c9a66"},"exampleIndex":221},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:00.120 karate.env system property was: null \n"},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133701,"millis":0.133701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":169302,"millis":0.169302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":349903,"millis":0.349903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":122201,"millis":0.122201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":580706,"millis":0.580706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55601,"millis":0.055601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18801,"millis":0.018801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24901,"millis":0.024901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856472807,"millis":856.472807,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1042310,"millis":1.04231,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":720507,"millis":0.720507,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":720507,"millis":0.720507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":708607,"millis":0.708607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":868108,"millis":0.868108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":680907,"millis":0.680907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":60601,"millis":0.060601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":656406,"millis":0.656406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":609406,"millis":0.609406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":654506,"millis":0.654506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":160802,"millis":0.160802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127101,"millis":0.127101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:00.986 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":966410,"millis":0.96641,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":164501,"millis":0.164501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:00.987 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":655106,"millis":0.655106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83501,"millis":0.083501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:00.988 [print] #notpresent \n"},{"result":{"nanos":94201,"millis":0.094201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":3010430,"millis":3.01043,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:00.991 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":907009,"millis":0.907009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":470205,"millis":0.470205,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:00.993 [print] Beheer PDOK \n"},{"result":{"nanos":799808,"millis":0.799808,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:00.993 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":791307,"millis":0.791307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":626706,"millis":0.626706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":361304,"millis":0.361304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.09088,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","startTime":1639198860120,"refId":"[1.223:67]","endTime":1639198860995,"exampleData":{"datasetIdentifierCode":"67bcc21d-beda-449d-975c-00a4fa80f2b7"},"exampleIndex":222},{"sectionIndex":0,"stepResults":[{"result":{"nanos":107501,"millis":0.107501,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:00.507 karate.env system property was: null \n"},{"result":{"nanos":40701,"millis":0.040701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":182801,"millis":0.182801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":117102,"millis":0.117102,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":345503,"millis":0.345503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":146002,"millis":0.146002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":641706,"millis":0.641706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":81401,"millis":0.081401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":190102,"millis":0.190102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":540106,"millis":0.540106,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":36101,"millis":0.036101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858316126,"millis":858.316126,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1126012,"millis":1.126012,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":738407,"millis":0.738407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":671307,"millis":0.671307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":796008,"millis":0.796008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1094410,"millis":1.09441,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":761107,"millis":0.761107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33801,"millis":0.033801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":755307,"millis":0.755307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":609906,"millis":0.609906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":703907,"millis":0.703907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83501,"millis":0.083501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":93701,"millis":0.093701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:01.376 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1391214,"millis":1.391214,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75001,"millis":0.075001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:01.377 [print] OGC:WFS \n"},{"result":{"nanos":945009,"millis":0.945009,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":124201,"millis":0.124201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:01.379 [print] #notpresent \n"},{"result":{"nanos":37201,"millis":0.037201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":381103,"millis":0.381103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:01.379 [print] OGC:WFS \n"},{"result":{"nanos":970709,"millis":0.970709,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104501,"millis":0.104501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:01.380 [print] Beheer PDOK \n"},{"result":{"nanos":67201,"millis":0.067201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:01.380 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":1898719,"millis":1.898719,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":660206,"millis":0.660206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374404,"millis":0.374404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.312495,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","startTime":1639198860502,"refId":"[1.224:67]","endTime":1639198861383,"exampleData":{"datasetIdentifierCode":"03c48a93-1e31-4c69-92c6-9a7efecf67a9"},"exampleIndex":223},{"sectionIndex":0,"stepResults":[{"result":{"nanos":68101,"millis":0.068101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:00.701 karate.env system property was: null \n"},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":120101,"millis":0.120101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108001,"millis":0.108001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":388304,"millis":0.388304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":211202,"millis":0.211202,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2546225,"millis":2.546225,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":207602,"millis":0.207602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":207702,"millis":0.207702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6301,"millis":0.006301,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854845991,"millis":854.845991,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1158611,"millis":1.158611,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":663207,"millis":0.663207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":659006,"millis":0.659006,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":741508,"millis":0.741508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":801608,"millis":0.801608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":695106,"millis":0.695106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":602406,"millis":0.602406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1685717,"millis":1.685717,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":636506,"millis":0.636506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":187602,"millis":0.187602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":93601,"millis":0.093601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:01.569 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":2318223,"millis":2.318223,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":386204,"millis":0.386204,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:01.571 [print] #notpresent \n"},{"result":{"nanos":724207,"millis":0.724207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":213902,"millis":0.213902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:01.572 [print] #notpresent \n"},{"result":{"nanos":140902,"millis":0.140902,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":253802,"millis":0.253802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:01.573 [print] #notpresent \n"},{"result":{"nanos":845209,"millis":0.845209,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":314603,"millis":0.314603,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:01.574 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":314703,"millis":0.314703,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:01.574 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":811808,"millis":0.811808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":541705,"millis":0.541705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":381204,"millis":0.381204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.122382,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","startTime":1639198860700,"refId":"[1.225:67]","endTime":1639198861576,"exampleData":{"datasetIdentifierCode":"24055de7-dcff-487a-8f9a-7aee4f0d8351"},"exampleIndex":224},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50301,"millis":0.050301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:00.760 karate.env system property was: null \n"},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":128001,"millis":0.128001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107701,"millis":0.107701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":331403,"millis":0.331403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":109701,"millis":0.109701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431605,"millis":0.431605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86301,"millis":0.086301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48701,"millis":0.048701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23201,"millis":0.023201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860629749,"millis":860.629749,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1177811,"millis":1.177811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'"}},{"result":{"nanos":885908,"millis":0.885908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":825808,"millis":0.825808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":741107,"millis":0.741107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1116211,"millis":1.116211,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":818608,"millis":0.818608,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29401,"millis":0.029401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":645906,"millis":0.645906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":819308,"millis":0.819308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":733608,"millis":0.733608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":724007,"millis":0.724007,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":671907,"millis":0.671907,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:01.632 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n"},{"result":{"nanos":803108,"millis":0.803108,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":441704,"millis":0.441704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:01.633 [print] OGC:WMTS \n"},{"result":{"nanos":629907,"millis":0.629907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":415304,"millis":0.415304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:01.634 [print] #notpresent \n"},{"result":{"nanos":146501,"millis":0.146501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":466105,"millis":0.466105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:01.635 [print] OGC:WMTS \n"},{"result":{"nanos":759408,"millis":0.759408,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":435304,"millis":0.435304,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:01.636 [print] Beheer PDOK \n"},{"result":{"nanos":848008,"millis":0.848008,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:01.637 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n"},{"result":{"nanos":1726616,"millis":1.726616,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":597706,"millis":0.597706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":393404,"millis":0.393404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.959729,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"54d2021b-e778-4834-a3c6-75c89d36b942","startTime":1639198860760,"refId":"[1.226:67]","endTime":1639198861640,"exampleData":{"datasetIdentifierCode":"54d2021b-e778-4834-a3c6-75c89d36b942"},"exampleIndex":225},{"sectionIndex":0,"stepResults":[{"result":{"nanos":70201,"millis":0.070201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:00.998 karate.env system property was: null \n"},{"result":{"nanos":50501,"millis":0.050501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138801,"millis":0.138801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":104801,"millis":0.104801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":421805,"millis":0.421805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120301,"millis":0.120301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":445104,"millis":0.445104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86801,"millis":0.086801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":403504,"millis":0.403504,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31601,"millis":0.031601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853237376,"millis":853.237376,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1166311,"millis":1.166311,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":743607,"millis":0.743607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":762307,"millis":0.762307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":887208,"millis":0.887208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":902909,"millis":0.902909,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":704307,"millis":0.704307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53401,"millis":0.053401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":647006,"millis":0.647006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":611806,"millis":0.611806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":924609,"millis":0.924609,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":755307,"millis":0.755307,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":700607,"millis":0.700607,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:01.863 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":805208,"millis":0.805208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":521305,"millis":0.521305,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:01.864 [print] #notpresent \n"},{"result":{"nanos":662506,"millis":0.662506,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":421004,"millis":0.421004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:01.866 [print] INSPIRE Atom \n"},{"result":{"nanos":104801,"millis":0.104801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":433404,"millis":0.433404,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:01.866 [print] #notpresent \n"},{"result":{"nanos":764908,"millis":0.764908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":480005,"millis":0.480005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:01.867 [print] Beheer PDOK \n"},{"result":{"nanos":984309,"millis":0.984309,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:01.868 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":712907,"millis":0.712907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":560205,"millis":0.560205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347804,"millis":0.347804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.903648,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","startTime":1639198860997,"refId":"[1.227:67]","endTime":1639198861870,"exampleData":{"datasetIdentifierCode":"641a0f48-872b-4470-b130-e3d28e6bfdfb"},"exampleIndex":226},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:01.385 karate.env system property was: null \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48801,"millis":0.048801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90801,"millis":0.090801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334403,"millis":0.334403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438004,"millis":0.438004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52501,"millis":0.052501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111101,"millis":0.111101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":131602,"millis":0.131602,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855602499,"millis":855.602499,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":964110,"millis":0.96411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":838308,"millis":0.838308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":717007,"millis":0.717007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":824508,"millis":0.824508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":964809,"millis":0.964809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3586935,"millis":3.586935,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":680307,"millis":0.680307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":661206,"millis":0.661206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":653106,"millis":0.653106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":710507,"millis":0.710507,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":640506,"millis":0.640506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:02.263 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":889108,"millis":0.889108,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":465505,"millis":0.465505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:02.264 [print] #notpresent \n"},{"result":{"nanos":653007,"millis":0.653007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":392904,"millis":0.392904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:02.266 [print] INSPIRE Atom \n"},{"result":{"nanos":107901,"millis":0.107901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":428304,"millis":0.428304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:02.266 [print] #notpresent \n"},{"result":{"nanos":1097011,"millis":1.097011,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":506405,"millis":0.506405,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:02.268 [print] Beheer PDOK \n"},{"result":{"nanos":7957978,"millis":7.957978,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:02.276 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n"},{"result":{"nanos":804108,"millis":0.804108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":690906,"millis":0.690906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":406004,"millis":0.406004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.724063,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","startTime":1639198861385,"refId":"[1.228:67]","endTime":1639198862278,"exampleData":{"datasetIdentifierCode":"e27e61d8-25b1-45ee-a2df-071312ba8a69"},"exampleIndex":227},{"sectionIndex":0,"stepResults":[{"result":{"nanos":141801,"millis":0.141801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:01.579 karate.env system property was: null \n"},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":144301,"millis":0.144301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":151601,"millis":0.151601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":345104,"millis":0.345104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":127601,"millis":0.127601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444504,"millis":0.444504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113901,"millis":0.113901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":143202,"millis":0.143202,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854964293,"millis":854.964293,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1358213,"millis":1.358213,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":1206912,"millis":1.206912,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1423014,"millis":1.423014,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":776408,"millis":0.776408,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1069110,"millis":1.06911,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":872308,"millis":0.872308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31401,"millis":0.031401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":600506,"millis":0.600506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":604706,"millis":0.604706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":615806,"millis":0.615806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":879909,"millis":0.879909,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":658506,"millis":0.658506,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:02.446 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":818308,"millis":0.818308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":474504,"millis":0.474504,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:02.448 [print] OGC:WFS \n"},{"result":{"nanos":710407,"millis":0.710407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":498505,"millis":0.498505,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:02.449 [print] #notpresent \n"},{"result":{"nanos":143602,"millis":0.143602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":682507,"millis":0.682507,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:02.450 [print] OGC:WFS \n"},{"result":{"nanos":930209,"millis":0.930209,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":469505,"millis":0.469505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:02.451 [print] Beheer PDOK \n"},{"result":{"nanos":703607,"millis":0.703607,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:02.452 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":700207,"millis":0.700207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":488605,"millis":0.488605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423304,"millis":0.423304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.943878,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","startTime":1639198861578,"refId":"[1.229:67]","endTime":1639198862454,"exampleData":{"datasetIdentifierCode":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774"},"exampleIndex":228},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55401,"millis":0.055401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:01.643 karate.env system property was: null \n"},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":163102,"millis":0.163102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112401,"millis":0.112401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":328603,"millis":0.328603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":151002,"millis":0.151002,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":525205,"millis":0.525205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":402504,"millis":0.402504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865428396,"millis":865.428396,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1015610,"millis":1.01561,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":781708,"millis":0.781708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":746407,"millis":0.746407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":639606,"millis":0.639606,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":868009,"millis":0.868009,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":746307,"millis":0.746307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":589005,"millis":0.589005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":564805,"millis":0.564805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":584506,"millis":0.584506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":665807,"millis":0.665807,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":632706,"millis":0.632706,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:02.519 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":748308,"millis":0.748308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":436204,"millis":0.436204,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:02.520 [print] OGC:WMS \n"},{"result":{"nanos":876209,"millis":0.876209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":404704,"millis":0.404704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:02.522 [print] #notpresent \n"},{"result":{"nanos":119301,"millis":0.119301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":400104,"millis":0.400104,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:02.522 [print] OGC:WMS \n"},{"result":{"nanos":721307,"millis":0.721307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":488505,"millis":0.488505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:02.523 [print] Beheer PDOK \n"},{"result":{"nanos":669207,"millis":0.669207,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:02.524 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":718107,"millis":0.718107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":496605,"millis":0.496605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":361104,"millis":0.361104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.724458,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","startTime":1639198861642,"refId":"[1.230:67]","endTime":1639198862526,"exampleData":{"datasetIdentifierCode":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e"},"exampleIndex":229},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:01.874 karate.env system property was: null \n"},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":134401,"millis":0.134401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":291703,"millis":0.291703,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":375404,"millis":0.375404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":133601,"millis":0.133601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":477505,"millis":0.477505,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":151401,"millis":0.151401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50201,"millis":0.050201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26101,"millis":0.026101,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":868101922,"millis":868.101922,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1092811,"millis":1.092811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":794708,"millis":0.794708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":4362043,"millis":4.362043,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":745707,"millis":0.745707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":949309,"millis":0.949309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":833008,"millis":0.833008,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36501,"millis":0.036501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":705307,"millis":0.705307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":625406,"millis":0.625406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":583406,"millis":0.583406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":696707,"millis":0.696707,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":828108,"millis":0.828108,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:02.757 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":847409,"millis":0.847409,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":474104,"millis":0.474104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:02.758 [print] OGC:WMS \n"},{"result":{"nanos":636507,"millis":0.636507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":408604,"millis":0.408604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:02.759 [print] #notpresent \n"},{"result":{"nanos":112101,"millis":0.112101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1762318,"millis":1.762318,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:02.761 [print] OGC:WMS \n"},{"result":{"nanos":1016510,"millis":1.01651,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":496505,"millis":0.496505,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:02.763 [print] Beheer PDOK \n"},{"result":{"nanos":940609,"millis":0.940609,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:02.764 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":778708,"millis":0.778708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":715407,"millis":0.715407,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":388104,"millis":0.388104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":890.781847,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","startTime":1639198861873,"refId":"[1.231:67]","endTime":1639198862766,"exampleData":{"datasetIdentifierCode":"488c1e6d-363e-4476-b2ff-17756ac9b35f"},"exampleIndex":230},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57901,"millis":0.057901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:02.281 karate.env system property was: null \n"},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":130201,"millis":0.130201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":121901,"millis":0.121901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":381004,"millis":0.381004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":147502,"millis":0.147502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":563005,"millis":0.563005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40101,"millis":0.040101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":476604,"millis":0.476604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6701,"millis":0.006701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865959001,"millis":865.959001,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1315912,"millis":1.315912,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":937709,"millis":0.937709,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":785608,"millis":0.785608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":859708,"millis":0.859708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1106411,"millis":1.106411,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":851308,"millis":0.851308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48201,"millis":0.048201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":731607,"millis":0.731607,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":674607,"millis":0.674607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":769707,"millis":0.769707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":142601,"millis":0.142601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163102,"millis":0.163102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:03.158 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":1217512,"millis":1.217512,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":189602,"millis":0.189602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:03.160 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":780708,"millis":0.780708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110101,"millis":0.110101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:03.161 [print] #notpresent \n"},{"result":{"nanos":148201,"millis":0.148201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":159202,"millis":0.159202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:03.161 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":825508,"millis":0.825508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":173402,"millis":0.173402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:03.162 [print] Beheer PDOK \n"},{"result":{"nanos":181802,"millis":0.181802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:03.162 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":912109,"millis":0.912109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":494405,"millis":0.494405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":376304,"millis":0.376304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.009858,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"db1e010a-96f8-453e-b63c-9c27d6273157","startTime":1639198862280,"refId":"[1.232:67]","endTime":1639198863164,"exampleData":{"datasetIdentifierCode":"db1e010a-96f8-453e-b63c-9c27d6273157"},"exampleIndex":231},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:02.457 karate.env system property was: null \n"},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":146702,"millis":0.146702,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":172101,"millis":0.172101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":362604,"millis":0.362604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":115101,"millis":0.115101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437705,"millis":0.437705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":386004,"millis":0.386004,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":72201,"millis":0.072201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26001,"millis":0.026001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849829242,"millis":849.829242,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1368514,"millis":1.368514,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":11398112,"millis":11.398112,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1200012,"millis":1.200012,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":958009,"millis":0.958009,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1261312,"millis":1.261312,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":791208,"millis":0.791208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":707107,"millis":0.707107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":650706,"millis":0.650706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":658907,"millis":0.658907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":229902,"millis":0.229902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":155002,"millis":0.155002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:03.329 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":873208,"millis":0.873208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180901,"millis":0.180901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:03.330 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":821809,"millis":0.821809,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:03.331 [print] #notpresent \n"},{"result":{"nanos":132102,"millis":0.132102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137501,"millis":0.137501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:03.331 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1276513,"millis":1.276513,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":177602,"millis":0.177602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:03.332 [print] Beheer PDOK \n"},{"result":{"nanos":327603,"millis":0.327603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:03.333 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":1006410,"millis":1.00641,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":483405,"millis":0.483405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":341003,"millis":0.341003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.01271,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","startTime":1639198862456,"refId":"[1.233:67]","endTime":1639198863335,"exampleData":{"datasetIdentifierCode":"25a99d92-ea8a-4163-82ab-3521c9b0c96b"},"exampleIndex":232},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:02.529 karate.env system property was: null \n"},{"result":{"nanos":53001,"millis":0.053001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":136801,"millis":0.136801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":129002,"millis":0.129002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":350603,"millis":0.350603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":213902,"millis":0.213902,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":576806,"millis":0.576806,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":461904,"millis":0.461904,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":54601,"millis":0.054601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26001,"millis":0.026001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873083970,"millis":873.08397,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1943119,"millis":1.943119,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":2070220,"millis":2.07022,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1968020,"millis":1.96802,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2052020,"millis":2.05202,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2302222,"millis":2.302222,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2291422,"millis":2.291422,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47901,"millis":0.047901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1721117,"millis":1.721117,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1413014,"millis":1.413014,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1567815,"millis":1.567815,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":454904,"millis":0.454904,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":174202,"millis":0.174202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:03.423 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1903419,"millis":1.903419,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180502,"millis":0.180502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:03.425 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1452314,"millis":1.452314,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":64601,"millis":0.064601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:03.426 [print] #notpresent \n"},{"result":{"nanos":124701,"millis":0.124701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":160702,"millis":0.160702,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:03.427 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2175221,"millis":2.175221,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":117001,"millis":0.117001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:03.429 [print] Beheer PDOK \n"},{"result":{"nanos":119502,"millis":0.119502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:03.429 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":2005819,"millis":2.005819,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":555005,"millis":0.555005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":332203,"millis":0.332203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":902.448158,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","startTime":1639198862528,"refId":"[1.234:67]","endTime":1639198863432,"exampleData":{"datasetIdentifierCode":"2b9da196-422e-4b0e-a5ba-ba41ade308e9"},"exampleIndex":233},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53001,"millis":0.053001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:02.771 karate.env system property was: null \n"},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":393604,"millis":0.393604,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":137601,"millis":0.137601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":387003,"millis":0.387003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":328703,"millis":0.328703,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":560805,"millis":0.560805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":9185390,"millis":9.18539,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":137901,"millis":0.137901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":891769054,"millis":891.769054,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2739827,"millis":2.739827,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":3318333,"millis":3.318333,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3235332,"millis":3.235332,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":3357033,"millis":3.357033,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3775137,"millis":3.775137,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3417933,"millis":3.417933,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2043620,"millis":2.04362,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2149721,"millis":2.149721,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2161421,"millis":2.161421,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":971809,"millis":0.971809,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":157102,"millis":0.157102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:03.702 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":2510125,"millis":2.510125,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":187802,"millis":0.187802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:03.705 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2452824,"millis":2.452824,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82601,"millis":0.082601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:03.707 [print] #notpresent \n"},{"result":{"nanos":342303,"millis":0.342303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":181802,"millis":0.181802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:03.708 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":3653436,"millis":3.653436,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1160412,"millis":1.160412,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:03.713 [print] Beheer PDOK \n"},{"result":{"nanos":199502,"millis":0.199502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:03.713 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":13832336,"millis":13.832336,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":807808,"millis":0.807808,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":356703,"millis":0.356703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":956.291286,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","startTime":1639198862768,"refId":"[1.235:67]","endTime":1639198863728,"exampleData":{"datasetIdentifierCode":"9c4862c3-0bab-49c3-bc2f-ac5486826766"},"exampleIndex":234},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54301,"millis":0.054301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:03.167 karate.env system property was: null \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":180602,"millis":0.180602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":114101,"millis":0.114101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370303,"millis":0.370303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124901,"millis":0.124901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436804,"millis":0.436804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":90901,"millis":0.090901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":82301,"millis":0.082301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858902831,"millis":858.902831,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1601,"millis":0.001601,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1498914,"millis":1.498914,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":1665217,"millis":1.665217,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1725217,"millis":1.725217,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1907919,"millis":1.907919,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1532215,"millis":1.532215,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1324913,"millis":1.324913,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28301,"millis":0.028301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":932909,"millis":0.932909,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":931609,"millis":0.931609,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1066311,"millis":1.066311,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":370703,"millis":0.370703,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":107601,"millis":0.107601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:04.041 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1425714,"millis":1.425714,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":132301,"millis":0.132301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:04.043 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1157712,"millis":1.157712,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93501,"millis":0.093501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:04.044 [print] #notpresent \n"},{"result":{"nanos":86901,"millis":0.086901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":176101,"millis":0.176101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:04.044 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1590515,"millis":1.590515,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":179202,"millis":0.179202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:04.046 [print] Beheer PDOK \n"},{"result":{"nanos":261303,"millis":0.261303,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:04.046 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":1427914,"millis":1.427914,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":445304,"millis":0.445304,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":320404,"millis":0.320404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.930047,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","startTime":1639198863166,"refId":"[1.236:67]","endTime":1639198864049,"exampleData":{"datasetIdentifierCode":"1ce74355-763a-481d-b9d7-aaafbf0d7d53"},"exampleIndex":235},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57401,"millis":0.057401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:03.337 karate.env system property was: null \n"},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":117501,"millis":0.117501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":127001,"millis":0.127001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":320003,"millis":0.320003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":111502,"millis":0.111502,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":491504,"millis":0.491504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70601,"millis":0.070601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18401,"millis":0.018401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":914158074,"millis":914.158074,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":3001830,"millis":3.00183,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":3150531,"millis":3.150531,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":3060130,"millis":3.06013,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":3222332,"millis":3.222332,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3351633,"millis":3.351633,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3344633,"millis":3.344633,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2390224,"millis":2.390224,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2442324,"millis":2.442324,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":14350241,"millis":14.350241,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":554906,"millis":0.554906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":168301,"millis":0.168301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:04.292 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":4287643,"millis":4.287643,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":371003,"millis":0.371003,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:04.297 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2599826,"millis":2.599826,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":163002,"millis":0.163002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:04.300 [print] #notpresent \n"},{"result":{"nanos":133801,"millis":0.133801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":237903,"millis":0.237903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:04.300 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":3532734,"millis":3.532734,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":178702,"millis":0.178702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:04.304 [print] Beheer PDOK \n"},{"result":{"nanos":151002,"millis":0.151002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:04.304 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":3400033,"millis":3.400033,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":484805,"millis":0.484805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":350404,"millis":0.350404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":970.662232,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"4f4c7848-1767-4c67-be08-87d45d07f313","startTime":1639198863337,"refId":"[1.237:67]","endTime":1639198864308,"exampleData":{"datasetIdentifierCode":"4f4c7848-1767-4c67-be08-87d45d07f313"},"exampleIndex":236},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:03.435 karate.env system property was: null \n"},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111801,"millis":0.111801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":122201,"millis":0.122201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356204,"millis":0.356204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105101,"millis":0.105101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417304,"millis":0.417304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51301,"millis":0.051301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":84901,"millis":0.084901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875853398,"millis":875.853398,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1907419,"millis":1.907419,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":2835628,"millis":2.835628,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2311923,"millis":2.311923,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2341523,"millis":2.341523,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2291123,"millis":2.291123,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2918429,"millis":2.918429,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1522315,"millis":1.522315,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1826218,"millis":1.826218,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1910419,"millis":1.910419,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":453105,"millis":0.453105,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":101401,"millis":0.101401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:04.333 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":2193822,"millis":2.193822,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145601,"millis":0.145601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:04.335 [print] #notpresent \n"},{"result":{"nanos":2109121,"millis":2.109121,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":127401,"millis":0.127401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:04.338 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":203002,"millis":0.203002,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":204302,"millis":0.204302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:04.338 [print] #notpresent \n"},{"result":{"nanos":2469624,"millis":2.469624,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":281003,"millis":0.281003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:04.341 [print] Beheer PDOK \n"},{"result":{"nanos":171802,"millis":0.171802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:04.341 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":2555925,"millis":2.555925,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":403304,"millis":0.403304,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":332003,"millis":0.332003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":908.951625,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","startTime":1639198863434,"refId":"[1.238:67]","endTime":1639198864344,"exampleData":{"datasetIdentifierCode":"82541a1f-2e4e-459f-ab2f-e97cac3ad040"},"exampleIndex":237},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50901,"millis":0.050901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:03.730 karate.env system property was: null \n"},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":135902,"millis":0.135902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":106501,"millis":0.106501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":464905,"millis":0.464905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102701,"millis":0.102701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":441504,"millis":0.441504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51801,"millis":0.051801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":117102,"millis":0.117102,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31501,"millis":0.031501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":980053520,"millis":980.05352,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1701,"millis":0.001701,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1861218,"millis":1.861218,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":2106621,"millis":2.106621,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1975920,"millis":1.97592,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":11226310,"millis":11.22631,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2626826,"millis":2.626826,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2124621,"millis":2.124621,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1421114,"millis":1.421114,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1328713,"millis":1.328713,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1703016,"millis":1.703016,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":424004,"millis":0.424004,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":193902,"millis":0.193902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:04.740 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":2335323,"millis":2.335323,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":899809,"millis":0.899809,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:04.743 [print] #notpresent \n"},{"result":{"nanos":3642136,"millis":3.642136,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":288703,"millis":0.288703,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:04.747 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":110301,"millis":0.110301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":159401,"millis":0.159401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:04.747 [print] #notpresent \n"},{"result":{"nanos":2767227,"millis":2.767227,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":204302,"millis":0.204302,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:04.750 [print] Beheer PDOK \n"},{"result":{"nanos":203202,"millis":0.203202,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:04.751 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":2693226,"millis":2.693226,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":538605,"millis":0.538605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":319903,"millis":0.319903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1022.909242,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","startTime":1639198863730,"refId":"[1.239:67]","endTime":1639198864754,"exampleData":{"datasetIdentifierCode":"9c5351c8-d8f4-41c2-9642-42a63496a6fe"},"exampleIndex":238},{"sectionIndex":0,"stepResults":[{"result":{"nanos":307503,"millis":0.307503,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:04.051 karate.env system property was: null \n"},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":134002,"millis":0.134002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119301,"millis":0.119301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":383404,"millis":0.383404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":141701,"millis":0.141701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":543006,"millis":0.543006,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6401,"millis":0.006401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873548176,"millis":873.548176,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2306623,"millis":2.306623,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":2834228,"millis":2.834228,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2770527,"millis":2.770527,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2809028,"millis":2.809028,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2779327,"millis":2.779327,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2860628,"millis":2.860628,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28601,"millis":0.028601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3179731,"millis":3.179731,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2358123,"millis":2.358123,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2185022,"millis":2.185022,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":608506,"millis":0.608506,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":202702,"millis":0.202702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:04.960 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1895819,"millis":1.895819,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":124501,"millis":0.124501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:04.962 [print] #notpresent \n"},{"result":{"nanos":1951819,"millis":1.951819,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":143802,"millis":0.143802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:04.964 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":127501,"millis":0.127501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1539016,"millis":1.539016,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:04.965 [print] #notpresent \n"},{"result":{"nanos":3198231,"millis":3.198231,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":553506,"millis":0.553506,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:04.969 [print] Beheer PDOK \n"},{"result":{"nanos":697707,"millis":0.697707,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:04.970 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":2664926,"millis":2.664926,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":498205,"millis":0.498205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":357404,"millis":0.357404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":914.155777,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","startTime":1639198864051,"refId":"[1.240:67]","endTime":1639198864973,"exampleData":{"datasetIdentifierCode":"1fa220c2-5f2e-4943-a57e-c291cc35084b"},"exampleIndex":239},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67601,"millis":0.067601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:04.312 karate.env system property was: null \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":135801,"millis":0.135801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":111901,"millis":0.111901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":386104,"millis":0.386104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":97801,"millis":0.097801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435204,"millis":0.435204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":150801,"millis":0.150801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46601,"millis":0.046601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16801,"millis":0.016801,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842821274,"millis":842.821274,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1305413,"millis":1.305413,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":852308,"millis":0.852308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":795108,"millis":0.795108,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":766608,"millis":0.766608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":988610,"millis":0.98861,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":874108,"millis":0.874108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":679007,"millis":0.679007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":677006,"millis":0.677006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":720507,"millis":0.720507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":141801,"millis":0.141801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1217612,"millis":1.217612,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:05.166 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":2039720,"millis":2.03972,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":625506,"millis":0.625506,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:05.169 [print] OGC:WMS \n"},{"result":{"nanos":773307,"millis":0.773307,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":459804,"millis":0.459804,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:05.170 [print] #notpresent \n"},{"result":{"nanos":108201,"millis":0.108201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":446905,"millis":0.446905,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:05.170 [print] OGC:WMS \n"},{"result":{"nanos":821308,"millis":0.821308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":547905,"millis":0.547905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:05.172 [print] Beheer PDOK \n"},{"result":{"nanos":800208,"millis":0.800208,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:05.173 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":849909,"millis":0.849909,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":551605,"millis":0.551605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":372603,"millis":0.372603,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.857759,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","startTime":1639198864311,"refId":"[1.241:67]","endTime":1639198865175,"exampleData":{"datasetIdentifierCode":"6a129fd1-0988-4b8a-975a-6ff134b6754a"},"exampleIndex":240},{"sectionIndex":0,"stepResults":[{"result":{"nanos":79200,"millis":0.0792,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:04.347 karate.env system property was: null \n"},{"result":{"nanos":33101,"millis":0.033101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":165102,"millis":0.165102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":174301,"millis":0.174301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334604,"millis":0.334604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108201,"millis":0.108201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447404,"millis":0.447404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":167002,"millis":0.167002,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54201,"millis":0.054201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842637772,"millis":842.637772,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":786308,"millis":0.786308,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":878408,"millis":0.878408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":760407,"millis":0.760407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":796308,"millis":0.796308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1155512,"millis":1.155512,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":823508,"millis":0.823508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":684507,"millis":0.684507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":784608,"millis":0.784608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":659907,"millis":0.659907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":125501,"millis":0.125501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":580906,"millis":0.580906,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:05.200 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":1274612,"millis":1.274612,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":160901,"millis":0.160901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:05.201 [print] #notpresent \n"},{"result":{"nanos":1100811,"millis":1.100811,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76601,"millis":0.076601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:05.203 [print] OGC:WFS \n"},{"result":{"nanos":405304,"millis":0.405304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":120101,"millis":0.120101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:05.203 [print] #notpresent \n"},{"result":{"nanos":1043711,"millis":1.043711,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150501,"millis":0.150501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:05.204 [print] Beheer PDOK \n"},{"result":{"nanos":458805,"millis":0.458805,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:05.205 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":1330413,"millis":1.330413,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":461905,"millis":0.461905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":369903,"millis":0.369903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.356538,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","startTime":1639198864346,"refId":"[1.242:67]","endTime":1639198865207,"exampleData":{"datasetIdentifierCode":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c"},"exampleIndex":241},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63901,"millis":0.063901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:04.757 karate.env system property was: null \n"},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122501,"millis":0.122501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":110401,"millis":0.110401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340003,"millis":0.340003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114401,"millis":0.114401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443905,"millis":0.443905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":198402,"millis":0.198402,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47701,"millis":0.047701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21301,"millis":0.021301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858225225,"millis":858.225225,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1074411,"millis":1.074411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":756407,"millis":0.756407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":744308,"millis":0.744308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":661006,"millis":0.661006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":878108,"millis":0.878108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":826308,"millis":0.826308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":730407,"millis":0.730407,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":755308,"millis":0.755308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":791608,"millis":0.791608,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143801,"millis":0.143801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90501,"millis":0.090501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:05.625 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1603515,"millis":1.603515,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":174002,"millis":0.174002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:05.626 [print] OGC:WFS \n"},{"result":{"nanos":1064011,"millis":1.064011,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":89801,"millis":0.089801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:05.628 [print] #notpresent \n"},{"result":{"nanos":344803,"millis":0.344803,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":100601,"millis":0.100601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:05.628 [print] OGC:WFS \n"},{"result":{"nanos":1053010,"millis":1.05301,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140201,"millis":0.140201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:05.629 [print] Beheer PDOK \n"},{"result":{"nanos":695006,"millis":0.695006,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:05.630 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":1047710,"millis":1.04771,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":779708,"millis":0.779708,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":401204,"millis":0.401204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.793286,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e264c1e4-90fe-4968-bbf2-7019f6095348","startTime":1639198864756,"refId":"[1.243:67]","endTime":1639198865632,"exampleData":{"datasetIdentifierCode":"e264c1e4-90fe-4968-bbf2-7019f6095348"},"exampleIndex":242},{"sectionIndex":0,"stepResults":[{"result":{"nanos":49701,"millis":0.049701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:04.977 karate.env system property was: null \n"},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":205802,"millis":0.205802,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107801,"millis":0.107801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":420504,"millis":0.420504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":128201,"millis":0.128201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":606106,"millis":0.606106,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38201,"millis":0.038201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":460604,"millis":0.460604,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":67701,"millis":0.067701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849783642,"millis":849.783642,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1209812,"millis":1.209812,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9'"}},{"result":{"nanos":780407,"millis":0.780407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":743908,"millis":0.743908,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":584206,"millis":0.584206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":792908,"millis":0.792908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":638506,"millis":0.638506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":490405,"millis":0.490405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":590106,"millis":0.590106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":577306,"millis":0.577306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":234403,"millis":0.234403,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":886108,"millis":0.886108,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:05.837 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":876908,"millis":0.876908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":267703,"millis":0.267703,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:05.838 [print] OGC:WMS \n"},{"result":{"nanos":666406,"millis":0.666406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100501,"millis":0.100501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:05.844 [print] #notpresent \n"},{"result":{"nanos":425505,"millis":0.425505,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":111001,"millis":0.111001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:05.844 [print] OGC:WMS \n"},{"result":{"nanos":1042510,"millis":1.04251,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":205902,"millis":0.205902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:05.845 [print] Beheer PDOK \n"},{"result":{"nanos":113701,"millis":0.113701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:05.846 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n"},{"result":{"nanos":1703516,"millis":1.703516,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":507405,"millis":0.507405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302202,"millis":0.302202,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.858198,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9","startTime":1639198864976,"refId":"[1.244:67]","endTime":1639198865848,"exampleData":{"datasetIdentifierCode":"a9a8e1cf-3f4e-4067-9842-ea2a6f2d2ed9"},"exampleIndex":243},{"sectionIndex":0,"stepResults":[{"result":{"nanos":64301,"millis":0.064301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:05.178 karate.env system property was: null \n"},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":141902,"millis":0.141902,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":143701,"millis":0.143701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370303,"millis":0.370303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113101,"millis":0.113101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":508605,"millis":0.508605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75401,"millis":0.075401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":399404,"millis":0.399404,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20001,"millis":0.020001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862757470,"millis":862.75747,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1262712,"millis":1.262712,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'"}},{"result":{"nanos":813708,"millis":0.813708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":814808,"millis":0.814808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":840808,"millis":0.840808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":903809,"millis":0.903809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1093711,"millis":1.093711,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":665807,"millis":0.665807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":652807,"millis":0.652807,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":819808,"millis":0.819808,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":281303,"millis":0.281303,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":843008,"millis":0.843008,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:06.052 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":700107,"millis":0.700107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":506405,"millis":0.506405,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:06.054 [print] #notpresent \n"},{"result":{"nanos":835208,"millis":0.835208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":495604,"millis":0.495604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:06.055 [print] OGC:WFS \n"},{"result":{"nanos":97701,"millis":0.097701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":470904,"millis":0.470904,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:06.055 [print] #notpresent \n"},{"result":{"nanos":933909,"millis":0.933909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":473304,"millis":0.473304,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:06.057 [print] Beheer PDOK \n"},{"result":{"nanos":722107,"millis":0.722107,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:06.058 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":5877957,"millis":5.877957,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":675006,"millis":0.675006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":355104,"millis":0.355104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":885.897294,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","startTime":1639198865177,"refId":"[1.245:67]","endTime":1639198866065,"exampleData":{"datasetIdentifierCode":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc"},"exampleIndex":244},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:05.210 karate.env system property was: null \n"},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153401,"millis":0.153401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112701,"millis":0.112701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":346803,"millis":0.346803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113101,"millis":0.113101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486605,"millis":0.486605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53701,"millis":0.053701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":90701,"millis":0.090701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":397904,"millis":0.397904,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29301,"millis":0.029301,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871406754,"millis":871.406754,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":952209,"millis":0.952209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":771608,"millis":0.771608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":811808,"millis":0.811808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":671607,"millis":0.671607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":785807,"millis":0.785807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":790507,"millis":0.790507,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48201,"millis":0.048201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":613506,"millis":0.613506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":8666985,"millis":8.666985,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2354724,"millis":2.354724,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":706407,"millis":0.706407,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":728007,"millis":0.728007,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:06.102 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":780208,"millis":0.780208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":464404,"millis":0.464404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:06.103 [print] OGC:WMS \n"},{"result":{"nanos":628607,"millis":0.628607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":400104,"millis":0.400104,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:06.104 [print] #notpresent \n"},{"result":{"nanos":94301,"millis":0.094301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":440204,"millis":0.440204,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:06.105 [print] OGC:WMS \n"},{"result":{"nanos":735207,"millis":0.735207,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":488504,"millis":0.488504,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:06.106 [print] Beheer PDOK \n"},{"result":{"nanos":839909,"millis":0.839909,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:06.107 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":727107,"millis":0.727107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":477005,"millis":0.477005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":305103,"millis":0.305103,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":897.609812,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","startTime":1639198865209,"refId":"[1.246:67]","endTime":1639198866109,"exampleData":{"datasetIdentifierCode":"f0c6fbfe-a172-4223-8af3-58f6a28c881d"},"exampleIndex":245},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:05.636 karate.env system property was: null \n"},{"result":{"nanos":34901,"millis":0.034901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116301,"millis":0.116301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103101,"millis":0.103101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":439004,"millis":0.439004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":106501,"millis":0.106501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":580605,"millis":0.580605,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91001,"millis":0.091001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61001,"millis":0.061001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":115001,"millis":0.115001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875452469,"millis":875.452469,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2379422,"millis":2.379422,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":2367722,"millis":2.367722,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2402723,"millis":2.402723,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2232421,"millis":2.232421,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":13862528,"millis":13.862528,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2439923,"millis":2.439923,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71401,"millis":0.071401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1656615,"millis":1.656615,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1562415,"millis":1.562415,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1957018,"millis":1.957018,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":376203,"millis":0.376203,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":136401,"millis":0.136401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:06.545 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1955118,"millis":1.955118,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":193202,"millis":0.193202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:06.547 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1852617,"millis":1.852617,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81901,"millis":0.081901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:06.549 [print] #notpresent \n"},{"result":{"nanos":292703,"millis":0.292703,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":169302,"millis":0.169302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:06.550 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2939827,"millis":2.939827,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":213802,"millis":0.213802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:06.553 [print] Beheer PDOK \n"},{"result":{"nanos":314603,"millis":0.314603,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:06.553 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":2738826,"millis":2.738826,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532405,"millis":0.532405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":319203,"millis":0.319203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":920.328887,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"af4841b5-ce83-4edb-af41-429a21140316","startTime":1639198865635,"refId":"[1.247:67]","endTime":1639198866557,"exampleData":{"datasetIdentifierCode":"af4841b5-ce83-4edb-af41-429a21140316"},"exampleIndex":246},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45301,"millis":0.045301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:05.850 karate.env system property was: null \n"},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":110101,"millis":0.110101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":143802,"millis":0.143802,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":408504,"millis":0.408504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107101,"millis":0.107101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":476905,"millis":0.476905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69901,"millis":0.069901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":336404,"millis":0.336404,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":868187983,"millis":868.187983,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2037919,"millis":2.037919,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":2649625,"millis":2.649625,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2347222,"millis":2.347222,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2394822,"millis":2.394822,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2708225,"millis":2.708225,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3184630,"millis":3.18463,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1447714,"millis":1.447714,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1518914,"millis":1.518914,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1677816,"millis":1.677816,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":369203,"millis":0.369203,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":202502,"millis":0.202502,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:06.742 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1815517,"millis":1.815517,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":195202,"millis":0.195202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:06.744 [print] #notpresent \n"},{"result":{"nanos":3355831,"millis":3.355831,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":177202,"millis":0.177202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:06.748 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":126401,"millis":0.126401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":140002,"millis":0.140002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:06.748 [print] #notpresent \n"},{"result":{"nanos":2566224,"millis":2.566224,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":173601,"millis":0.173601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:06.751 [print] Beheer PDOK \n"},{"result":{"nanos":114902,"millis":0.114902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:06.751 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":3077728,"millis":3.077728,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":549506,"millis":0.549506,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":409103,"millis":0.409103,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":903.365513,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b0119753-5625-4500-9df3-13823ff9868f","startTime":1639198865850,"refId":"[1.248:67]","endTime":1639198866755,"exampleData":{"datasetIdentifierCode":"b0119753-5625-4500-9df3-13823ff9868f"},"exampleIndex":247},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:06.068 karate.env system property was: null \n"},{"result":{"nanos":36001,"millis":0.036001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":205602,"millis":0.205602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":127901,"millis":0.127901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":521405,"millis":0.521405,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103701,"millis":0.103701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431405,"millis":0.431405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88201,"millis":0.088201,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":415504,"millis":0.415504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45201,"millis":0.045201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56201,"millis":0.056201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":841310913,"millis":841.310913,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1313412,"millis":1.313412,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":811307,"millis":0.811307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":797008,"millis":0.797008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":757607,"millis":0.757607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":8523279,"millis":8.523279,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":912908,"millis":0.912908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":682906,"millis":0.682906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1965018,"millis":1.965018,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":710007,"millis":0.710007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":156501,"millis":0.156501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96101,"millis":0.096101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:06.929 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":961309,"millis":0.961309,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":209202,"millis":0.209202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:06.930 [print] OGC:WFS \n"},{"result":{"nanos":763107,"millis":0.763107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:06.931 [print] #notpresent \n"},{"result":{"nanos":187102,"millis":0.187102,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147802,"millis":0.147802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:06.931 [print] OGC:WFS \n"},{"result":{"nanos":833607,"millis":0.833607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":143202,"millis":0.143202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:06.932 [print] Beheer PDOK \n"},{"result":{"nanos":247402,"millis":0.247402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:06.932 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":846508,"millis":0.846508,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":513905,"millis":0.513905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":409504,"millis":0.409504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.582439,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"8129296b-b9c1-489f-990a-df4a879e12b2","startTime":1639198866067,"refId":"[1.249:67]","endTime":1639198866934,"exampleData":{"datasetIdentifierCode":"8129296b-b9c1-489f-990a-df4a879e12b2"},"exampleIndex":248},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:06.112 karate.env system property was: null \n"},{"result":{"nanos":36001,"millis":0.036001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131401,"millis":0.131401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":105001,"millis":0.105001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":561406,"millis":0.561406,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113801,"millis":0.113801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":428104,"millis":0.428104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":300203,"millis":0.300203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30101,"millis":0.030101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838505264,"millis":838.505264,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":796607,"millis":0.796607,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":826407,"millis":0.826407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":834007,"millis":0.834007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":803508,"millis":0.803508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":889008,"millis":0.889008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":825608,"millis":0.825608,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47501,"millis":0.047501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":809107,"millis":0.809107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":715907,"millis":0.715907,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":698407,"millis":0.698407,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":119301,"millis":0.119301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":69101,"millis":0.069101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:06.960 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":706406,"millis":0.706406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":171002,"millis":0.171002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:06.961 [print] OGC:WMS \n"},{"result":{"nanos":681006,"millis":0.681006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":427304,"millis":0.427304,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:06.962 [print] #notpresent \n"},{"result":{"nanos":89000,"millis":0.089,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":259903,"millis":0.259903,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:06.962 [print] OGC:WMS \n"},{"result":{"nanos":799507,"millis":0.799507,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":185902,"millis":0.185902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:06.964 [print] Beheer PDOK \n"},{"result":{"nanos":173402,"millis":0.173402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:06.964 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":793907,"millis":0.793907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":482705,"millis":0.482705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":324603,"millis":0.324603,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":852.958899,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","startTime":1639198866110,"refId":"[1.250:67]","endTime":1639198866965,"exampleData":{"datasetIdentifierCode":"68722979-8d6c-4ee4-a81a-8381d2588fe5"},"exampleIndex":249},{"sectionIndex":0,"stepResults":[{"result":{"nanos":40201,"millis":0.040201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:06.560 karate.env system property was: null \n"},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109701,"millis":0.109701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98801,"millis":0.098801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":357604,"millis":0.357604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":136501,"millis":0.136501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":517805,"millis":0.517805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":77501,"millis":0.077501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44501,"millis":0.044501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":1081410,"millis":1.08141,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38601,"millis":0.038601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872056879,"millis":872.056879,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1118110,"millis":1.11811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'"}},{"result":{"nanos":807108,"millis":0.807108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":752207,"millis":0.752207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":871208,"millis":0.871208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":977609,"millis":0.977609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":959409,"millis":0.959409,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":718207,"millis":0.718207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":639206,"millis":0.639206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":731707,"millis":0.731707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":124801,"millis":0.124801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":126601,"millis":0.126601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:07.443 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":907109,"millis":0.907109,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":190202,"millis":0.190202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:07.444 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":746207,"millis":0.746207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":135101,"millis":0.135101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:07.445 [print] #notpresent \n"},{"result":{"nanos":88101,"millis":0.088101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":127701,"millis":0.127701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:07.445 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":925009,"millis":0.925009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":169902,"millis":0.169902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:07.446 [print] Beheer PDOK \n"},{"result":{"nanos":123901,"millis":0.123901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:07.446 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":1128710,"millis":1.12871,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":584905,"millis":0.584905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":382404,"millis":0.382404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":888.04913,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","startTime":1639198866559,"refId":"[1.251:67]","endTime":1639198867449,"exampleData":{"datasetIdentifierCode":"30f65c89-2246-49f8-8b50-0f1140d6f2aa"},"exampleIndex":250},{"sectionIndex":0,"stepResults":[{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:06.758 karate.env system property was: null \n"},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153502,"millis":0.153502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":137001,"millis":0.137001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":438304,"millis":0.438304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":120402,"millis":0.120402,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":456904,"millis":0.456904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52701,"millis":0.052701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104801,"millis":0.104801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38001,"millis":0.038001,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17001,"millis":0.017001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853627808,"millis":853.627808,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1209711,"millis":1.209711,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":934809,"millis":0.934809,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":786007,"millis":0.786007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":706407,"millis":0.706407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":766107,"millis":0.766107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":828808,"millis":0.828808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":595806,"millis":0.595806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":580705,"millis":0.580705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":675106,"millis":0.675106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":177501,"millis":0.177501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":156701,"millis":0.156701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:07.622 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":711707,"millis":0.711707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":185602,"millis":0.185602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:07.623 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":720806,"millis":0.720806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84101,"millis":0.084101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:07.623 [print] #notpresent \n"},{"result":{"nanos":82601,"millis":0.082601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":119801,"millis":0.119801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:07.624 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":886709,"millis":0.886709,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":154901,"millis":0.154901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:07.625 [print] Beheer PDOK \n"},{"result":{"nanos":174302,"millis":0.174302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:07.625 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":781707,"millis":0.781707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634706,"millis":0.634706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":446304,"millis":0.446304,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.810541,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4041f923-6b77-4816-bf46-437e85416c31","startTime":1639198866757,"refId":"[1.252:67]","endTime":1639198867627,"exampleData":{"datasetIdentifierCode":"4041f923-6b77-4816-bf46-437e85416c31"},"exampleIndex":251},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51301,"millis":0.051301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:06.937 karate.env system property was: null \n"},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":137001,"millis":0.137001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":119801,"millis":0.119801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":407303,"millis":0.407303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":133201,"millis":0.133201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":471804,"millis":0.471804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38601,"millis":0.038601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65201,"millis":0.065201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31701,"millis":0.031701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":137601,"millis":0.137601,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844582725,"millis":844.582725,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1006409,"millis":1.006409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":792207,"millis":0.792207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":684906,"millis":0.684906,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":742007,"millis":0.742007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":785108,"millis":0.785108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":663406,"millis":0.663406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":526004,"millis":0.526004,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":525805,"millis":0.525805,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":606806,"millis":0.606806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":187602,"millis":0.187602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":91401,"millis":0.091401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:07.791 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":671206,"millis":0.671206,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":189502,"millis":0.189502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:07.791 [print] OGC:WFS \n"},{"result":{"nanos":686106,"millis":0.686106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99801,"millis":0.099801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:07.792 [print] #notpresent \n"},{"result":{"nanos":83201,"millis":0.083201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":287303,"millis":0.287303,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:07.793 [print] OGC:WFS \n"},{"result":{"nanos":741106,"millis":0.741106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":137001,"millis":0.137001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:07.794 [print] Beheer PDOK \n"},{"result":{"nanos":119401,"millis":0.119401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:07.794 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":698207,"millis":0.698207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":590305,"millis":0.590305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308103,"millis":0.308103,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.582343,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"93a9571d-1754-47ee-a8f9-92633abfab3a","startTime":1639198866936,"refId":"[1.253:67]","endTime":1639198867795,"exampleData":{"datasetIdentifierCode":"93a9571d-1754-47ee-a8f9-92633abfab3a"},"exampleIndex":252},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45401,"millis":0.045401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:06.970 karate.env system property was: null \n"},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122201,"millis":0.122201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":142001,"millis":0.142001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":420104,"millis":0.420104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":121401,"millis":0.121401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":903309,"millis":0.903309,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97901,"millis":0.097901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":350303,"millis":0.350303,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28401,"millis":0.028401,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853587108,"millis":853.587108,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1101410,"millis":1.10141,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'"}},{"result":{"nanos":1097911,"millis":1.097911,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1138510,"millis":1.13851,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1067010,"millis":1.06701,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":949609,"millis":0.949609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":847708,"millis":0.847708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26801,"millis":0.026801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":676206,"millis":0.676206,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":677206,"millis":0.677206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":767208,"millis":0.767208,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":239302,"millis":0.239302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":163902,"millis":0.163902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:07.835 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1112710,"millis":1.11271,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":197502,"millis":0.197502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:07.837 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":802908,"millis":0.802908,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:07.838 [print] #notpresent \n"},{"result":{"nanos":96801,"millis":0.096801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":125402,"millis":0.125402,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:07.838 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1319912,"millis":1.319912,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":154601,"millis":0.154601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:07.839 [print] Beheer PDOK \n"},{"result":{"nanos":138201,"millis":0.138201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:07.839 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":1130510,"millis":1.13051,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526105,"millis":0.526105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297803,"millis":0.297803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.691868,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"58353cdf-b3a1-454e-9284-932a7e815e57","startTime":1639198866969,"refId":"[1.254:67]","endTime":1639198867841,"exampleData":{"datasetIdentifierCode":"58353cdf-b3a1-454e-9284-932a7e815e57"},"exampleIndex":253},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57601,"millis":0.057601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:07.451 karate.env system property was: null \n"},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":113302,"millis":0.113302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100201,"millis":0.100201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334103,"millis":0.334103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102601,"millis":0.102601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412504,"millis":0.412504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59601,"millis":0.059601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864157306,"millis":864.157306,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1170511,"millis":1.170511,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":843208,"millis":0.843208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":722707,"millis":0.722707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":756507,"millis":0.756507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":864108,"millis":0.864108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":847908,"millis":0.847908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28401,"millis":0.028401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":752807,"millis":0.752807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":827208,"millis":0.827208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":749007,"millis":0.749007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":172101,"millis":0.172101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":153702,"millis":0.153702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:08.325 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":798607,"millis":0.798607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":283103,"millis":0.283103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:08.327 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":834008,"millis":0.834008,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":125401,"millis":0.125401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:08.328 [print] #notpresent \n"},{"result":{"nanos":213502,"millis":0.213502,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":168902,"millis":0.168902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:08.328 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":966009,"millis":0.966009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":124901,"millis":0.124901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:08.329 [print] Beheer PDOK \n"},{"result":{"nanos":198802,"millis":0.198802,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:08.329 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":837508,"millis":0.837508,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619806,"millis":0.619806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316803,"millis":0.316803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.894747,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b196f948-5d87-4eb4-9854-a93841c3877f","startTime":1639198867451,"refId":"[1.255:67]","endTime":1639198868331,"exampleData":{"datasetIdentifierCode":"b196f948-5d87-4eb4-9854-a93841c3877f"},"exampleIndex":254},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41301,"millis":0.041301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:07.630 karate.env system property was: null \n"},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":114901,"millis":0.114901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":122101,"millis":0.122101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":414104,"millis":0.414104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":136701,"millis":0.136701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":490805,"millis":0.490805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70001,"millis":0.070001,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867981541,"millis":867.981541,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2101,"millis":0.002101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1020509,"millis":1.020509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":818808,"millis":0.818808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1061010,"millis":1.06101,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1045310,"millis":1.04531,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":850208,"millis":0.850208,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":879608,"millis":0.879608,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":837508,"millis":0.837508,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":720107,"millis":0.720107,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":840107,"millis":0.840107,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":188701,"millis":0.188701,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":191102,"millis":0.191102,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:08.509 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":718107,"millis":0.718107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":138401,"millis":0.138401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:08.509 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":666007,"millis":0.666007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87201,"millis":0.087201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:08.510 [print] #notpresent \n"},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":141302,"millis":0.141302,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:08.510 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1052310,"millis":1.05231,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":191502,"millis":0.191502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:08.512 [print] Beheer PDOK \n"},{"result":{"nanos":139301,"millis":0.139301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:08.512 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n"},{"result":{"nanos":843408,"millis":0.843408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":476605,"millis":0.476605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":646806,"millis":0.646806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":883.253885,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","startTime":1639198867629,"refId":"[1.256:67]","endTime":1639198868514,"exampleData":{"datasetIdentifierCode":"a301ddc7-c26f-42d8-b367-509ae5ae47d0"},"exampleIndex":255},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43001,"millis":0.043001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:07.798 karate.env system property was: null \n"},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":215302,"millis":0.215302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103501,"millis":0.103501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370904,"millis":0.370904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119701,"millis":0.119701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":469905,"millis":0.469905,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118601,"millis":0.118601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":44101,"millis":0.044101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16501,"millis":0.016501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853781309,"millis":853.781309,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1262312,"millis":1.262312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":744707,"millis":0.744707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":765107,"millis":0.765107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":743507,"millis":0.743507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1138610,"millis":1.13861,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":743506,"millis":0.743506,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":662006,"millis":0.662006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":607906,"millis":0.607906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":626606,"millis":0.626606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":221402,"millis":0.221402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96601,"millis":0.096601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:08.662 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":892008,"millis":0.892008,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":144802,"millis":0.144802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:08.663 [print] OGC:WFS \n"},{"result":{"nanos":4463441,"millis":4.463441,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":118401,"millis":0.118401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:08.668 [print] #notpresent \n"},{"result":{"nanos":428004,"millis":0.428004,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":132401,"millis":0.132401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:08.668 [print] OGC:WFS \n"},{"result":{"nanos":1234911,"millis":1.234911,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":157002,"millis":0.157002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:08.670 [print] Beheer PDOK \n"},{"result":{"nanos":1581115,"millis":1.581115,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:08.671 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":865408,"millis":0.865408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":708906,"millis":0.708906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":409803,"millis":0.409803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.183998,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","startTime":1639198867798,"refId":"[1.257:67]","endTime":1639198868673,"exampleData":{"datasetIdentifierCode":"aaf53e6f-fe99-4a86-a61c-50b128412d80"},"exampleIndex":256},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41101,"millis":0.041101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:07.844 karate.env system property was: null \n"},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":112501,"millis":0.112501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98500,"millis":0.0985,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":412603,"millis":0.412603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102801,"millis":0.102801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427904,"millis":0.427904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70201,"millis":0.070201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17901,"millis":0.017901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849583270,"millis":849.58327,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1030509,"millis":1.030509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":763607,"millis":0.763607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":688306,"millis":0.688306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":3072928,"millis":3.072928,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":770907,"millis":0.770907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":795907,"millis":0.795907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29701,"millis":0.029701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3818735,"millis":3.818735,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":859108,"millis":0.859108,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":706406,"millis":0.706406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":384604,"millis":0.384604,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":734407,"millis":0.734407,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:08.710 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1346913,"millis":1.346913,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":132501,"millis":0.132501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:08.711 [print] OGC:WMS \n"},{"result":{"nanos":1007510,"millis":1.00751,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80700,"millis":0.0807,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:08.712 [print] #notpresent \n"},{"result":{"nanos":435204,"millis":0.435204,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":441604,"millis":0.441604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:08.713 [print] OGC:WMS \n"},{"result":{"nanos":818008,"millis":0.818008,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":144801,"millis":0.144801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:08.714 [print] Beheer PDOK \n"},{"result":{"nanos":1127611,"millis":1.127611,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:08.715 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":876308,"millis":0.876308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":502005,"millis":0.502005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":312003,"millis":0.312003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.919876,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","startTime":1639198867844,"refId":"[1.258:67]","endTime":1639198868717,"exampleData":{"datasetIdentifierCode":"c78a99eb-9ba3-4307-a21b-2a64ad5da039"},"exampleIndex":257},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:08.334 karate.env system property was: null \n"},{"result":{"nanos":37801,"millis":0.037801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":154101,"millis":0.154101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":111501,"millis":0.111501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":399304,"millis":0.399304,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":179102,"millis":0.179102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":584706,"millis":0.584706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72801,"millis":0.072801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34901,"millis":0.034901,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":882936779,"millis":882.936779,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1231511,"millis":1.231511,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":842108,"millis":0.842108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1086710,"millis":1.08671,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":788008,"millis":0.788008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":846408,"millis":0.846408,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":726806,"millis":0.726806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1003209,"millis":1.003209,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":781407,"millis":0.781407,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":742207,"millis":0.742207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":469704,"millis":0.469704,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":167902,"millis":0.167902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:09.233 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":717007,"millis":0.717007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":212302,"millis":0.212302,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:09.234 [print] OGC:WMS \n"},{"result":{"nanos":7825872,"millis":7.825872,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":204402,"millis":0.204402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:09.242 [print] #notpresent \n"},{"result":{"nanos":100101,"millis":0.100101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":163801,"millis":0.163801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:09.242 [print] OGC:WMS \n"},{"result":{"nanos":880508,"millis":0.880508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":236402,"millis":0.236402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:09.243 [print] Beheer PDOK \n"},{"result":{"nanos":212902,"millis":0.212902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:09.244 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n"},{"result":{"nanos":995609,"millis":0.995609,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":559205,"millis":0.559205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":361704,"millis":0.361704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":905.858091,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","startTime":1639198868334,"refId":"[1.259:67]","endTime":1639198869246,"exampleData":{"datasetIdentifierCode":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21"},"exampleIndex":258},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:08.517 karate.env system property was: null \n"},{"result":{"nanos":34101,"millis":0.034101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":106701,"millis":0.106701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":96901,"millis":0.096901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":327503,"millis":0.327503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96301,"millis":0.096301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416104,"millis":0.416104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89601,"millis":0.089601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37901,"millis":0.037901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":834055527,"millis":834.055527,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1023209,"millis":1.023209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":639205,"millis":0.639205,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":699406,"millis":0.699406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":760107,"millis":0.760107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":9825291,"millis":9.825291,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":765907,"millis":0.765907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":672306,"millis":0.672306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":538505,"millis":0.538505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":548105,"millis":0.548105,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":324103,"millis":0.324103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":217302,"millis":0.217302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:09.369 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":728807,"millis":0.728807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":771307,"millis":0.771307,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:09.370 [print] OGC:WFS \n"},{"result":{"nanos":1228512,"millis":1.228512,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":474104,"millis":0.474104,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:09.372 [print] #notpresent \n"},{"result":{"nanos":104701,"millis":0.104701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":458005,"millis":0.458005,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:09.372 [print] OGC:WFS \n"},{"result":{"nanos":654106,"millis":0.654106,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":435804,"millis":0.435804,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:09.374 [print] Beheer PDOK \n"},{"result":{"nanos":782307,"millis":0.782307,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:09.374 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":708907,"millis":0.708907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":494205,"millis":0.494205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318703,"millis":0.318703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.604855,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","startTime":1639198868516,"refId":"[1.260:67]","endTime":1639198869376,"exampleData":{"datasetIdentifierCode":"b87a0095-2ad7-4dbb-81a1-fed060df79e1"},"exampleIndex":259},{"sectionIndex":0,"stepResults":[{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:08.676 karate.env system property was: null \n"},{"result":{"nanos":35501,"millis":0.035501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109801,"millis":0.109801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":99001,"millis":0.099001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":366003,"millis":0.366003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124402,"millis":0.124402,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":552205,"millis":0.552205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":134401,"millis":0.134401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123301,"millis":0.123301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":106901,"millis":0.106901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19601,"millis":0.019601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855740828,"millis":855.740828,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":976209,"millis":0.976209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":740807,"millis":0.740807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":769707,"millis":0.769707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":806308,"millis":0.806308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1080810,"millis":1.08081,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":766107,"millis":0.766107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27901,"millis":0.027901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3662734,"millis":3.662734,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":708806,"millis":0.708806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":585406,"millis":0.585406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":178602,"millis":0.178602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":395104,"millis":0.395104,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:09.545 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":703706,"millis":0.703706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119701,"millis":0.119701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:09.546 [print] OGC:WMS \n"},{"result":{"nanos":783608,"millis":0.783608,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85801,"millis":0.085801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:09.547 [print] #notpresent \n"},{"result":{"nanos":187701,"millis":0.187701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":212602,"millis":0.212602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:09.548 [print] OGC:WMS \n"},{"result":{"nanos":640406,"millis":0.640406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":196402,"millis":0.196402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:09.548 [print] Beheer PDOK \n"},{"result":{"nanos":141501,"millis":0.141501,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:09.549 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":860108,"millis":0.860108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":593606,"millis":0.593606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364403,"millis":0.364403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.165092,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","startTime":1639198868676,"refId":"[1.261:67]","endTime":1639198869550,"exampleData":{"datasetIdentifierCode":"dd49e02c-ea87-4ffc-89dd-f888608d95b7"},"exampleIndex":260},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:08.720 karate.env system property was: null \n"},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":155102,"millis":0.155102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":137801,"millis":0.137801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":390804,"millis":0.390804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103201,"millis":0.103201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":440504,"millis":0.440504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":118501,"millis":0.118501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":61401,"millis":0.061401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849588971,"millis":849.588971,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":830608,"millis":0.830608,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":762207,"millis":0.762207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":966609,"millis":0.966609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":775407,"millis":0.775407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":728506,"millis":0.728506,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":698807,"millis":0.698807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":695007,"millis":0.695007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":649506,"millis":0.649506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":940609,"millis":0.940609,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":173901,"millis":0.173901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113401,"millis":0.113401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:09.580 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n"},{"result":{"nanos":1199011,"millis":1.199011,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":133901,"millis":0.133901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:09.581 [print] #notpresent \n"},{"result":{"nanos":892209,"millis":0.892209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:09.582 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":120202,"millis":0.120202,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":182002,"millis":0.182002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:09.582 [print] #notpresent \n"},{"result":{"nanos":1093710,"millis":1.09371,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131502,"millis":0.131502,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:09.584 [print] Beheer PDOK \n"},{"result":{"nanos":694706,"millis":0.694706,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:09.584 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n"},{"result":{"nanos":718907,"millis":0.718907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":380203,"millis":0.380203,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":917208,"millis":0.917208,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.091814,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"598c4109-21d2-4a6c-b083-9975a6736849","startTime":1639198868719,"refId":"[1.262:67]","endTime":1639198869587,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736849"},"exampleIndex":261},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:09.248 karate.env system property was: null \n"},{"result":{"nanos":37601,"millis":0.037601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":175401,"millis":0.175401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":105600,"millis":0.1056,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":415103,"millis":0.415103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":132401,"millis":0.132401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":480204,"millis":0.480204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":147101,"millis":0.147101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":57001,"millis":0.057001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20901,"millis":0.020901,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851714791,"millis":851.714791,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1317912,"millis":1.317912,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":749207,"millis":0.749207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":757707,"millis":0.757707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":948209,"millis":0.948209,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":988609,"millis":0.988609,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":806108,"millis":0.806108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":607506,"millis":0.607506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":626006,"millis":0.626006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4048437,"millis":4.048437,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":173401,"millis":0.173401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":118601,"millis":0.118601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:10.114 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1280012,"millis":1.280012,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120502,"millis":0.120502,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:10.115 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1066110,"millis":1.06611,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91401,"millis":0.091401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:10.116 [print] #notpresent \n"},{"result":{"nanos":415003,"millis":0.415003,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":111401,"millis":0.111401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:10.117 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1212311,"millis":1.212311,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":122301,"millis":0.122301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:10.118 [print] Beheer PDOK \n"},{"result":{"nanos":469005,"millis":0.469005,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:10.119 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":1271912,"millis":1.271912,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":464404,"millis":0.464404,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292503,"millis":0.292503,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.545372,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","startTime":1639198869248,"refId":"[1.263:67]","endTime":1639198870121,"exampleData":{"datasetIdentifierCode":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e"},"exampleIndex":262},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:09.379 karate.env system property was: null \n"},{"result":{"nanos":34301,"millis":0.034301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":118801,"millis":0.118801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":102501,"millis":0.102501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":324803,"millis":0.324803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103001,"millis":0.103001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":469004,"millis":0.469004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":450404,"millis":0.450404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51201,"millis":0.051201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854570617,"millis":854.570617,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1188411,"millis":1.188411,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":1023309,"millis":1.023309,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":943609,"millis":0.943609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":819608,"millis":0.819608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":824907,"millis":0.824907,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":785907,"millis":0.785907,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":700906,"millis":0.700906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":854408,"millis":0.854408,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":740707,"millis":0.740707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":173002,"millis":0.173002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":421904,"millis":0.421904,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:10.244 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":758107,"millis":0.758107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":328403,"millis":0.328403,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:10.246 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":721407,"millis":0.721407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":320803,"millis":0.320803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:10.247 [print] #notpresent \n"},{"result":{"nanos":96001,"millis":0.096001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":460505,"millis":0.460505,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:10.247 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":932108,"millis":0.932108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":410803,"millis":0.410803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:10.249 [print] Beheer PDOK \n"},{"result":{"nanos":350604,"millis":0.350604,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:10.249 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n"},{"result":{"nanos":1002009,"millis":1.002009,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":490605,"millis":0.490605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387403,"millis":0.387403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.142469,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","startTime":1639198869378,"refId":"[1.264:67]","endTime":1639198870251,"exampleData":{"datasetIdentifierCode":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8"},"exampleIndex":263},{"sectionIndex":0,"stepResults":[{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:09.553 karate.env system property was: null \n"},{"result":{"nanos":84901,"millis":0.084901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153201,"millis":0.153201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":128901,"millis":0.128901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":430204,"millis":0.430204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126501,"millis":0.126501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":481205,"millis":0.481205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85401,"millis":0.085401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45101,"millis":0.045101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838765671,"millis":838.765671,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1334312,"millis":1.334312,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":4701843,"millis":4.701843,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":894709,"millis":0.894709,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":888908,"millis":0.888908,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1049910,"millis":1.04991,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":890308,"millis":0.890308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33501,"millis":0.033501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":791807,"millis":0.791807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":752307,"millis":0.752307,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":725607,"millis":0.725607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":249002,"millis":0.249002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":504204,"millis":0.504204,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:10.407 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":939209,"millis":0.939209,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":199102,"millis":0.199102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:10.408 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1078710,"millis":1.07871,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":194702,"millis":0.194702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:10.410 [print] #notpresent \n"},{"result":{"nanos":196602,"millis":0.196602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":213202,"millis":0.213202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:10.410 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2938727,"millis":2.938727,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":199402,"millis":0.199402,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:10.413 [print] Beheer PDOK \n"},{"result":{"nanos":500204,"millis":0.500204,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:10.414 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":924308,"millis":0.924308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":475605,"millis":0.475605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":345403,"millis":0.345403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.519181,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","startTime":1639198869553,"refId":"[1.265:67]","endTime":1639198870416,"exampleData":{"datasetIdentifierCode":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98"},"exampleIndex":264},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41101,"millis":0.041101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:09.589 karate.env system property was: null \n"},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":105801,"millis":0.105801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":104101,"millis":0.104101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340904,"millis":0.340904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":182102,"millis":0.182102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":641906,"millis":0.641906,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84701,"millis":0.084701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845748935,"millis":845.748935,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1001209,"millis":1.001209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":812807,"millis":0.812807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":904809,"millis":0.904809,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":740007,"millis":0.740007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":777607,"millis":0.777607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":827708,"millis":0.827708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":8204176,"millis":8.204176,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":725106,"millis":0.725106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":832907,"millis":0.832907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":592605,"millis":0.592605,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":315803,"millis":0.315803,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:10.453 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":6094657,"millis":6.094657,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":383104,"millis":0.383104,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:10.460 [print] OGC:WMS \n"},{"result":{"nanos":896708,"millis":0.896708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":317803,"millis":0.317803,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:10.461 [print] #notpresent \n"},{"result":{"nanos":103601,"millis":0.103601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":571006,"millis":0.571006,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:10.462 [print] OGC:WMS \n"},{"result":{"nanos":937109,"millis":0.937109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":375003,"millis":0.375003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:10.463 [print] Beheer PDOK \n"},{"result":{"nanos":240803,"millis":0.240803,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:10.463 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":912108,"millis":0.912108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":559005,"millis":0.559005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":349603,"millis":0.349603,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.013507,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","startTime":1639198869588,"refId":"[1.266:67]","endTime":1639198870465,"exampleData":{"datasetIdentifierCode":"0bc2bcb8-558b-446b-b4e2-381b13d483a8"},"exampleIndex":265},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45001,"millis":0.045001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:10.123 karate.env system property was: null \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111501,"millis":0.111501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100501,"millis":0.100501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":324403,"millis":0.324403,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":106801,"millis":0.106801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":414804,"millis":0.414804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36301,"millis":0.036301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19301,"millis":0.019301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864227206,"millis":864.227206,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":959409,"millis":0.959409,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":703806,"millis":0.703806,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":720007,"millis":0.720007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":630906,"millis":0.630906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":711607,"millis":0.711607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2452923,"millis":2.452923,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":418504,"millis":0.418504,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1171911,"millis":1.171911,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1070710,"millis":1.07071,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1110410,"millis":1.11041,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":409903,"millis":0.409903,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161501,"millis":0.161501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:11.002 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n"},{"result":{"nanos":1498814,"millis":1.498814,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":306903,"millis":0.306903,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:11.004 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1679516,"millis":1.679516,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":335203,"millis":0.335203,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:11.006 [print] #notpresent \n"},{"result":{"nanos":191302,"millis":0.191302,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":163601,"millis":0.163601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:11.006 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1080810,"millis":1.08081,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140002,"millis":0.140002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:11.007 [print] Beheer PDOK \n"},{"result":{"nanos":772807,"millis":0.772807,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:11.008 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":855208,"millis":0.855208,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":586206,"millis":0.586206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":311303,"millis":0.311303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.080292,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3e65fa1b-9bb1-41bd-9760-76962751b839","startTime":1639198870123,"refId":"[1.267:67]","endTime":1639198871010,"exampleData":{"datasetIdentifierCode":"3e65fa1b-9bb1-41bd-9760-76962751b839"},"exampleIndex":266},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:10.253 karate.env system property was: null \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129801,"millis":0.129801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":155301,"millis":0.155301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":408604,"millis":0.408604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104101,"millis":0.104101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":415304,"millis":0.415304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54001,"millis":0.054001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":139902,"millis":0.139902,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":866577528,"millis":866.577528,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2143320,"millis":2.14332,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":2219421,"millis":2.219421,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1990518,"millis":1.990518,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2253921,"millis":2.253921,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1964019,"millis":1.964019,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2190720,"millis":2.19072,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1405213,"millis":1.405213,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1449713,"millis":1.449713,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1561715,"millis":1.561715,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":369603,"millis":0.369603,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":122602,"millis":0.122602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:11.140 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1776316,"millis":1.776316,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":222002,"millis":0.222002,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:11.142 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1612915,"millis":1.612915,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98801,"millis":0.098801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:11.144 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":159701,"millis":0.159701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:11.144 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2171420,"millis":2.17142,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":125401,"millis":0.125401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:11.146 [print] Beheer PDOK \n"},{"result":{"nanos":115901,"millis":0.115901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:11.147 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n"},{"result":{"nanos":2198820,"millis":2.19882,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532605,"millis":0.532605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333603,"millis":0.333603,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":895.371893,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"6c62e0a5-c215-4e47-94b0-a239e264417d","startTime":1639198870253,"refId":"[1.268:67]","endTime":1639198871150,"exampleData":{"datasetIdentifierCode":"6c62e0a5-c215-4e47-94b0-a239e264417d"},"exampleIndex":267},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63101,"millis":0.063101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:10.419 karate.env system property was: null \n"},{"result":{"nanos":85901,"millis":0.085901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":205402,"millis":0.205402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":139801,"millis":0.139801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":444305,"millis":0.444305,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":149001,"millis":0.149001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":563405,"millis":0.563405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":332803,"millis":0.332803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":338103,"millis":0.338103,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":69501,"millis":0.069501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858445853,"millis":858.445853,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1010309,"millis":1.010309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'"}},{"result":{"nanos":922009,"millis":0.922009,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":755207,"millis":0.755207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":753607,"millis":0.753607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":966309,"millis":0.966309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":867208,"millis":0.867208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29901,"millis":0.029901,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":661906,"millis":0.661906,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":688607,"millis":0.688607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":702906,"millis":0.702906,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":259003,"millis":0.259003,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":114701,"millis":0.114701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:11.293 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1469014,"millis":1.469014,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201902,"millis":0.201902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:11.295 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":766207,"millis":0.766207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122002,"millis":0.122002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:11.296 [print] #notpresent \n"},{"result":{"nanos":100001,"millis":0.100001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":155602,"millis":0.155602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:11.297 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":12409615,"millis":12.409615,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":276903,"millis":0.276903,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:11.310 [print] Beheer PDOK \n"},{"result":{"nanos":324403,"millis":0.324403,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:11.310 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n"},{"result":{"nanos":1122310,"millis":1.12231,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":495305,"millis":0.495305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":304203,"millis":0.304203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":886.441516,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"97a7d966-7261-49d4-bc08-c4900981f092","startTime":1639198870418,"refId":"[1.269:67]","endTime":1639198871312,"exampleData":{"datasetIdentifierCode":"97a7d966-7261-49d4-bc08-c4900981f092"},"exampleIndex":268},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51901,"millis":0.051901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:10.477 karate.env system property was: null \n"},{"result":{"nanos":41601,"millis":0.041601,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":2518723,"millis":2.518723,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":152202,"millis":0.152202,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":416504,"millis":0.416504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":141901,"millis":0.141901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":471005,"millis":0.471005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":216202,"millis":0.216202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49501,"millis":0.049501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24501,"millis":0.024501,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862214088,"millis":862.214088,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1082611,"millis":1.082611,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'"}},{"result":{"nanos":914208,"millis":0.914208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":850308,"millis":0.850308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":907909,"millis":0.907909,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":932909,"millis":0.932909,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1002609,"millis":1.002609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":784707,"millis":0.784707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":699806,"millis":0.699806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":697106,"millis":0.697106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":142402,"millis":0.142402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":295202,"millis":0.295202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:11.353 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":867709,"millis":0.867709,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":316903,"millis":0.316903,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:11.354 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":726106,"millis":0.726106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":341203,"millis":0.341203,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:11.355 [print] #notpresent \n"},{"result":{"nanos":98401,"millis":0.098401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":3635834,"millis":3.635834,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:11.359 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":8107175,"millis":8.107175,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":223002,"millis":0.223002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:11.367 [print] Beheer PDOK \n"},{"result":{"nanos":114401,"millis":0.114401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:11.367 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n"},{"result":{"nanos":932709,"millis":0.932709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":588306,"millis":0.588306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339803,"millis":0.339803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.049258,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"65f9628b-0a58-4348-8fff-c2d02788acdb","startTime":1639198870473,"refId":"[1.270:67]","endTime":1639198871369,"exampleData":{"datasetIdentifierCode":"65f9628b-0a58-4348-8fff-c2d02788acdb"},"exampleIndex":269},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:11.013 karate.env system property was: null \n"},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":165001,"millis":0.165001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109101,"millis":0.109101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367703,"millis":0.367703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104701,"millis":0.104701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431304,"millis":0.431304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94701,"millis":0.094701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":78100,"millis":0.0781,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854350215,"millis":854.350215,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1099310,"millis":1.09931,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":856908,"millis":0.856908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":882308,"millis":0.882308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":869108,"millis":0.869108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":854608,"millis":0.854608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":820008,"millis":0.820008,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":741007,"millis":0.741007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":917308,"millis":0.917308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":700307,"millis":0.700307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":160901,"millis":0.160901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96001,"millis":0.096001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:11.878 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1887318,"millis":1.887318,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":592506,"millis":0.592506,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:11.881 [print] OGC:WMS \n"},{"result":{"nanos":927308,"millis":0.927308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":596305,"millis":0.596305,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:11.882 [print] #notpresent \n"},{"result":{"nanos":100601,"millis":0.100601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":463105,"millis":0.463105,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:11.883 [print] OGC:WMS \n"},{"result":{"nanos":804007,"millis":0.804007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":468105,"millis":0.468105,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:11.884 [print] Beheer PDOK \n"},{"result":{"nanos":643906,"millis":0.643906,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:11.885 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n"},{"result":{"nanos":798807,"millis":0.798807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":482005,"millis":0.482005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292803,"millis":0.292803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.994377,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","startTime":1639198871012,"refId":"[1.271:67]","endTime":1639198871886,"exampleData":{"datasetIdentifierCode":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a"},"exampleIndex":270},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43201,"millis":0.043201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:11.153 karate.env system property was: null \n"},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":208102,"millis":0.208102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108701,"millis":0.108701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":412504,"millis":0.412504,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":113701,"millis":0.113701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":476204,"millis":0.476204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49901,"millis":0.049901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860916375,"millis":860.916375,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1255211,"millis":1.255211,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":855407,"millis":0.855407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1304012,"millis":1.304012,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":857608,"millis":0.857608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":934109,"millis":0.934109,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":818307,"millis":0.818307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29401,"millis":0.029401,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":633406,"millis":0.633406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":768007,"millis":0.768007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":743507,"millis":0.743507,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":795707,"millis":0.795707,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":569705,"millis":0.569705,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:12.025 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":743807,"millis":0.743807,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":535705,"millis":0.535705,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:12.027 [print] OGC:WFS \n"},{"result":{"nanos":689306,"millis":0.689306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91100,"millis":0.0911,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:12.027 [print] #notpresent \n"},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":173102,"millis":0.173102,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:12.028 [print] OGC:WFS \n"},{"result":{"nanos":1295112,"millis":1.295112,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":385604,"millis":0.385604,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:12.030 [print] Beheer PDOK \n"},{"result":{"nanos":185602,"millis":0.185602,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:12.030 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n"},{"result":{"nanos":978409,"millis":0.978409,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":596406,"millis":0.596406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":394904,"millis":0.394904,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.291534,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","startTime":1639198871152,"refId":"[1.272:67]","endTime":1639198872032,"exampleData":{"datasetIdentifierCode":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32"},"exampleIndex":271},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:11.315 karate.env system property was: null \n"},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":192602,"millis":0.192602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":148701,"millis":0.148701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":403004,"millis":0.403004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":108601,"millis":0.108601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":500405,"millis":0.500405,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":158601,"millis":0.158601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58601,"millis":0.058601,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":63701,"millis":0.063701,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870149862,"millis":870.149862,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1159911,"millis":1.159911,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":860608,"millis":0.860608,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":720907,"millis":0.720907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1089110,"millis":1.08911,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":848108,"millis":0.848108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3361231,"millis":3.361231,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":780107,"millis":0.780107,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":729907,"millis":0.729907,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":656006,"millis":0.656006,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":169702,"millis":0.169702,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120301,"millis":0.120301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:12.198 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n"},{"result":{"nanos":816508,"millis":0.816508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":117101,"millis":0.117101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:12.199 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":696606,"millis":0.696606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111101,"millis":0.111101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:12.200 [print] #notpresent \n"},{"result":{"nanos":123201,"millis":0.123201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":139201,"millis":0.139201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:12.200 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1119111,"millis":1.119111,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":197202,"millis":0.197202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:12.201 [print] Beheer PDOK \n"},{"result":{"nanos":200002,"millis":0.200002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:12.202 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":985109,"millis":0.985109,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":662606,"millis":0.662606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":321302,"millis":0.321302,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":888.009627,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a2724dae-ebad-4a07-9405-49bddfde3368","startTime":1639198871314,"refId":"[1.273:67]","endTime":1639198872204,"exampleData":{"datasetIdentifierCode":"a2724dae-ebad-4a07-9405-49bddfde3368"},"exampleIndex":272},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62601,"millis":0.062601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:11.374 karate.env system property was: null \n"},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":148302,"millis":0.148302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":102301,"millis":0.102301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356803,"millis":0.356803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105901,"millis":0.105901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":552205,"millis":0.552205,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36701,"millis":0.036701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838944572,"millis":838.944572,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":687107,"millis":0.687107,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":702106,"millis":0.702106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":686306,"millis":0.686306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":695907,"millis":0.695907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":658606,"millis":0.658606,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":748007,"millis":0.748007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":721207,"millis":0.721207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":589206,"millis":0.589206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":575805,"millis":0.575805,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":157902,"millis":0.157902,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":91701,"millis":0.091701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:12.223 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":751507,"millis":0.751507,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":163101,"millis":0.163101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:12.224 [print] OGC:WMS \n"},{"result":{"nanos":628805,"millis":0.628805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:12.224 [print] #notpresent \n"},{"result":{"nanos":78401,"millis":0.078401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":224902,"millis":0.224902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:12.225 [print] OGC:WMS \n"},{"result":{"nanos":745407,"millis":0.745407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131002,"millis":0.131002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:12.226 [print] Beheer PDOK \n"},{"result":{"nanos":191901,"millis":0.191901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:12.226 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":694307,"millis":0.694307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":405204,"millis":0.405204,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":304303,"millis":0.304303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":851.304387,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f57bdee7-4027-4aa2-8312-4051b854be3c","startTime":1639198871373,"refId":"[1.274:67]","endTime":1639198872227,"exampleData":{"datasetIdentifierCode":"f57bdee7-4027-4aa2-8312-4051b854be3c"},"exampleIndex":273},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:11.889 karate.env system property was: null \n"},{"result":{"nanos":35201,"millis":0.035201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111701,"millis":0.111701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":104701,"millis":0.104701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343803,"millis":0.343803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102101,"millis":0.102101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":562406,"millis":0.562406,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":409404,"millis":0.409404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59501,"millis":0.059501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":5701,"millis":0.005701,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865257716,"millis":865.257716,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1197311,"millis":1.197311,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":866908,"millis":0.866908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":776808,"millis":0.776808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":898608,"millis":0.898608,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":967809,"millis":0.967809,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":857508,"millis":0.857508,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":693406,"millis":0.693406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":726207,"millis":0.726207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":668007,"millis":0.668007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":169601,"millis":0.169601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1048610,"millis":1.04861,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:12.765 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":931109,"millis":0.931109,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":144701,"millis":0.144701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:12.767 [print] #notpresent \n"},{"result":{"nanos":1103010,"millis":1.10301,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76001,"millis":0.076001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:12.768 [print] OGC:WMS \n"},{"result":{"nanos":416804,"millis":0.416804,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":133901,"millis":0.133901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:12.769 [print] #notpresent \n"},{"result":{"nanos":1116310,"millis":1.11631,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129802,"millis":0.129802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:12.770 [print] Beheer PDOK \n"},{"result":{"nanos":461104,"millis":0.461104,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:12.771 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":1403513,"millis":1.403513,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":514105,"millis":0.514105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":354203,"millis":0.354203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.826481,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f76bdce5-344e-415f-8f2c-972755e80b65","startTime":1639198871888,"refId":"[1.275:67]","endTime":1639198872773,"exampleData":{"datasetIdentifierCode":"f76bdce5-344e-415f-8f2c-972755e80b65"},"exampleIndex":274},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:12.035 karate.env system property was: null \n"},{"result":{"nanos":34801,"millis":0.034801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109401,"millis":0.109401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103001,"millis":0.103001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":818008,"millis":0.818008,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":283602,"millis":0.283602,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":601805,"millis":0.601805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48401,"millis":0.048401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":143301,"millis":0.143301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863430799,"millis":863.430799,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1165011,"millis":1.165011,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":741207,"millis":0.741207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":705607,"millis":0.705607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":712006,"millis":0.712006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":752107,"millis":0.752107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1120811,"millis":1.120811,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":73201,"millis":0.073201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1451013,"millis":1.451013,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":689006,"millis":0.689006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":646306,"millis":0.646306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":196502,"millis":0.196502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127401,"millis":0.127401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:12.923 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1127110,"millis":1.12711,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":204802,"millis":0.204802,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:12.924 [print] OGC:WMS \n"},{"result":{"nanos":679907,"millis":0.679907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:12.925 [print] #notpresent \n"},{"result":{"nanos":91300,"millis":0.0913,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121802,"millis":0.121802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:12.925 [print] OGC:WMS \n"},{"result":{"nanos":1586915,"millis":1.586915,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120701,"millis":0.120701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:12.927 [print] Beheer PDOK \n"},{"result":{"nanos":182002,"millis":0.182002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:12.927 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":748007,"millis":0.748007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":548105,"millis":0.548105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":325803,"millis":0.325803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.023851,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"cea38797-ea4b-4969-b979-8d25eb543a6c","startTime":1639198872034,"refId":"[1.276:67]","endTime":1639198872929,"exampleData":{"datasetIdentifierCode":"cea38797-ea4b-4969-b979-8d25eb543a6c"},"exampleIndex":275},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42401,"millis":0.042401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:12.206 karate.env system property was: null \n"},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109901,"millis":0.109901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":102901,"millis":0.102901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":371003,"millis":0.371003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":138301,"millis":0.138301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424904,"millis":0.424904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50801,"millis":0.050801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":92801,"millis":0.092801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41301,"millis":0.041301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":5901,"millis":0.005901,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865007113,"millis":865.007113,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1119010,"millis":1.11901,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":815008,"millis":0.815008,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":826308,"millis":0.826308,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":695706,"millis":0.695706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2197821,"millis":2.197821,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":779007,"millis":0.779007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":815108,"millis":0.815108,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":849108,"millis":0.849108,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":636906,"millis":0.636906,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":800208,"millis":0.800208,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":318403,"millis":0.318403,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:13.084 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n"},{"result":{"nanos":1283712,"millis":1.283712,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":282103,"millis":0.282103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:13.085 [print] OGC:WFS \n"},{"result":{"nanos":757907,"millis":0.757907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":234702,"millis":0.234702,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:13.086 [print] #notpresent \n"},{"result":{"nanos":96301,"millis":0.096301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":298003,"millis":0.298003,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:13.086 [print] OGC:WFS \n"},{"result":{"nanos":930609,"millis":0.930609,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":326803,"millis":0.326803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:13.088 [print] Beheer PDOK \n"},{"result":{"nanos":258902,"millis":0.258902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:13.088 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":760907,"millis":0.760907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":443804,"millis":0.443804,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":338903,"millis":0.338903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.383977,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e75b66ae-21b1-4303-aeb3-787608707b23","startTime":1639198872206,"refId":"[1.277:67]","endTime":1639198873090,"exampleData":{"datasetIdentifierCode":"e75b66ae-21b1-4303-aeb3-787608707b23"},"exampleIndex":276},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:12.230 karate.env system property was: null \n"},{"result":{"nanos":48301,"millis":0.048301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":295903,"millis":0.295903,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":122901,"millis":0.122901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":621206,"millis":0.621206,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":162701,"millis":0.162701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438304,"millis":0.438304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55901,"millis":0.055901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15701,"millis":0.015701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875191709,"millis":875.191709,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":968909,"millis":0.968909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'"}},{"result":{"nanos":1799217,"millis":1.799217,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1161311,"millis":1.161311,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":961909,"millis":0.961909,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":995409,"millis":0.995409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":997609,"millis":0.997609,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1398513,"millis":1.398513,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":777707,"millis":0.777707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":749907,"millis":0.749907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":168502,"millis":0.168502,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":307103,"millis":0.307103,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:13.118 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1014609,"millis":1.014609,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":195301,"millis":0.195301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:13.120 [print] #notpresent \n"},{"result":{"nanos":820208,"millis":0.820208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":228402,"millis":0.228402,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:13.121 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":91401,"millis":0.091401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":245203,"millis":0.245203,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:13.121 [print] #notpresent \n"},{"result":{"nanos":1783917,"millis":1.783917,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":298903,"millis":0.298903,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:13.123 [print] Beheer PDOK \n"},{"result":{"nanos":271402,"millis":0.271402,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:13.124 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n"},{"result":{"nanos":949709,"millis":0.949709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485905,"millis":0.485905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344503,"millis":0.344503,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":894.191987,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","startTime":1639198872230,"refId":"[1.278:67]","endTime":1639198873125,"exampleData":{"datasetIdentifierCode":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f"},"exampleIndex":277},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60001,"millis":0.060001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:12.776 karate.env system property was: null \n"},{"result":{"nanos":94901,"millis":0.094901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121001,"millis":0.121001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":302003,"millis":0.302003,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":788507,"millis":0.788507,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":193901,"millis":0.193901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470005,"millis":0.470005,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":146101,"millis":0.146101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":384904,"millis":0.384904,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852483197,"millis":852.483197,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1115010,"millis":1.11501,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'"}},{"result":{"nanos":791208,"millis":0.791208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1559914,"millis":1.559914,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":729807,"millis":0.729807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":777607,"millis":0.777607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":833107,"millis":0.833107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35101,"millis":0.035101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":694706,"millis":0.694706,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":716307,"millis":0.716307,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1229612,"millis":1.229612,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88301,"millis":0.088301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":142101,"millis":0.142101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:13.641 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1550015,"millis":1.550015,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99101,"millis":0.099101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:13.642 [print] OGC:WMS \n"},{"result":{"nanos":692606,"millis":0.692606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108901,"millis":0.108901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:13.643 [print] #notpresent \n"},{"result":{"nanos":39601,"millis":0.039601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:13.643 [print] OGC:WMS \n"},{"result":{"nanos":749906,"millis":0.749906,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:13.644 [print] Beheer PDOK \n"},{"result":{"nanos":81301,"millis":0.081301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:13.644 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n"},{"result":{"nanos":701907,"millis":0.701907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":594905,"millis":0.594905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":379104,"millis":0.379104,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.011349,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3d759186-7cee-4218-aa44-165f3922fbbb","startTime":1639198872775,"refId":"[1.279:67]","endTime":1639198873646,"exampleData":{"datasetIdentifierCode":"3d759186-7cee-4218-aa44-165f3922fbbb"},"exampleIndex":278},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:12.931 karate.env system property was: null \n"},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":108801,"millis":0.108801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":102801,"millis":0.102801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":363003,"millis":0.363003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101101,"millis":0.101101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443404,"millis":0.443404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38601,"millis":0.038601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":41401,"millis":0.041401,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845051129,"millis":845.051129,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1138410,"millis":1.13841,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'"}},{"result":{"nanos":930309,"millis":0.930309,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":902208,"millis":0.902208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":903108,"millis":0.903108,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2390023,"millis":2.390023,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":906308,"millis":0.906308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":679806,"millis":0.679806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":675106,"millis":0.675106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":665707,"millis":0.665707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":191801,"millis":0.191801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":124401,"millis":0.124401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:13.788 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1570714,"millis":1.570714,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":112902,"millis":0.112902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:13.790 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":782207,"millis":0.782207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70101,"millis":0.070101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:13.790 [print] #notpresent \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":108301,"millis":0.108301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:13.791 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":928809,"millis":0.928809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80501,"millis":0.080501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:13.792 [print] Beheer PDOK \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:13.792 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n"},{"result":{"nanos":854908,"millis":0.854908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":644206,"millis":0.644206,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":321803,"millis":0.321803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.593981,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","startTime":1639198872931,"refId":"[1.280:67]","endTime":1639198873794,"exampleData":{"datasetIdentifierCode":"ec73f245-66ce-4144-ac27-5966c80a4b3a"},"exampleIndex":279},{"sectionIndex":0,"stepResults":[{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:13.093 karate.env system property was: null \n"},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107601,"millis":0.107601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118901,"millis":0.118901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":385104,"millis":0.385104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":140301,"millis":0.140301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1186611,"millis":1.186611,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58001,"millis":0.058001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":193202,"millis":0.193202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":161101,"millis":0.161101,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862759993,"millis":862.759993,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1062909,"millis":1.062909,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'"}},{"result":{"nanos":917308,"millis":0.917308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":734107,"millis":0.734107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1324512,"millis":1.324512,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":857808,"millis":0.857808,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":726307,"millis":0.726307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":571005,"millis":0.571005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":568606,"millis":0.568606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1264312,"millis":1.264312,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97601,"millis":0.097601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":149501,"millis":0.149501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:13.967 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1117811,"millis":1.117811,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":78900,"millis":0.0789,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:13.968 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":954009,"millis":0.954009,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72701,"millis":0.072701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:13.969 [print] #notpresent \n"},{"result":{"nanos":35101,"millis":0.035101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":479604,"millis":0.479604,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:13.970 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":974009,"millis":0.974009,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80001,"millis":0.080001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:13.971 [print] Beheer PDOK \n"},{"result":{"nanos":55201,"millis":0.055201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:13.971 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n"},{"result":{"nanos":1435613,"millis":1.435613,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":599106,"millis":0.599106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":295703,"millis":0.295703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.743951,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","startTime":1639198873092,"refId":"[1.281:67]","endTime":1639198873973,"exampleData":{"datasetIdentifierCode":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7"},"exampleIndex":280},{"sectionIndex":0,"stepResults":[{"result":{"nanos":49601,"millis":0.049601,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:13.128 karate.env system property was: null \n"},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":107801,"millis":0.107801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":102101,"millis":0.102101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":317903,"millis":0.317903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103101,"millis":0.103101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":398804,"millis":0.398804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":173002,"millis":0.173002,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853028802,"millis":853.028802,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1729616,"millis":1.729616,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'"}},{"result":{"nanos":1001810,"millis":1.00181,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1038909,"millis":1.038909,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1378013,"millis":1.378013,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":861908,"millis":0.861908,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":679107,"millis":0.679107,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1014710,"millis":1.01471,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":553205,"millis":0.553205,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":583605,"millis":0.583605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140802,"millis":0.140802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":582105,"millis":0.582105,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:13.993 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1190711,"millis":1.190711,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93201,"millis":0.093201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:13.994 [print] OGC:WFS \n"},{"result":{"nanos":754907,"millis":0.754907,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97001,"millis":0.097001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:13.995 [print] #notpresent \n"},{"result":{"nanos":122101,"millis":0.122101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74901,"millis":0.074901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:13.995 [print] OGC:WFS \n"},{"result":{"nanos":1047510,"millis":1.04751,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131901,"millis":0.131901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:13.997 [print] Beheer PDOK \n"},{"result":{"nanos":200702,"millis":0.200702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:13.997 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n"},{"result":{"nanos":817408,"millis":0.817408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":708406,"millis":0.708406,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":390203,"millis":0.390203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.739257,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","startTime":1639198873127,"refId":"[1.282:67]","endTime":1639198873999,"exampleData":{"datasetIdentifierCode":"5bb85b77-fffd-449b-bd61-f076fe07cc4b"},"exampleIndex":281},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:13.648 karate.env system property was: null \n"},{"result":{"nanos":33901,"millis":0.033901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71000,"millis":0.071,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":993809,"millis":0.993809,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385004,"millis":0.385004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":56801,"millis":0.056801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66501,"millis":0.066501,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850174073,"millis":850.174073,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":903108,"millis":0.903108,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'"}},{"result":{"nanos":1352813,"millis":1.352813,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":622605,"millis":0.622605,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":577305,"millis":0.577305,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":679106,"millis":0.679106,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":604306,"millis":0.604306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":616506,"millis":0.616506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1167910,"millis":1.16791,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":532704,"millis":0.532704,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":103801,"millis":0.103801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:14.508 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":804708,"millis":0.804708,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108101,"millis":0.108101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:14.509 [print] OGC:WMS \n"},{"result":{"nanos":1179811,"millis":1.179811,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130301,"millis":0.130301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:14.510 [print] #notpresent \n"},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":69400,"millis":0.0694,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:14.511 [print] OGC:WMS \n"},{"result":{"nanos":712907,"millis":0.712907,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":128901,"millis":0.128901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:14.511 [print] Beheer PDOK \n"},{"result":{"nanos":57701,"millis":0.057701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:14.512 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n"},{"result":{"nanos":1264111,"millis":1.264111,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":566905,"millis":0.566905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":304903,"millis":0.304903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.651002,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"09588464-071b-47be-8cbe-d15f2e1f9634","startTime":1639198873648,"refId":"[1.283:67]","endTime":1639198874514,"exampleData":{"datasetIdentifierCode":"09588464-071b-47be-8cbe-d15f2e1f9634"},"exampleIndex":282},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:13.796 karate.env system property was: null \n"},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57501,"millis":0.057501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315103,"millis":0.315103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1046609,"millis":1.046609,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35701,"millis":0.035701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35601,"millis":0.035601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848427230,"millis":848.42723,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":999709,"millis":0.999709,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":7520269,"millis":7.520269,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1179011,"millis":1.179011,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1287612,"millis":1.287612,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":895208,"millis":0.895208,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1446013,"millis":1.446013,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33601,"millis":0.033601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1144810,"millis":1.14481,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":682006,"millis":0.682006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1307211,"millis":1.307211,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":881908,"millis":0.881908,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":727206,"millis":0.727206,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:14.665 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":617906,"millis":0.617906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":427404,"millis":0.427404,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:14.666 [print] #notpresent \n"},{"result":{"nanos":608906,"millis":0.608906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":458504,"millis":0.458504,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:14.667 [print] OGC:WFS \n"},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1090609,"millis":1.090609,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:14.668 [print] #notpresent \n"},{"result":{"nanos":897908,"millis":0.897908,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":479304,"millis":0.479304,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:14.669 [print] Beheer PDOK \n"},{"result":{"nanos":886008,"millis":0.886008,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:14.670 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":757106,"millis":0.757106,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":565605,"millis":0.565605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":300203,"millis":0.300203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.422873,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c374d556-7b6e-459b-83c7-74da6ad90a59","startTime":1639198873795,"refId":"[1.284:67]","endTime":1639198874672,"exampleData":{"datasetIdentifierCode":"c374d556-7b6e-459b-83c7-74da6ad90a59"},"exampleIndex":283},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:13.975 karate.env system property was: null \n"},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61201,"millis":0.061201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1036110,"millis":1.03611,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":359804,"millis":0.359804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54101,"millis":0.054101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":409704,"millis":0.409704,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847924093,"millis":847.924093,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1133811,"millis":1.133811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":873308,"millis":0.873308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":958609,"millis":0.958609,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1121110,"millis":1.12111,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1145010,"millis":1.14501,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":779707,"millis":0.779707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":564905,"millis":0.564905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":583506,"millis":0.583506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":702606,"millis":0.702606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72101,"millis":0.072101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":286703,"millis":0.286703,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:14.835 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":746007,"millis":0.746007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86901,"millis":0.086901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:14.836 [print] OGC:WMS \n"},{"result":{"nanos":699206,"millis":0.699206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80101,"millis":0.080101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:14.836 [print] #notpresent \n"},{"result":{"nanos":55501,"millis":0.055501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86201,"millis":0.086201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:14.837 [print] OGC:WMS \n"},{"result":{"nanos":802807,"millis":0.802807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100001,"millis":0.100001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:14.838 [print] Beheer PDOK \n"},{"result":{"nanos":35601,"millis":0.035601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:14.838 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":826307,"millis":0.826307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":640305,"millis":0.640305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":293403,"millis":0.293403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.79933,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","startTime":1639198873975,"refId":"[1.285:67]","endTime":1639198874839,"exampleData":{"datasetIdentifierCode":"ac3a9efe-2154-4a4c-aae3-ea269044945d"},"exampleIndex":284},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:14.002 karate.env system property was: null \n"},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367404,"millis":0.367404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431104,"millis":0.431104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":111701,"millis":0.111701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":118502,"millis":0.118502,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":95301,"millis":0.095301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860543804,"millis":860.543804,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":683306,"millis":0.683306,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":678106,"millis":0.678106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":786407,"millis":0.786407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":704806,"millis":0.704806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":899108,"millis":0.899108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":709006,"millis":0.709006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":652106,"millis":0.652106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":763207,"millis":0.763207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":665706,"millis":0.665706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93301,"millis":0.093301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":103701,"millis":0.103701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:14.872 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":719606,"millis":0.719606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":123201,"millis":0.123201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:14.873 [print] #notpresent \n"},{"result":{"nanos":610906,"millis":0.610906,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80200,"millis":0.0802,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:14.873 [print] #notpresent \n"},{"result":{"nanos":32401,"millis":0.032401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:14.873 [print] #notpresent \n"},{"result":{"nanos":749506,"millis":0.749506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100101,"millis":0.100101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:14.874 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":32301,"millis":0.032301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:14.874 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":766607,"millis":0.766607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":575605,"millis":0.575605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":358804,"millis":0.358804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.963714,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b4b59b2c-156d-412e-b8f0-c0779402de80","startTime":1639198874001,"refId":"[1.286:67]","endTime":1639198874876,"exampleData":{"datasetIdentifierCode":"b4b59b2c-156d-412e-b8f0-c0779402de80"},"exampleIndex":285},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:14.517 karate.env system property was: null \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50001,"millis":0.050001,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":372204,"millis":0.372204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437204,"millis":0.437204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43301,"millis":0.043301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":204901,"millis":0.204901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":131801,"millis":0.131801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":136302,"millis":0.136302,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0fa448bb-332b-40b2-adab-13626b29bee6'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849819421,"millis":849.819421,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":957109,"millis":0.957109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0fa448bb-332b-40b2-adab-13626b29bee6'"}},{"result":{"nanos":702506,"millis":0.702506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":664306,"millis":0.664306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":623805,"millis":0.623805,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":822308,"millis":0.822308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":679806,"millis":0.679806,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30201,"millis":0.030201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":598605,"millis":0.598605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":545505,"millis":0.545505,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":535405,"millis":0.535405,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":168302,"millis":0.168302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":149901,"millis":0.149901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:15.376 [print] https:\/\/service.pdok.nl\/kadaster\/lu\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":699407,"millis":0.699407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:15.377 [print] INSPIRE Atom \n"},{"result":{"nanos":625705,"millis":0.625705,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86301,"millis":0.086301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:15.377 [print] #notpresent \n"},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99701,"millis":0.099701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:15.378 [print] INSPIRE Atom \n"},{"result":{"nanos":753607,"millis":0.753607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71701,"millis":0.071701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:15.378 [print] Beheer PDOK \n"},{"result":{"nanos":121001,"millis":0.121001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:15.379 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a88#MD_DataIdentification \n"},{"result":{"nanos":690506,"millis":0.690506,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":595306,"millis":0.595306,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":311003,"millis":0.311003,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0fa448bb-332b-40b2-adab-13626b29bee6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.025132,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0fa448bb-332b-40b2-adab-13626b29bee6","startTime":1639198874517,"refId":"[1.287:67]","endTime":1639198875380,"exampleData":{"datasetIdentifierCode":"0fa448bb-332b-40b2-adab-13626b29bee6"},"exampleIndex":286},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:14.675 karate.env system property was: null \n"},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61101,"millis":0.061101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":350503,"millis":0.350503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39601,"millis":0.039601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1232711,"millis":1.232711,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":415204,"millis":0.415204,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":555505,"millis":0.555505,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37101,"millis":0.037101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56901,"millis":0.056901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848543209,"millis":848.543209,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1409213,"millis":1.409213,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":698306,"millis":0.698306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":667206,"millis":0.667206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":676607,"millis":0.676607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":716706,"millis":0.716706,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":625605,"millis":0.625605,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":630605,"millis":0.630605,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":749406,"millis":0.749406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":614605,"millis":0.614605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":468005,"millis":0.468005,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":298402,"millis":0.298402,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:15.535 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":728806,"millis":0.728806,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":308503,"millis":0.308503,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:15.536 [print] INSPIRE Atom \n"},{"result":{"nanos":588406,"millis":0.588406,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":303502,"millis":0.303502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:15.537 [print] #notpresent \n"},{"result":{"nanos":88701,"millis":0.088701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":318703,"millis":0.318703,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:15.538 [print] INSPIRE Atom \n"},{"result":{"nanos":913508,"millis":0.913508,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":307903,"millis":0.307903,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:15.539 [print] Beheer PDOK \n"},{"result":{"nanos":290803,"millis":0.290803,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:15.539 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":707506,"millis":0.707506,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":436104,"millis":0.436104,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":286403,"millis":0.286403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.346751,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"54122631-d343-40be-9c28-e44626b37a0e","startTime":1639198874674,"refId":"[1.288:67]","endTime":1639198875541,"exampleData":{"datasetIdentifierCode":"54122631-d343-40be-9c28-e44626b37a0e"},"exampleIndex":287},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:14.842 karate.env system property was: null \n"},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48801,"millis":0.048801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":363703,"millis":0.363703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375504,"millis":0.375504,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48401,"millis":0.048401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853110651,"millis":853.110651,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1034709,"millis":1.034709,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":689506,"millis":0.689506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":676306,"millis":0.676306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":648405,"millis":0.648405,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":788007,"millis":0.788007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":800807,"millis":0.800807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":580005,"millis":0.580005,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":554905,"millis":0.554905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":576905,"millis":0.576905,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":160301,"millis":0.160301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":114201,"millis":0.114201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:15.703 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":921309,"millis":0.921309,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119201,"millis":0.119201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:15.704 [print] OGC:WFS \n"},{"result":{"nanos":888008,"millis":0.888008,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69401,"millis":0.069401,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:15.705 [print] #notpresent \n"},{"result":{"nanos":89001,"millis":0.089001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114901,"millis":0.114901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:15.706 [print] OGC:WFS \n"},{"result":{"nanos":946708,"millis":0.946708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":196401,"millis":0.196401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:15.707 [print] Beheer PDOK \n"},{"result":{"nanos":78801,"millis":0.078801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:15.707 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":912809,"millis":0.912809,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":459704,"millis":0.459704,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":289903,"millis":0.289903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.937864,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","startTime":1639198874842,"refId":"[1.289:67]","endTime":1639198875708,"exampleData":{"datasetIdentifierCode":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1"},"exampleIndex":288},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:14.878 karate.env system property was: null \n"},{"result":{"nanos":29701,"millis":0.029701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":342303,"millis":0.342303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":362703,"millis":0.362703,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81301,"millis":0.081301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853756257,"millis":853.756257,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":837308,"millis":0.837308,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":807207,"millis":0.807207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":821808,"millis":0.821808,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":751507,"millis":0.751507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":715406,"millis":0.715406,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":712106,"millis":0.712106,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":638806,"millis":0.638806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":598705,"millis":0.598705,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":607306,"millis":0.607306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":286202,"millis":0.286202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":414304,"millis":0.414304,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:15.741 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n"},{"result":{"nanos":1215111,"millis":1.215111,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150101,"millis":0.150101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:15.742 [print] OGC:WFS \n"},{"result":{"nanos":759507,"millis":0.759507,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":74301,"millis":0.074301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:15.743 [print] #notpresent \n"},{"result":{"nanos":85801,"millis":0.085801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":89101,"millis":0.089101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:15.743 [print] OGC:WFS \n"},{"result":{"nanos":894108,"millis":0.894108,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116601,"millis":0.116601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:15.744 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":91101,"millis":0.091101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:15.744 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":829008,"millis":0.829008,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":520705,"millis":0.520705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":475004,"millis":0.475004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.38768,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"702060c1-b3fd-44ec-8cc6-d4249d150110","startTime":1639198874878,"refId":"[1.290:67]","endTime":1639198875746,"exampleData":{"datasetIdentifierCode":"702060c1-b3fd-44ec-8cc6-d4249d150110"},"exampleIndex":289},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:15.398 karate.env system property was: null \n"},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":153301,"millis":0.153301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":124702,"millis":0.124702,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":560805,"millis":0.560805,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":158301,"millis":0.158301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434904,"millis":0.434904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37501,"millis":0.037501,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36001,"millis":0.036001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15001,"millis":0.015001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848983713,"millis":848.983713,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":931109,"millis":0.931109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":721106,"millis":0.721106,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":905009,"millis":0.905009,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":816507,"millis":0.816507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":712307,"millis":0.712307,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":824307,"millis":0.824307,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":606905,"millis":0.606905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":639906,"millis":0.639906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1525314,"millis":1.525314,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":209002,"millis":0.209002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":135802,"millis":0.135802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:16.257 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":989609,"millis":0.989609,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150602,"millis":0.150602,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:16.259 [print] OGC:WFS \n"},{"result":{"nanos":915608,"millis":0.915608,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90501,"millis":0.090501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:16.260 [print] #notpresent \n"},{"result":{"nanos":200602,"millis":0.200602,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":155902,"millis":0.155902,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:16.260 [print] OGC:WFS \n"},{"result":{"nanos":945808,"millis":0.945808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148801,"millis":0.148801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:16.261 [print] Beheer PDOK \n"},{"result":{"nanos":207302,"millis":0.207302,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:16.261 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":990609,"millis":0.990609,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":583405,"millis":0.583405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":311703,"millis":0.311703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.430555,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6b608d4e-5628-4d59-97fc-0322c57357b2","startTime":1639198875398,"refId":"[1.291:67]","endTime":1639198876263,"exampleData":{"datasetIdentifierCode":"6b608d4e-5628-4d59-97fc-0322c57357b2"},"exampleIndex":290},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58401,"millis":0.058401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:15.543 karate.env system property was: null \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":105000,"millis":0.105,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118201,"millis":0.118201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":365203,"millis":0.365203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103801,"millis":0.103801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":439004,"millis":0.439004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49301,"millis":0.049301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":145301,"millis":0.145301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":39001,"millis":0.039001,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":4801,"millis":0.004801,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852778047,"millis":852.778047,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1411913,"millis":1.411913,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":673906,"millis":0.673906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":666406,"millis":0.666406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":606906,"millis":0.606906,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":794107,"millis":0.794107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":656606,"millis":0.656606,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":604306,"millis":0.604306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":611706,"millis":0.611706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":629305,"millis":0.629305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71600,"millis":0.0716,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":264303,"millis":0.264303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:16.405 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":717406,"millis":0.717406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108901,"millis":0.108901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:16.406 [print] OGC:WMS \n"},{"result":{"nanos":646605,"millis":0.646605,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":104000,"millis":0.104,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:16.407 [print] #notpresent \n"},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121401,"millis":0.121401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:16.407 [print] OGC:WMS \n"},{"result":{"nanos":956909,"millis":0.956909,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":105201,"millis":0.105201,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:16.408 [print] Beheer PDOK \n"},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:16.408 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":686707,"millis":0.686707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526604,"millis":0.526604,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":360403,"millis":0.360403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.720462,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","startTime":1639198875543,"refId":"[1.292:67]","endTime":1639198876410,"exampleData":{"datasetIdentifierCode":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36"},"exampleIndex":291},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:15.713 karate.env system property was: null \n"},{"result":{"nanos":53401,"millis":0.053401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":111601,"millis":0.111601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":105901,"millis":0.105901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":403604,"millis":0.403604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":110101,"millis":0.110101,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":501704,"millis":0.501704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70901,"millis":0.070901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":46101,"millis":0.046101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":839115324,"millis":839.115324,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1086710,"millis":1.08671,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":866208,"millis":0.866208,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":782707,"millis":0.782707,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":879808,"millis":0.879808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1201811,"millis":1.201811,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":816308,"millis":0.816308,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":704207,"millis":0.704207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":846508,"millis":0.846508,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":947308,"millis":0.947308,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":84400,"millis":0.0844,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":152702,"millis":0.152702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:16.564 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1021809,"millis":1.021809,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119501,"millis":0.119501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:16.565 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":887608,"millis":0.887608,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:16.566 [print] #notpresent \n"},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78501,"millis":0.078501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:16.566 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":972109,"millis":0.972109,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90000,"millis":0.09,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:16.567 [print] Beheer PDOK \n"},{"result":{"nanos":143201,"millis":0.143201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:16.567 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n"},{"result":{"nanos":813907,"millis":0.813907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":648006,"millis":0.648006,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":396704,"millis":0.396704,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.421362,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d7a395a2-8673-4794-a5a6-fed6492cd580","startTime":1639198875713,"refId":"[1.293:67]","endTime":1639198876569,"exampleData":{"datasetIdentifierCode":"d7a395a2-8673-4794-a5a6-fed6492cd580"},"exampleIndex":292},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:15.749 karate.env system property was: null \n"},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":114601,"millis":0.114601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":105301,"millis":0.105301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370603,"millis":0.370603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105301,"millis":0.105301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":587706,"millis":0.587706,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37901,"millis":0.037901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15601,"millis":0.015601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855691475,"millis":855.691475,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":943508,"millis":0.943508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":872407,"millis":0.872407,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":851107,"millis":0.851107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":874708,"millis":0.874708,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":848607,"millis":0.848607,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1014910,"millis":1.01491,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":949309,"millis":0.949309,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":827707,"millis":0.827707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":699406,"millis":0.699406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":263103,"millis":0.263103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":169201,"millis":0.169201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:16.616 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n"},{"result":{"nanos":683306,"millis":0.683306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116401,"millis":0.116401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:16.616 [print] #notpresent \n"},{"result":{"nanos":728806,"millis":0.728806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":166202,"millis":0.166202,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:16.617 [print] INSPIRE Atom \n"},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":315103,"millis":0.315103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:16.618 [print] #notpresent \n"},{"result":{"nanos":1098310,"millis":1.09831,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":176501,"millis":0.176501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:16.619 [print] Beheer PDOK \n"},{"result":{"nanos":235503,"millis":0.235503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:16.619 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n"},{"result":{"nanos":864007,"millis":0.864007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":906908,"millis":0.906908,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":717407,"millis":0.717407,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.692917,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","startTime":1639198875748,"refId":"[1.294:67]","endTime":1639198876622,"exampleData":{"datasetIdentifierCode":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4"},"exampleIndex":293},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:16.266 karate.env system property was: null \n"},{"result":{"nanos":98001,"millis":0.098001,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64501,"millis":0.064501,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":485804,"millis":0.485804,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43501,"millis":0.043501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":495304,"millis":0.495304,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36401,"millis":0.036401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":107401,"millis":0.107401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":128702,"millis":0.128702,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":133902,"millis":0.133902,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872294625,"millis":872.294625,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1080810,"millis":1.08081,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":834207,"millis":0.834207,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1052209,"millis":1.052209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":989209,"millis":0.989209,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":3164729,"millis":3.164729,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":977109,"millis":0.977109,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":746806,"millis":0.746806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1796317,"millis":1.796317,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":789907,"millis":0.789907,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":149102,"millis":0.149102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":211602,"millis":0.211602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:17.152 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":884708,"millis":0.884708,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":124201,"millis":0.124201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:17.154 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":873708,"millis":0.873708,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":222002,"millis":0.222002,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:17.155 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":39501,"millis":0.039501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126401,"millis":0.126401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:17.155 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":937409,"millis":0.937409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":177901,"millis":0.177901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:17.156 [print] Beheer PDOK \n"},{"result":{"nanos":227102,"millis":0.227102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:17.157 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n"},{"result":{"nanos":875607,"millis":0.875607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":651805,"millis":0.651805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":504504,"millis":0.504504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.527999,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","startTime":1639198876265,"refId":"[1.295:67]","endTime":1639198877159,"exampleData":{"datasetIdentifierCode":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d"},"exampleIndex":294},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:16.412 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46401,"millis":0.046401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":351404,"millis":0.351404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":401704,"millis":0.401704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48701,"millis":0.048701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850445227,"millis":850.445227,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":943509,"millis":0.943509,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":697006,"millis":0.697006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":727407,"millis":0.727407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":759007,"millis":0.759007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":703207,"millis":0.703207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":606205,"millis":0.606205,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43501,"millis":0.043501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":585905,"millis":0.585905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2300620,"millis":2.30062,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":864707,"millis":0.864707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":509904,"millis":0.509904,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":460605,"millis":0.460605,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:17.273 [print] #notpresent \n"},{"result":{"nanos":676206,"millis":0.676206,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":454904,"millis":0.454904,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:17.274 [print] #notpresent \n"},{"result":{"nanos":614006,"millis":0.614006,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":416604,"millis":0.416604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:17.276 [print] #notpresent \n"},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":469004,"millis":0.469004,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:17.276 [print] #notpresent \n"},{"result":{"nanos":678307,"millis":0.678307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":433104,"millis":0.433104,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:17.277 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":703306,"millis":0.703306,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:17.278 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":711207,"millis":0.711207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":533705,"millis":0.533705,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348703,"millis":0.348703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.882477,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","startTime":1639198876412,"refId":"[1.296:67]","endTime":1639198877280,"exampleData":{"datasetIdentifierCode":"364c5d7a-d6ec-11ea-87d0-0242ac130003"},"exampleIndex":295},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:16.572 karate.env system property was: null \n"},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":67801,"millis":0.067801,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75201,"millis":0.075201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":586905,"millis":0.586905,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51501,"millis":0.051501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":443704,"millis":0.443704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115901,"millis":0.115901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17701,"millis":0.017701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":144001,"millis":0.144001,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846314689,"millis":846.314689,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":922109,"millis":0.922109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":793707,"millis":0.793707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":901209,"millis":0.901209,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":784007,"millis":0.784007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":789107,"millis":0.789107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":751707,"millis":0.751707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44801,"millis":0.044801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":696106,"millis":0.696106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":767007,"millis":0.767007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":637406,"millis":0.637406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88201,"millis":0.088201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":128001,"millis":0.128001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:17.427 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":2986328,"millis":2.986328,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":140001,"millis":0.140001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:17.431 [print] #notpresent \n"},{"result":{"nanos":1179711,"millis":1.179711,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":159201,"millis":0.159201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:17.432 [print] OGC:WFS \n"},{"result":{"nanos":270203,"millis":0.270203,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104601,"millis":0.104601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:17.432 [print] #notpresent \n"},{"result":{"nanos":1128511,"millis":1.128511,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":151601,"millis":0.151601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:17.434 [print] Beheer PDOK \n"},{"result":{"nanos":463004,"millis":0.463004,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:17.435 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":1588014,"millis":1.588014,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":858708,"millis":0.858708,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301303,"millis":0.301303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.610758,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","startTime":1639198876571,"refId":"[1.297:67]","endTime":1639198877437,"exampleData":{"datasetIdentifierCode":"e9ba7d7f-6cd1-4271-bce4-56432924b338"},"exampleIndex":296},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:16.625 karate.env system property was: null \n"},{"result":{"nanos":29701,"millis":0.029701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55101,"millis":0.055101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334303,"millis":0.334303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":430903,"millis":0.430903,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":108801,"millis":0.108801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6601,"millis":0.006601,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":841714547,"millis":841.714547,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":733607,"millis":0.733607,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'"}},{"result":{"nanos":740606,"millis":0.740606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1730215,"millis":1.730215,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":726006,"millis":0.726006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":696107,"millis":0.696107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":981409,"millis":0.981409,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":689306,"millis":0.689306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":659106,"millis":0.659106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":696406,"millis":0.696406,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":664706,"millis":0.664706,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":532705,"millis":0.532705,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:17.477 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":817508,"millis":0.817508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":358103,"millis":0.358103,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:17.478 [print] OGC:WMS \n"},{"result":{"nanos":786607,"millis":0.786607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":417704,"millis":0.417704,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:17.480 [print] #notpresent \n"},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":392103,"millis":0.392103,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:17.480 [print] OGC:WMS \n"},{"result":{"nanos":758807,"millis":0.758807,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":492905,"millis":0.492905,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:17.481 [print] Beheer PDOK \n"},{"result":{"nanos":728307,"millis":0.728307,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:17.482 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":907708,"millis":0.907708,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":710607,"millis":0.710607,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":307802,"millis":0.307802,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.537399,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ce963e61-779f-470f-a99d-48d9796e5ba3","startTime":1639198876624,"refId":"[1.298:67]","endTime":1639198877484,"exampleData":{"datasetIdentifierCode":"ce963e61-779f-470f-a99d-48d9796e5ba3"},"exampleIndex":297},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:17.161 karate.env system property was: null \n"},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61101,"millis":0.061101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":337803,"millis":0.337803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58501,"millis":0.058501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":364703,"millis":0.364703,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31401,"millis":0.031401,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":154101,"millis":0.154101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36701,"millis":0.036701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852528145,"millis":852.528145,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":886309,"millis":0.886309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":679906,"millis":0.679906,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":746407,"millis":0.746407,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":830907,"millis":0.830907,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":5076146,"millis":5.076146,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":901208,"millis":0.901208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":619705,"millis":0.619705,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":636106,"millis":0.636106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":706707,"millis":0.706707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":387103,"millis":0.387103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":245103,"millis":0.245103,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:18.027 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":743407,"millis":0.743407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":233902,"millis":0.233902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:18.028 [print] OGC:WMS \n"},{"result":{"nanos":820407,"millis":0.820407,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":230003,"millis":0.230003,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:18.029 [print] #notpresent \n"},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":201002,"millis":0.201002,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:18.029 [print] OGC:WMS \n"},{"result":{"nanos":1089610,"millis":1.08961,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158802,"millis":0.158802,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:18.031 [print] Beheer PDOK \n"},{"result":{"nanos":139001,"millis":0.139001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:18.031 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":762407,"millis":0.762407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":571005,"millis":0.571005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":348504,"millis":0.348504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.862514,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a1ed8a00-da07-472e-9627-99175d437c94","startTime":1639198877161,"refId":"[1.299:67]","endTime":1639198878033,"exampleData":{"datasetIdentifierCode":"a1ed8a00-da07-472e-9627-99175d437c94"},"exampleIndex":298},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35701,"millis":0.035701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:17.282 karate.env system property was: null \n"},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58101,"millis":0.058101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":366703,"millis":0.366703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37401,"millis":0.037401,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":359103,"millis":0.359103,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18201,"millis":0.018201,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":309603,"millis":0.309603,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864631255,"millis":864.631255,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1100810,"millis":1.10081,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'"}},{"result":{"nanos":981409,"millis":0.981409,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":806107,"millis":0.806107,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":753407,"millis":0.753407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":870308,"millis":0.870308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":805808,"millis":0.805808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":796807,"millis":0.796807,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":834608,"millis":0.834608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":695607,"millis":0.695607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":349903,"millis":0.349903,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":443504,"millis":0.443504,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:18.157 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n"},{"result":{"nanos":662906,"millis":0.662906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201102,"millis":0.201102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:18.158 [print] OGC:WCS \n"},{"result":{"nanos":684806,"millis":0.684806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":180502,"millis":0.180502,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:18.159 [print] #notpresent \n"},{"result":{"nanos":39901,"millis":0.039901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":139301,"millis":0.139301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:18.159 [print] OGC:WCS \n"},{"result":{"nanos":975409,"millis":0.975409,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":179202,"millis":0.179202,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:18.160 [print] Beheer PDOK \n"},{"result":{"nanos":155701,"millis":0.155701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:18.161 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n"},{"result":{"nanos":873208,"millis":0.873208,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":565505,"millis":0.565505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":288602,"millis":0.288602,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.486491,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","startTime":1639198877282,"refId":"[1.300:67]","endTime":1639198878162,"exampleData":{"datasetIdentifierCode":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808"},"exampleIndex":299},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:17.440 karate.env system property was: null \n"},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75501,"millis":0.075501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":420104,"millis":0.420104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":379003,"millis":0.379003,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86301,"millis":0.086301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4701,"millis":0.004701,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857108187,"millis":857.108187,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":930908,"millis":0.930908,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":782408,"millis":0.782408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":855007,"millis":0.855007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":814107,"millis":0.814107,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":827708,"millis":0.827708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":727306,"millis":0.727306,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27201,"millis":0.027201,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":648106,"millis":0.648106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":649506,"millis":0.649506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":739007,"millis":0.739007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":353903,"millis":0.353903,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":739607,"millis":0.739607,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:18.307 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n"},{"result":{"nanos":909208,"millis":0.909208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":515505,"millis":0.515505,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:18.309 [print] INSPIRE Atom \n"},{"result":{"nanos":817308,"millis":0.817308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":410004,"millis":0.410004,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:18.310 [print] #notpresent \n"},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":412304,"millis":0.412304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:18.311 [print] INSPIRE Atom \n"},{"result":{"nanos":917808,"millis":0.917808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1379912,"millis":1.379912,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:18.313 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":1398512,"millis":1.398512,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:18.314 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6f84efeb-fc1d-4565-a721-80735ea57dbd#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=88a3c1ae-902e-4efa-8663-ddd836101929#MD_DataIdentification\"] \n"},{"result":{"nanos":747907,"millis":0.747907,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":615706,"millis":0.615706,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":410604,"millis":0.410604,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.003949,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ef2a7962-8bb4-483f-ac78-851b619f357f","startTime":1639198877440,"refId":"[1.301:67]","endTime":1639198878316,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ac78-851b619f357f"},"exampleIndex":300},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:17.487 karate.env system property was: null \n"},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":95301,"millis":0.095301,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":710507,"millis":0.710507,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388303,"millis":0.388303,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":426103,"millis":0.426103,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19901,"millis":0.019901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852925949,"millis":852.925949,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":913208,"millis":0.913208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":795807,"millis":0.795807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":693506,"millis":0.693506,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":634706,"millis":0.634706,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":743207,"millis":0.743207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":689507,"millis":0.689507,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":857008,"millis":0.857008,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":771007,"millis":0.771007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":685707,"millis":0.685707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":718706,"millis":0.718706,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":506505,"millis":0.506505,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:18.350 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":732707,"millis":0.732707,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":492904,"millis":0.492904,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:18.352 [print] #notpresent \n"},{"result":{"nanos":878308,"millis":0.878308,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":437904,"millis":0.437904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:18.353 [print] OGC:WMS \n"},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":372303,"millis":0.372303,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:18.353 [print] #notpresent \n"},{"result":{"nanos":680506,"millis":0.680506,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":436204,"millis":0.436204,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:18.355 [print]  \n"},{"result":{"nanos":632306,"millis":0.632306,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:18.355 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":763807,"millis":0.763807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":602105,"millis":0.602105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":355204,"millis":0.355204,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.333396,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"42da491e-d8b9-47ba-af65-acb15ea8a055","startTime":1639198877486,"refId":"[1.302:67]","endTime":1639198878357,"exampleData":{"datasetIdentifierCode":"42da491e-d8b9-47ba-af65-acb15ea8a055"},"exampleIndex":301},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:18.035 karate.env system property was: null \n"},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54901,"millis":0.054901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88101,"millis":0.088101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":340103,"millis":0.340103,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":426404,"millis":0.426404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34701,"millis":0.034701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":231502,"millis":0.231502,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":890800994,"millis":890.800994,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1453413,"millis":1.453413,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":986909,"millis":0.986909,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1026710,"millis":1.02671,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":900508,"millis":0.900508,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1106410,"millis":1.10641,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":881208,"millis":0.881208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29101,"millis":0.029101,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1656715,"millis":1.656715,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":758707,"millis":0.758707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1068910,"millis":1.06891,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":189202,"millis":0.189202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":467104,"millis":0.467104,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:18.938 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wfs\\\/v2_0?request=getCapabilities&service=WFS \n"},{"result":{"nanos":863508,"millis":0.863508,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":271303,"millis":0.271303,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:18.940 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":717106,"millis":0.717106,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":222902,"millis":0.222902,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:18.941 [print] #notpresent \n"},{"result":{"nanos":108401,"millis":0.108401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":222602,"millis":0.222602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:18.941 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":981809,"millis":0.981809,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":248902,"millis":0.248902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:18.942 [print] Beheer PDOK \n"},{"result":{"nanos":194502,"millis":0.194502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:18.942 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":918908,"millis":0.918908,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":426104,"millis":0.426104,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346404,"millis":0.346404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":908.251554,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","startTime":1639198878035,"refId":"[1.303:67]","endTime":1639198878944,"exampleData":{"datasetIdentifierCode":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7"},"exampleIndex":302},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18301,"millis":0.018301,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:18.165 karate.env system property was: null \n"},{"result":{"nanos":72400,"millis":0.0724,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":206302,"millis":0.206302,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72701,"millis":0.072701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":412404,"millis":0.412404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393703,"millis":0.393703,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34601,"millis":0.034601,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":176701,"millis":0.176701,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34201,"millis":0.034201,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850976331,"millis":850.976331,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1316111,"millis":1.316111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":899308,"millis":0.899308,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":799007,"millis":0.799007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":810908,"millis":0.810908,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":898508,"millis":0.898508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":837808,"millis":0.837808,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":654806,"millis":0.654806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":640506,"millis":0.640506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":756607,"millis":0.756607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":223402,"millis":0.223402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131302,"millis":0.131302,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:19.026 [print] https:\\\/\\\/service.pdok.nl\\\/lv\\\/bag\\\/wms\\\/v2_0?request=getCapabilities&service=WMS \n"},{"result":{"nanos":1249011,"millis":1.249011,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127501,"millis":0.127501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:19.027 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1171311,"millis":1.171311,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78901,"millis":0.078901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:19.029 [print] #notpresent \n"},{"result":{"nanos":106501,"millis":0.106501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":105101,"millis":0.105101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:19.029 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":881708,"millis":0.881708,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99801,"millis":0.099801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:19.030 [print] Beheer PDOK \n"},{"result":{"nanos":233502,"millis":0.233502,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:19.030 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":997309,"millis":0.997309,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":499604,"millis":0.499604,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322503,"millis":0.322503,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.402373,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"9e2e977a-16a6-42a4-a208-c4f70704f383","startTime":1639198878164,"refId":"[1.304:67]","endTime":1639198879032,"exampleData":{"datasetIdentifierCode":"9e2e977a-16a6-42a4-a208-c4f70704f383"},"exampleIndex":303},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:18.320 karate.env system property was: null \n"},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59801,"millis":0.059801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":336303,"millis":0.336303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":400204,"millis":0.400204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":402503,"millis":0.402503,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844361471,"millis":844.361471,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1037110,"millis":1.03711,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":724006,"millis":0.724006,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":681207,"millis":0.681207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":676806,"millis":0.676806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":718407,"millis":0.718407,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":757207,"millis":0.757207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":591305,"millis":0.591305,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":600806,"millis":0.600806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":622506,"millis":0.622506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":340103,"millis":0.340103,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":106201,"millis":0.106201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:19.173 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":742907,"millis":0.742907,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116801,"millis":0.116801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:19.174 [print] INSPIRE Atom \n"},{"result":{"nanos":555005,"millis":0.555005,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:19.174 [print] #notpresent \n"},{"result":{"nanos":79801,"millis":0.079801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":181701,"millis":0.181701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:19.175 [print] INSPIRE Atom \n"},{"result":{"nanos":825808,"millis":0.825808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":115001,"millis":0.115001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:19.176 [print] Beheer PDOK \n"},{"result":{"nanos":76901,"millis":0.076901,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:19.176 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":4333639,"millis":4.333639,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485405,"millis":0.485405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346203,"millis":0.346203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.654319,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","startTime":1639198878319,"refId":"[1.305:67]","endTime":1639198879181,"exampleData":{"datasetIdentifierCode":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225"},"exampleIndex":304},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:18.360 karate.env system property was: null \n"},{"result":{"nanos":37801,"millis":0.037801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65901,"millis":0.065901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":420004,"millis":0.420004,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":20040182,"millis":20.040182,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95801,"millis":0.095801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74100,"millis":0.0741,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":80901,"millis":0.080901,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847049095,"millis":847.049095,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":761407,"millis":0.761407,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":688107,"millis":0.688107,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":802207,"millis":0.802207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":777207,"millis":0.777207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":756007,"millis":0.756007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":665206,"millis":0.665206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":701506,"millis":0.701506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":732207,"millis":0.732207,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":620506,"millis":0.620506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":236102,"millis":0.236102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":87901,"millis":0.087901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:19.236 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":648306,"millis":0.648306,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":163701,"millis":0.163701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:19.237 [print] #notpresent \n"},{"result":{"nanos":588905,"millis":0.588905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":54501,"millis":0.054501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:19.237 [print] OGC:WFS \n"},{"result":{"nanos":80400,"millis":0.0804,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74601,"millis":0.074601,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:19.237 [print] #notpresent \n"},{"result":{"nanos":660006,"millis":0.660006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94501,"millis":0.094501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:19.238 [print] RIVM \n"},{"result":{"nanos":72401,"millis":0.072401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:19.238 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":847808,"millis":0.847808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":414304,"millis":0.414304,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":293702,"millis":0.293702,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.932284,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"03c39474-aef9-4169-95da-9890af440b14","startTime":1639198878360,"refId":"[1.306:67]","endTime":1639198879240,"exampleData":{"datasetIdentifierCode":"03c39474-aef9-4169-95da-9890af440b14"},"exampleIndex":305},{"sectionIndex":0,"stepResults":[{"result":{"nanos":76001,"millis":0.076001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:18.947 karate.env system property was: null \n"},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":227402,"millis":0.227402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":152302,"millis":0.152302,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":480904,"millis":0.480904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142102,"millis":0.142102,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":562305,"millis":0.562305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":187202,"millis":0.187202,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872958131,"millis":872.958131,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1327012,"millis":1.327012,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":1278312,"millis":1.278312,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1226211,"millis":1.226211,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1377513,"millis":1.377513,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1660915,"millis":1.660915,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1486114,"millis":1.486114,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":934809,"millis":0.934809,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":862308,"millis":0.862308,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":922108,"millis":0.922108,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":124401,"millis":0.124401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":178602,"millis":0.178602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:19.834 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n"},{"result":{"nanos":1007109,"millis":1.007109,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99201,"millis":0.099201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:19.835 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1018409,"millis":1.018409,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95901,"millis":0.095901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:19.836 [print] #notpresent \n"},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":64101,"millis":0.064101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:19.836 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2543623,"millis":2.543623,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116101,"millis":0.116101,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:19.839 [print] Rijkswaterstaat \n"},{"result":{"nanos":956609,"millis":0.956609,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:19.840 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":1263312,"millis":1.263312,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":596205,"millis":0.596205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":432404,"millis":0.432404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":894.638631,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1639198878946,"refId":"[1.307:67]","endTime":1639198879842,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":306},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53901,"millis":0.053901,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:19.037 karate.env system property was: null \n"},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":216602,"millis":0.216602,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":120601,"millis":0.120601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1384413,"millis":1.384413,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":154701,"millis":0.154701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":548805,"millis":0.548805,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":240103,"millis":0.240103,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6901,"millis":0.006901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858068596,"millis":858.068596,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1063210,"millis":1.06321,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":1021409,"millis":1.021409,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":992009,"millis":0.992009,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1009509,"millis":1.009509,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1023309,"millis":1.023309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1044209,"millis":1.044209,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":728707,"millis":0.728707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":724707,"millis":0.724707,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":739607,"millis":0.739607,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":111501,"millis":0.111501,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":135201,"millis":0.135201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:19.908 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n"},{"result":{"nanos":831308,"millis":0.831308,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1044709,"millis":1.044709,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:19.910 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":900109,"millis":0.900109,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":104301,"millis":0.104301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:19.911 [print] #notpresent \n"},{"result":{"nanos":354603,"millis":0.354603,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":85001,"millis":0.085001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:19.911 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":1420213,"millis":1.420213,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92801,"millis":0.092801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:19.913 [print] Rijkswaterstaat \n"},{"result":{"nanos":705906,"millis":0.705906,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:19.913 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":1009210,"millis":1.00921,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":642606,"millis":0.642606,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301802,"millis":0.301802,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.170071,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","startTime":1639198879034,"refId":"[1.308:67]","endTime":1639198879915,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2"},"exampleIndex":307},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39500,"millis":0.0395,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:19.185 karate.env system property was: null \n"},{"result":{"nanos":33101,"millis":0.033101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":208002,"millis":0.208002,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":777907,"millis":0.777907,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":763107,"millis":0.763107,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":109901,"millis":0.109901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1875517,"millis":1.875517,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46001,"millis":0.046001,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40301,"millis":0.040301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865763465,"millis":865.763465,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":998309,"millis":0.998309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":783907,"millis":0.783907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":740607,"millis":0.740607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":4581842,"millis":4.581842,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":974409,"millis":0.974409,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":809007,"millis":0.809007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31601,"millis":0.031601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":658306,"millis":0.658306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":642606,"millis":0.642606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":673206,"millis":0.673206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1322712,"millis":1.322712,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":3713734,"millis":3.713734,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:20.071 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n"},{"result":{"nanos":894808,"millis":0.894808,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130102,"millis":0.130102,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:20.073 [print] INSPIRE Atom \n"},{"result":{"nanos":1014209,"millis":1.014209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":128301,"millis":0.128301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:20.074 [print] #notpresent \n"},{"result":{"nanos":312903,"millis":0.312903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":96801,"millis":0.096801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:20.074 [print] INSPIRE Atom \n"},{"result":{"nanos":828207,"millis":0.828207,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116702,"millis":0.116702,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:20.076 [print] Rijkswaterstaat \n"},{"result":{"nanos":397503,"millis":0.397503,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:20.076 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":1339513,"millis":1.339513,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":580805,"millis":0.580805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":661806,"millis":0.661806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.212808,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","startTime":1639198879184,"refId":"[1.309:67]","endTime":1639198880079,"exampleData":{"datasetIdentifierCode":"adn83730-e750-485a-9c0c-39bf9bt72cf8"},"exampleIndex":308},{"sectionIndex":0,"stepResults":[{"result":{"nanos":88201,"millis":0.088201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:19.242 karate.env system property was: null \n"},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":104401,"millis":0.104401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":168002,"millis":0.168002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":347703,"millis":0.347703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":138802,"millis":0.138802,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":555305,"millis":0.555305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50101,"millis":0.050101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851931140,"millis":851.93114,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":2255221,"millis":2.255221,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":886908,"millis":0.886908,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":762607,"millis":0.762607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1132110,"millis":1.13211,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":874108,"millis":0.874108,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":844207,"millis":0.844207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31801,"millis":0.031801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":667006,"millis":0.667006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":649706,"millis":0.649706,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":643806,"millis":0.643806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":149801,"millis":0.149801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":744907,"millis":0.744907,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:20.106 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n"},{"result":{"nanos":726407,"millis":0.726407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114101,"millis":0.114101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:20.107 [print] OGC:WCS \n"},{"result":{"nanos":992209,"millis":0.992209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110801,"millis":0.110801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:20.108 [print] #notpresent \n"},{"result":{"nanos":330303,"millis":0.330303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":99901,"millis":0.099901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:20.108 [print] OGC:WCS \n"},{"result":{"nanos":1125110,"millis":1.12511,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":115601,"millis":0.115601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:20.110 [print] Rijkswaterstaat \n"},{"result":{"nanos":423704,"millis":0.423704,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:20.110 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":1577714,"millis":1.577714,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1207010,"millis":1.20701,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":358203,"millis":0.358203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.374707,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","startTime":1639198879242,"refId":"[1.310:67]","endTime":1639198880113,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1"},"exampleIndex":309},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:19.844 karate.env system property was: null \n"},{"result":{"nanos":30701,"millis":0.030701,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76201,"millis":0.076201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":341703,"millis":0.341703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42901,"millis":0.042901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392703,"millis":0.392703,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":313603,"millis":0.313603,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858114996,"millis":858.114996,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1294212,"millis":1.294212,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":822907,"millis":0.822907,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":795907,"millis":0.795907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":983409,"millis":0.983409,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":914308,"millis":0.914308,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":886908,"millis":0.886908,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":712207,"millis":0.712207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":638106,"millis":0.638106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":606705,"millis":0.606705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151001,"millis":0.151001,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":140401,"millis":0.140401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:20.713 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":700007,"millis":0.700007,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":96201,"millis":0.096201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:20.713 [print] OGC:WMS \n"},{"result":{"nanos":677206,"millis":0.677206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111701,"millis":0.111701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:20.714 [print] #notpresent \n"},{"result":{"nanos":36201,"millis":0.036201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71200,"millis":0.0712,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:20.714 [print] OGC:WMS \n"},{"result":{"nanos":828308,"millis":0.828308,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104701,"millis":0.104701,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:20.715 [print] Rijkswaterstaat \n"},{"result":{"nanos":66201,"millis":0.066201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:20.715 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=9d973c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":804707,"millis":0.804707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":636305,"millis":0.636305,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":396404,"millis":0.396404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.041321,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","startTime":1639198879844,"refId":"[1.311:67]","endTime":1639198880717,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3"},"exampleIndex":310},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:19.918 karate.env system property was: null \n"},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42201,"millis":0.042201,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":342903,"millis":0.342903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":885708,"millis":0.885708,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45901,"millis":0.045901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":133201,"millis":0.133201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36101,"millis":0.036101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2bd75565-db8b-4df7-a3a6-0e9ca5289e5e'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844698574,"millis":844.698574,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":865508,"millis":0.865508,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2bd75565-db8b-4df7-a3a6-0e9ca5289e5e'"}},{"result":{"nanos":921108,"millis":0.921108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":881508,"millis":0.881508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":862507,"millis":0.862507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":916508,"millis":0.916508,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":853708,"millis":0.853708,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":713106,"millis":0.713106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":786107,"millis":0.786107,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":614706,"millis":0.614706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67901,"millis":0.067901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":111501,"millis":0.111501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:20.772 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":644006,"millis":0.644006,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72501,"millis":0.072501,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:20.773 [print] OGC:WMS \n"},{"result":{"nanos":735606,"millis":0.735606,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82201,"millis":0.082201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:20.774 [print] #notpresent \n"},{"result":{"nanos":33701,"millis":0.033701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78500,"millis":0.0785,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:20.774 [print] OGC:WMS \n"},{"result":{"nanos":756406,"millis":0.756406,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:20.775 [print] Rijkswaterstaat \n"},{"result":{"nanos":77101,"millis":0.077101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:20.775 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n"},{"result":{"nanos":751007,"millis":0.751007,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":536405,"millis":0.536405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":307203,"millis":0.307203,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.207795,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e","startTime":1639198879917,"refId":"[1.312:67]","endTime":1639198880776,"exampleData":{"datasetIdentifierCode":"2bd75565-db8b-4df7-a3a6-0e9ca5289e5e"},"exampleIndex":311},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20101,"millis":0.020101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:20.081 karate.env system property was: null \n"},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42101,"millis":0.042101,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69100,"millis":0.0691,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":335503,"millis":0.335503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42301,"millis":0.042301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":395704,"millis":0.395704,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104601,"millis":0.104601,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":308103,"millis":0.308103,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5201,"millis":0.005201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '13c6144d-231b-4a52-91d5-edde65076aff'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":834272080,"millis":834.27208,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":938109,"millis":0.938109,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13c6144d-231b-4a52-91d5-edde65076aff'"}},{"result":{"nanos":908408,"millis":0.908408,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":739607,"millis":0.739607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":744607,"millis":0.744607,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":689906,"millis":0.689906,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":700807,"millis":0.700807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":633106,"millis":0.633106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":508405,"millis":0.508405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":655606,"millis":0.655606,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":129202,"millis":0.129202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:20.924 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2350b86b-3efd-47e4-883e-519bfa8d0aba_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":753307,"millis":0.753307,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116701,"millis":0.116701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:20.925 [print] OGC:WFS \n"},{"result":{"nanos":638306,"millis":0.638306,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110001,"millis":0.110001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:20.926 [print] #notpresent \n"},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:20.926 [print] OGC:WFS \n"},{"result":{"nanos":735607,"millis":0.735607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90601,"millis":0.090601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:20.927 [print] Rijkswaterstaat \n"},{"result":{"nanos":110001,"millis":0.110001,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:20.927 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification \n"},{"result":{"nanos":727207,"millis":0.727207,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":620005,"millis":0.620005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"13c6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":408404,"millis":0.408404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"13c6144d-231b-4a52-91d5-edde65076aff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":846.916698,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"13c6144d-231b-4a52-91d5-edde65076aff","startTime":1639198880081,"refId":"[1.313:67]","endTime":1639198880929,"exampleData":{"datasetIdentifierCode":"13c6144d-231b-4a52-91d5-edde65076aff"},"exampleIndex":312},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19201,"millis":0.019201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:20.116 karate.env system property was: null \n"},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":337503,"millis":0.337503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42501,"millis":0.042501,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399503,"millis":0.399503,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94201,"millis":0.094201,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36001,"millis":0.036001,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bef46033-ce69-4ce4-b853-4ab65f6a424d'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848579209,"millis":848.579209,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":732606,"millis":0.732606,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bef46033-ce69-4ce4-b853-4ab65f6a424d'"}},{"result":{"nanos":722606,"millis":0.722606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":816008,"millis":0.816008,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":704006,"millis":0.704006,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":674106,"millis":0.674106,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":651406,"millis":0.651406,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27701,"millis":0.027701,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":820207,"millis":0.820207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":612606,"millis":0.612606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":651706,"millis":0.651706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60301,"millis":0.060301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":97201,"millis":0.097201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:20.973 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1131310,"millis":1.13131,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86001,"millis":0.086001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:20.974 [print] OGC:WMS \n"},{"result":{"nanos":914508,"millis":0.914508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86101,"millis":0.086101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:20.975 [print] #notpresent \n"},{"result":{"nanos":96101,"millis":0.096101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":326403,"millis":0.326403,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:20.976 [print] OGC:WMS \n"},{"result":{"nanos":1094210,"millis":1.09421,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86601,"millis":0.086601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:20.977 [print] Rijkswaterstaat \n"},{"result":{"nanos":49801,"millis":0.049801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:20.977 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n"},{"result":{"nanos":1960217,"millis":1.960217,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":642805,"millis":0.642805,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bef46033-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316803,"millis":0.316803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bef46033-ce69-4ce4-b853-4ab65f6a424d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.10584,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"bef46033-ce69-4ce4-b853-4ab65f6a424d","startTime":1639198880115,"refId":"[1.314:67]","endTime":1639198880980,"exampleData":{"datasetIdentifierCode":"bef46033-ce69-4ce4-b853-4ab65f6a424d"},"exampleIndex":313},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:20.720 karate.env system property was: null \n"},{"result":{"nanos":28801,"millis":0.028801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57601,"millis":0.057601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":369203,"millis":0.369203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433604,"millis":0.433604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100901,"millis":0.100901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5e5d713c-e89d-441f-a848-9e4fe5d48400'"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854302061,"millis":854.302061,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":835208,"millis":0.835208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5e5d713c-e89d-441f-a848-9e4fe5d48400'"}},{"result":{"nanos":676606,"millis":0.676606,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":649206,"millis":0.649206,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":723707,"millis":0.723707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":888708,"millis":0.888708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":684706,"millis":0.684706,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":520905,"millis":0.520905,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":530405,"millis":0.530405,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":553305,"millis":0.553305,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":159401,"millis":0.159401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:21.582 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.917b5ba0-4fdd-4654-8c18-b3ccdadaa550_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":626606,"millis":0.626606,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":70400,"millis":0.0704,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:21.583 [print] OGC:WFS \n"},{"result":{"nanos":598105,"millis":0.598105,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145001,"millis":0.145001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:21.584 [print] #notpresent \n"},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73201,"millis":0.073201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:21.584 [print] OGC:WFS \n"},{"result":{"nanos":670006,"millis":0.670006,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109601,"millis":0.109601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:21.584 [print] Rijkswaterstaat \n"},{"result":{"nanos":75801,"millis":0.075801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:21.585 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification \n"},{"result":{"nanos":719906,"millis":0.719906,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":715506,"millis":0.715506,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5e5d713c-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":276803,"millis":0.276803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5e5d713c-e89d-441f-a848-9e4fe5d48400\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.987165,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5e5d713c-e89d-441f-a848-9e4fe5d48400","startTime":1639198880720,"refId":"[1.315:67]","endTime":1639198881586,"exampleData":{"datasetIdentifierCode":"5e5d713c-e89d-441f-a848-9e4fe5d48400"},"exampleIndex":314},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:20.778 karate.env system property was: null \n"},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":969109,"millis":0.969109,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82901,"millis":0.082901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":411404,"millis":0.411404,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51001,"millis":0.051001,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444604,"millis":0.444604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66501,"millis":0.066501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19801,"millis":0.019801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44100,"millis":0.0441,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd9227c23-9d36-46ce-8ac9-a208103c218e'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":836505100,"millis":836.5051,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":887008,"millis":0.887008,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd9227c23-9d36-46ce-8ac9-a208103c218e'"}},{"result":{"nanos":695007,"millis":0.695007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":794807,"millis":0.794807,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":748007,"millis":0.748007,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":828307,"millis":0.828307,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":671206,"millis":0.671206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":587805,"millis":0.587805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":616606,"millis":0.616606,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":570605,"millis":0.570605,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65401,"millis":0.065401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116901,"millis":0.116901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:21.624 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":683607,"millis":0.683607,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:21.625 [print] OGC:WMS \n"},{"result":{"nanos":583305,"millis":0.583305,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62501,"millis":0.062501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:21.626 [print] #notpresent \n"},{"result":{"nanos":83501,"millis":0.083501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":175301,"millis":0.175301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:21.626 [print] OGC:WMS \n"},{"result":{"nanos":867607,"millis":0.867607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102000,"millis":0.102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:21.627 [print] Rijkswaterstaat \n"},{"result":{"nanos":99200,"millis":0.0992,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:21.627 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n"},{"result":{"nanos":740006,"millis":0.740006,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":557505,"millis":0.557505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d9227c23-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301302,"millis":0.301302,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d9227c23-9d36-46ce-8ac9-a208103c218e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":849.654516,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d9227c23-9d36-46ce-8ac9-a208103c218e","startTime":1639198880778,"refId":"[1.316:67]","endTime":1639198881629,"exampleData":{"datasetIdentifierCode":"d9227c23-9d36-46ce-8ac9-a208103c218e"},"exampleIndex":315},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:20.931 karate.env system property was: null \n"},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39701,"millis":0.039701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":337503,"millis":0.337503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57201,"millis":0.057201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405904,"millis":0.405904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68301,"millis":0.068301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '43a37418-365c-4848-b885-5823259ca7c9'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843556763,"millis":843.556763,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1051210,"millis":1.05121,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '43a37418-365c-4848-b885-5823259ca7c9'"}},{"result":{"nanos":824307,"millis":0.824307,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":799608,"millis":0.799608,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":23214611,"millis":23.214611,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1600315,"millis":1.600315,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":790207,"millis":0.790207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":720007,"millis":0.720007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":705906,"millis":0.705906,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":752806,"millis":0.752806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":238202,"millis":0.238202,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":138901,"millis":0.138901,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:21.808 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.cefad637-5ffd-4dd0-b475-bc125a11f7e6_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":835208,"millis":0.835208,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":176801,"millis":0.176801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:21.809 [print] OGC:WFS \n"},{"result":{"nanos":623905,"millis":0.623905,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80801,"millis":0.080801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:21.809 [print] #notpresent \n"},{"result":{"nanos":146001,"millis":0.146001,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":179001,"millis":0.179001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:21.810 [print] OGC:WFS \n"},{"result":{"nanos":755207,"millis":0.755207,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":190102,"millis":0.190102,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:21.811 [print] Rijkswaterstaat \n"},{"result":{"nanos":4710743,"millis":4.710743,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:21.815 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-rsa-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification \n"},{"result":{"nanos":853408,"millis":0.853408,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":487804,"millis":0.487804,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"43a37418-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297703,"millis":0.297703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"43a37418-365c-4848-b885-5823259ca7c9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.918537,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"43a37418-365c-4848-b885-5823259ca7c9","startTime":1639198880931,"refId":"[1.317:67]","endTime":1639198881817,"exampleData":{"datasetIdentifierCode":"43a37418-365c-4848-b885-5823259ca7c9"},"exampleIndex":316},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17101,"millis":0.017101,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:20.983 karate.env system property was: null \n"},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37401,"millis":0.037401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":304603,"millis":0.304603,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39801,"millis":0.039801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336903,"millis":0.336903,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67401,"millis":0.067401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22701,"millis":0.022701,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":282702,"millis":0.282702,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2443309-c655-4e64-b914-149050fd479c'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865938067,"millis":865.938067,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":946809,"millis":0.946809,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2443309-c655-4e64-b914-149050fd479c'"}},{"result":{"nanos":940508,"millis":0.940508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":770307,"millis":0.770307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":904308,"millis":0.904308,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":930709,"millis":0.930709,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":777207,"millis":0.777207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":578406,"millis":0.578406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":651806,"millis":0.651806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":568705,"millis":0.568705,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":220402,"millis":0.220402,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":111801,"millis":0.111801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:21.859 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":660106,"millis":0.660106,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":139202,"millis":0.139202,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:21.860 [print] OGC:WMS \n"},{"result":{"nanos":624505,"millis":0.624505,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80301,"millis":0.080301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:21.860 [print] #notpresent \n"},{"result":{"nanos":85101,"millis":0.085101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":155701,"millis":0.155701,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:21.861 [print] OGC:WMS \n"},{"result":{"nanos":804907,"millis":0.804907,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":537105,"millis":0.537105,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:21.862 [print] Rijkswaterstaat \n"},{"result":{"nanos":977209,"millis":0.977209,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:21.862 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":737407,"millis":0.737407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":441004,"millis":0.441004,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":296403,"millis":0.296403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2443309-c655-4e64-b914-149050fd479c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.227799,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f2443309-c655-4e64-b914-149050fd479c","startTime":1639198880983,"refId":"[1.318:67]","endTime":1639198881864,"exampleData":{"datasetIdentifierCode":"f2443309-c655-4e64-b914-149050fd479c"},"exampleIndex":317},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:21.589 karate.env system property was: null \n"},{"result":{"nanos":29101,"millis":0.029101,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39400,"millis":0.0394,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55801,"millis":0.055801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":527005,"millis":0.527005,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371804,"millis":0.371804,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64901,"millis":0.064901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5401,"millis":0.005401,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d8c9463-a3da-401d-8251-8c6664865e0c'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848299907,"millis":848.299907,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1078410,"millis":1.07841,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d8c9463-a3da-401d-8251-8c6664865e0c'"}},{"result":{"nanos":744306,"millis":0.744306,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":703306,"millis":0.703306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":635206,"millis":0.635206,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":728807,"millis":0.728807,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":739206,"millis":0.739206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28601,"millis":0.028601,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":608405,"millis":0.608405,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":566106,"millis":0.566106,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":625205,"millis":0.625205,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":212101,"millis":0.212101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":144601,"millis":0.144601,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:22.446 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":1258911,"millis":1.258911,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":163702,"millis":0.163702,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:22.447 [print] OGC:WFS \n"},{"result":{"nanos":927609,"millis":0.927609,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:22.448 [print] #notpresent \n"},{"result":{"nanos":476104,"millis":0.476104,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128801,"millis":0.128801,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:22.449 [print] OGC:WFS \n"},{"result":{"nanos":1051710,"millis":1.05171,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":155601,"millis":0.155601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:22.450 [print] Rijkswaterstaat \n"},{"result":{"nanos":842308,"millis":0.842308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:22.451 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":865208,"millis":0.865208,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":499505,"millis":0.499505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":274102,"millis":0.274102,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d8c9463-a3da-401d-8251-8c6664865e0c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.142141,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3d8c9463-a3da-401d-8251-8c6664865e0c","startTime":1639198881588,"refId":"[1.319:67]","endTime":1639198882452,"exampleData":{"datasetIdentifierCode":"3d8c9463-a3da-401d-8251-8c6664865e0c"},"exampleIndex":318},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15201,"millis":0.015201,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:21.631 karate.env system property was: null \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55601,"millis":0.055601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":362203,"millis":0.362203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":79901,"millis":0.079901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390604,"millis":0.390604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4901,"millis":0.004901,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4601,"millis":0.004601,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":868853100,"millis":868.8531,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1138811,"millis":1.138811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":990109,"millis":0.990109,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1014009,"millis":1.014009,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1080110,"millis":1.08011,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1077610,"millis":1.07761,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":925409,"millis":0.925409,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1168111,"millis":1.168111,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":854609,"millis":0.854609,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":774007,"millis":0.774007,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":187102,"millis":0.187102,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":130802,"millis":0.130802,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:22.511 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":831908,"millis":0.831908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":154301,"millis":0.154301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:22.512 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1224811,"millis":1.224811,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":257102,"millis":0.257102,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:22.514 [print] #notpresent \n"},{"result":{"nanos":115702,"millis":0.115702,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":203502,"millis":0.203502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:22.514 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1166411,"millis":1.166411,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":260803,"millis":0.260803,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:22.516 [print] Rijkswaterstaat \n"},{"result":{"nanos":168902,"millis":0.168902,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:22.516 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":4712445,"millis":4.712445,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":735807,"millis":0.735807,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3802236,"millis":3.802236,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.021431,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","startTime":1639198881631,"refId":"[1.320:67]","endTime":1639198882525,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611f0gfim"},"exampleIndex":319},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38701,"millis":0.038701,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:21.820 karate.env system property was: null \n"},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":97401,"millis":0.097401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113601,"millis":0.113601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":326803,"millis":0.326803,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":131701,"millis":0.131701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":475004,"millis":0.475004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":286803,"millis":0.286803,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849223120,"millis":849.22312,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1068110,"millis":1.06811,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":999910,"millis":0.99991,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1049110,"millis":1.04911,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":914409,"millis":0.914409,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1182711,"millis":1.182711,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1131011,"millis":1.131011,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48501,"millis":0.048501,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":782207,"millis":0.782207,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1022310,"millis":1.02231,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":869109,"millis":0.869109,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":136901,"millis":0.136901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":153602,"millis":0.153602,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:22.681 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1149411,"millis":1.149411,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83901,"millis":0.083901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:22.682 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":957509,"millis":0.957509,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":63001,"millis":0.063001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:22.683 [print] #notpresent \n"},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76401,"millis":0.076401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:22.683 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1015710,"millis":1.01571,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":66601,"millis":0.066601,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:22.684 [print] Rijkswaterstaat \n"},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:22.684 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":1725017,"millis":1.725017,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":697707,"millis":0.697707,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":315703,"millis":0.315703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.455086,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","startTime":1639198881819,"refId":"[1.321:67]","endTime":1639198882687,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611m0gfim"},"exampleIndex":320},{"sectionIndex":0,"stepResults":[{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:21.867 karate.env system property was: null \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":108901,"millis":0.108901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":103701,"millis":0.103701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":369203,"millis":0.369203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105601,"millis":0.105601,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":449604,"millis":0.449604,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36101,"millis":0.036101,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":89701,"millis":0.089701,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29101,"millis":0.029101,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":80800,"millis":0.0808,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c4e7ab54-da5c-46ea-a5b5-53df01873240'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850603260,"millis":850.60326,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":779907,"millis":0.779907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c4e7ab54-da5c-46ea-a5b5-53df01873240'"}},{"result":{"nanos":772508,"millis":0.772508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":817208,"millis":0.817208,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":634106,"millis":0.634106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":766008,"millis":0.766008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":680006,"millis":0.680006,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":641306,"millis":0.641306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":644506,"millis":0.644506,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":665806,"millis":0.665806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68601,"millis":0.068601,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":721507,"millis":0.721507,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:22.728 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?SERVICE=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":591206,"millis":0.591206,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":491804,"millis":0.491804,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:22.729 [print] OGC:WMS \n"},{"result":{"nanos":612706,"millis":0.612706,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":374503,"millis":0.374503,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:22.730 [print] #notpresent \n"},{"result":{"nanos":55701,"millis":0.055701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":373304,"millis":0.373304,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:22.730 [print] OGC:WMS \n"},{"result":{"nanos":791307,"millis":0.791307,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":383203,"millis":0.383203,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:22.731 [print] Rijkswaterstaat \n"},{"result":{"nanos":834208,"millis":0.834208,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:22.732 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":822607,"millis":0.822607,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":566105,"millis":0.566105,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c4e7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":309303,"millis":0.309303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c4e7ab54-da5c-46ea-a5b5-53df01873240\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.6132,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c4e7ab54-da5c-46ea-a5b5-53df01873240","startTime":1639198881866,"refId":"[1.322:67]","endTime":1639198882734,"exampleData":{"datasetIdentifierCode":"c4e7ab54-da5c-46ea-a5b5-53df01873240"},"exampleIndex":321},{"sectionIndex":0,"stepResults":[{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:22.455 karate.env system property was: null \n"},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":124401,"millis":0.124401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":117201,"millis":0.117201,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":324303,"millis":0.324303,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102301,"millis":0.102301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385703,"millis":0.385703,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71501,"millis":0.071501,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18001,"millis":0.018001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '822d9417-a69f-4665-bc42-8c6d84e5dedb'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838124678,"millis":838.124678,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1002710,"millis":1.00271,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '822d9417-a69f-4665-bc42-8c6d84e5dedb'"}},{"result":{"nanos":694007,"millis":0.694007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":629606,"millis":0.629606,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":653106,"millis":0.653106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":844008,"millis":0.844008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":740407,"millis":0.740407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":546106,"millis":0.546106,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":816608,"millis":0.816608,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":633106,"millis":0.633106,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75101,"millis":0.075101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":124001,"millis":0.124001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:23.302 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?SERVICE=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":547406,"millis":0.547406,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":178901,"millis":0.178901,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:23.303 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":757607,"millis":0.757607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":143101,"millis":0.143101,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:23.304 [print] #notpresent \n"},{"result":{"nanos":36101,"millis":0.036101,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67101,"millis":0.067101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:23.304 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":677706,"millis":0.677706,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90501,"millis":0.090501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:23.304 [print] Rijkswaterstaat \n"},{"result":{"nanos":84301,"millis":0.084301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:23.305 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":639706,"millis":0.639706,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":623806,"millis":0.623806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"822d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":263602,"millis":0.263602,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"822d9417-a69f-4665-bc42-8c6d84e5dedb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":850.364794,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"822d9417-a69f-4665-bc42-8c6d84e5dedb","startTime":1639198882454,"refId":"[1.323:67]","endTime":1639198883306,"exampleData":{"datasetIdentifierCode":"822d9417-a69f-4665-bc42-8c6d84e5dedb"},"exampleIndex":322},{"sectionIndex":0,"stepResults":[{"result":{"nanos":86200,"millis":0.0862,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:22.528 karate.env system property was: null \n"},{"result":{"nanos":62000,"millis":0.062,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":105701,"millis":0.105701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":158101,"millis":0.158101,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":540306,"millis":0.540306,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114701,"millis":0.114701,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":463705,"millis":0.463705,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100901,"millis":0.100901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":346704,"millis":0.346704,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22001,"millis":0.022001,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-ecda1-2216-4100-96dc-6bede78f9813'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846080773,"millis":846.080773,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":907309,"millis":0.907309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-ecda1-2216-4100-96dc-6bede78f9813'"}},{"result":{"nanos":734007,"millis":0.734007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":860908,"millis":0.860908,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":797407,"millis":0.797407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":760208,"millis":0.760208,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":797608,"millis":0.797608,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":581606,"millis":0.581606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":634806,"millis":0.634806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":606306,"millis":0.606306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83201,"millis":0.083201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":118401,"millis":0.118401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:23.384 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1098211,"millis":1.098211,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73401,"millis":0.073401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:23.385 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":952209,"millis":0.952209,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71201,"millis":0.071201,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:23.386 [print] #notpresent \n"},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":530806,"millis":0.530806,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:23.387 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":729607,"millis":0.729607,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116001,"millis":0.116001,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:23.388 [print] Rijkswaterstaat \n"},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:23.388 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n"},{"result":{"nanos":1366613,"millis":1.366613,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":518905,"millis":0.518905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":640806,"millis":0.640806,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"eu-ecda1-2216-4100-96dc-6bede78f9813\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.28122,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"eu-ecda1-2216-4100-96dc-6bede78f9813","startTime":1639198882527,"refId":"[1.324:67]","endTime":1639198883390,"exampleData":{"datasetIdentifierCode":"eu-ecda1-2216-4100-96dc-6bede78f9813"},"exampleIndex":323},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:22.690 karate.env system property was: null \n"},{"result":{"nanos":30401,"millis":0.030401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":321903,"millis":0.321903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":68201,"millis":0.068201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":386404,"millis":0.386404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":477905,"millis":0.477905,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854573855,"millis":854.573855,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":966209,"millis":0.966209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eu-e37cb-537f-4d98-8c03-820ee2d872d6'"}},{"result":{"nanos":725607,"millis":0.725607,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":731507,"millis":0.731507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":640407,"millis":0.640407,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":771107,"millis":0.771107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":747407,"millis":0.747407,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":604306,"millis":0.604306,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":853108,"millis":0.853108,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":680807,"millis":0.680807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1762317,"millis":1.762317,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":329903,"millis":0.329903,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:23.556 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.7c48322f-f9cf-4a08-aa63-c4de080c13a1_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":675506,"millis":0.675506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120301,"millis":0.120301,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:23.556 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":624206,"millis":0.624206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":119801,"millis":0.119801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:23.557 [print] #notpresent \n"},{"result":{"nanos":67301,"millis":0.067301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:23.557 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1050410,"millis":1.05041,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":251003,"millis":0.251003,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:23.559 [print] Rijkswaterstaat \n"},{"result":{"nanos":205702,"millis":0.205702,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:23.559 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification \n"},{"result":{"nanos":704707,"millis":0.704707,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":562405,"millis":0.562405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":311303,"millis":0.311303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"eu-e37cb-537f-4d98-8c03-820ee2d872d6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.7613,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"eu-e37cb-537f-4d98-8c03-820ee2d872d6","startTime":1639198882689,"refId":"[1.325:67]","endTime":1639198883561,"exampleData":{"datasetIdentifierCode":"eu-e37cb-537f-4d98-8c03-820ee2d872d6"},"exampleIndex":324},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:22.737 karate.env system property was: null \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58901,"millis":0.058901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315503,"millis":0.315503,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41201,"millis":0.041201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433404,"millis":0.433404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":395504,"millis":0.395504,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19401,"millis":0.019401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1887e931-e1b9-4512-9ca2-61526439fd7b'"}},{"result":{"nanos":5301,"millis":0.005301,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":829255711,"millis":829.255711,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":774907,"millis":0.774907,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1887e931-e1b9-4512-9ca2-61526439fd7b'"}},{"result":{"nanos":724007,"millis":0.724007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":676507,"millis":0.676507,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":831208,"millis":0.831208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":849109,"millis":0.849109,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":980509,"millis":0.980509,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30801,"millis":0.030801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":644606,"millis":0.644606,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":610806,"millis":0.610806,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":591206,"millis":0.591206,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":107401,"millis":0.107401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":74201,"millis":0.074201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:23.575 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":736407,"millis":0.736407,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130801,"millis":0.130801,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:23.576 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":676107,"millis":0.676107,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110501,"millis":0.110501,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:23.577 [print] #notpresent \n"},{"result":{"nanos":118401,"millis":0.118401,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":227202,"millis":0.227202,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:23.577 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":732808,"millis":0.732808,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:23.578 [print] Rijkswaterstaat \n"},{"result":{"nanos":219002,"millis":0.219002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:23.578 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":892108,"millis":0.892108,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":326604,"millis":0.326604,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1887e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301303,"millis":0.301303,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1887e931-e1b9-4512-9ca2-61526439fd7b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":842.166938,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1887e931-e1b9-4512-9ca2-61526439fd7b","startTime":1639198882736,"refId":"[1.326:67]","endTime":1639198883580,"exampleData":{"datasetIdentifierCode":"1887e931-e1b9-4512-9ca2-61526439fd7b"},"exampleIndex":325},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:23.308 karate.env system property was: null \n"},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65801,"millis":0.065801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":465204,"millis":0.465204,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49201,"millis":0.049201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":543105,"millis":0.543105,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31801,"millis":0.031801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13501,"millis":0.013501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'de93b602-8cbf-4cf0-9ce6-1b201e230ef1'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":951388291,"millis":951.388291,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1120111,"millis":1.120111,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'de93b602-8cbf-4cf0-9ce6-1b201e230ef1'"}},{"result":{"nanos":1006209,"millis":1.006209,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":762907,"millis":0.762907,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":783208,"millis":0.783208,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":967309,"millis":0.967309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":902009,"millis":0.902009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":596805,"millis":0.596805,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":604306,"millis":0.604306,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":642207,"millis":0.642207,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118101,"millis":0.118101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":150101,"millis":0.150101,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:24.269 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.6cef2128-a227-4aa7-bc74-0e3797644d51_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":759908,"millis":0.759908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89201,"millis":0.089201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:24.270 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":865808,"millis":0.865808,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":74901,"millis":0.074901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:24.271 [print] #notpresent \n"},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":93501,"millis":0.093501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:24.271 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":776107,"millis":0.776107,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78501,"millis":0.078501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:24.272 [print] Rijkswaterstaat \n"},{"result":{"nanos":91401,"millis":0.091401,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:24.272 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":773808,"millis":0.773808,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":584205,"millis":0.584205,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"de93b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":446205,"millis":0.446205,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"de93b602-8cbf-4cf0-9ce6-1b201e230ef1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":965.195824,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"de93b602-8cbf-4cf0-9ce6-1b201e230ef1","startTime":1639198883308,"refId":"[1.327:67]","endTime":1639198884274,"exampleData":{"datasetIdentifierCode":"de93b602-8cbf-4cf0-9ce6-1b201e230ef1"},"exampleIndex":326},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:23.393 karate.env system property was: null \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39400,"millis":0.0394,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56501,"millis":0.056501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":364703,"millis":0.364703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57801,"millis":0.057801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":440104,"millis":0.440104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49801,"millis":0.049801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72301,"millis":0.072301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":349803,"millis":0.349803,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":933434017,"millis":933.434017,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1021510,"millis":1.02151,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":828708,"millis":0.828708,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":881909,"millis":0.881909,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":850808,"millis":0.850808,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":805708,"millis":0.805708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":856009,"millis":0.856009,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":681007,"millis":0.681007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":806208,"millis":0.806208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":657506,"millis":0.657506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":138302,"millis":0.138302,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":138001,"millis":0.138001,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:24.336 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":599906,"millis":0.599906,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":104101,"millis":0.104101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:24.337 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":721007,"millis":0.721007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98801,"millis":0.098801,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:24.338 [print] #notpresent \n"},{"result":{"nanos":31701,"millis":0.031701,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":117501,"millis":0.117501,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:24.338 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":754007,"millis":0.754007,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83501,"millis":0.083501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:24.339 [print] Rijkswaterstaat \n"},{"result":{"nanos":38201,"millis":0.038201,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:24.339 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":860008,"millis":0.860008,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":528505,"millis":0.528505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":321504,"millis":0.321504,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":946.96595,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","startTime":1639198883392,"refId":"[1.328:67]","endTime":1639198884341,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2"},"exampleIndex":327},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:23.564 karate.env system property was: null \n"},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37601,"millis":0.037601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":306203,"millis":0.306203,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":357203,"millis":0.357203,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":214102,"millis":0.214102,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17601,"millis":0.017601,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845925472,"millis":845.925472,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1051210,"millis":1.05121,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":721807,"millis":0.721807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":689807,"millis":0.689807,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":686106,"millis":0.686106,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":810107,"millis":0.810107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":733207,"millis":0.733207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":638506,"millis":0.638506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":586406,"millis":0.586406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":612706,"millis":0.612706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":781008,"millis":0.781008,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":266202,"millis":0.266202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:24.419 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":819107,"millis":0.819107,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":833108,"millis":0.833108,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:24.421 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":649806,"millis":0.649806,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":148302,"millis":0.148302,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:24.421 [print] #notpresent \n"},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":629306,"millis":0.629306,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:24.422 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":832008,"millis":0.832008,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":769307,"millis":0.769307,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:24.424 [print] Rijkswaterstaat \n"},{"result":{"nanos":673207,"millis":0.673207,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:24.424 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":789807,"millis":0.789807,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":592505,"millis":0.592505,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316804,"millis":0.316804,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.810221,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","startTime":1639198883563,"refId":"[1.329:67]","endTime":1639198884426,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2"},"exampleIndex":328},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31401,"millis":0.031401,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:23.582 karate.env system property was: null \n"},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33901,"millis":0.033901,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356904,"millis":0.356904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57301,"millis":0.057301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":488904,"millis":0.488904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":270303,"millis":0.270303,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":881199113,"millis":881.199113,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":969110,"millis":0.96911,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2'"}},{"result":{"nanos":1086210,"millis":1.08621,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":933109,"millis":0.933109,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":814408,"millis":0.814408,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":869608,"millis":0.869608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":883409,"millis":0.883409,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":692907,"millis":0.692907,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":909709,"millis":0.909709,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":825908,"millis":0.825908,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91101,"millis":0.091101,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":219902,"millis":0.219902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:24.473 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":755608,"millis":0.755608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":113001,"millis":0.113001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:24.474 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":725207,"millis":0.725207,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131001,"millis":0.131001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:24.475 [print] #notpresent \n"},{"result":{"nanos":36501,"millis":0.036501,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":107301,"millis":0.107301,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:24.475 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":909309,"millis":0.909309,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126901,"millis":0.126901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:24.476 [print] Rijkswaterstaat \n"},{"result":{"nanos":116101,"millis":0.116101,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:24.476 [print] #notpresent \n"},{"result":{"nanos":999309,"millis":0.999309,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":611106,"millis":0.611106,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":327103,"millis":0.327103,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":895.926756,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2","startTime":1639198883581,"refId":"[1.330:67]","endTime":1639198884478,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2"},"exampleIndex":329},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:24.276 karate.env system property was: null \n"},{"result":{"nanos":34401,"millis":0.034401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65901,"millis":0.065901,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":351104,"millis":0.351104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410004,"millis":0.410004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38701,"millis":0.038701,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88101,"millis":0.088101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38601,"millis":0.038601,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee56211d336d'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857587985,"millis":857.587985,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1100311,"millis":1.100311,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee56211d336d'"}},{"result":{"nanos":891409,"millis":0.891409,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":894509,"millis":0.894509,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1109410,"millis":1.10941,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1229312,"millis":1.229312,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1166611,"millis":1.166611,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":687507,"millis":0.687507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":750007,"millis":0.750007,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":826708,"millis":0.826708,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":169902,"millis":0.169902,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:25.145 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":860908,"millis":0.860908,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103101,"millis":0.103101,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:25.146 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n"},{"result":{"nanos":769208,"millis":0.769208,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76300,"millis":0.0763,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:25.146 [print] #notpresent \n"},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137901,"millis":0.137901,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:25.147 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WFS\",\"OGC:WFS\",\"landingpage\"] \n"},{"result":{"nanos":963910,"millis":0.96391,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94501,"millis":0.094501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:25.148 [print] Rijkswaterstaat \n"},{"result":{"nanos":72300,"millis":0.0723,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:25.148 [print] #notpresent \n"},{"result":{"nanos":984709,"millis":0.984709,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":780008,"millis":0.780008,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":311103,"millis":0.311103,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee56211d336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.913334,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"cf69ec50-9849-4afd-853c-ee56211d336d","startTime":1639198884276,"refId":"[1.331:67]","endTime":1639198885150,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee56211d336d"},"exampleIndex":330},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:24.343 karate.env system property was: null \n"},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":71001,"millis":0.071001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":309903,"millis":0.309903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":337904,"millis":0.337904,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":80301,"millis":0.080301,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5101,"millis":0.005101,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855373363,"millis":855.373363,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1123311,"millis":1.123311,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":818808,"millis":0.818808,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":797207,"millis":0.797207,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":825908,"millis":0.825908,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":819608,"millis":0.819608,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":764207,"millis":0.764207,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24400,"millis":0.0244,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":687007,"millis":0.687007,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":24557937,"millis":24.557937,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":3869137,"millis":3.869137,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":288303,"millis":0.288303,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":735407,"millis":0.735407,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:25.235 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n"},{"result":{"nanos":1184712,"millis":1.184712,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":149201,"millis":0.149201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:25.237 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":760007,"millis":0.760007,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105601,"millis":0.105601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:25.238 [print] #notpresent \n"},{"result":{"nanos":92201,"millis":0.092201,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":120201,"millis":0.120201,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:25.238 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":890208,"millis":0.890208,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150002,"millis":0.150002,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:25.239 [print] Rijkswaterstaat \n"},{"result":{"nanos":113601,"millis":0.113601,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:25.239 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":750407,"millis":0.750407,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":562405,"millis":0.562405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374404,"millis":0.374404,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":896.983063,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"cf69ec50-9849-4afd-853c-ee5621fd336d","startTime":1639198884343,"refId":"[1.332:67]","endTime":1639198885241,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621fd336d"},"exampleIndex":331},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:24.436 karate.env system property was: null \n"},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":91100,"millis":0.0911,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":318703,"millis":0.318703,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38301,"millis":0.038301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423104,"millis":0.423104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":362404,"millis":0.362404,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17801,"millis":0.017801,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20401,"millis":0.020401,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":839304807,"millis":839.304807,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":949209,"millis":0.949209,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":779108,"millis":0.779108,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":720007,"millis":0.720007,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":668207,"millis":0.668207,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":809008,"millis":0.809008,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":822208,"millis":0.822208,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":781808,"millis":0.781808,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":601206,"millis":0.601206,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":680506,"millis":0.680506,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":218803,"millis":0.218803,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":160801,"millis":0.160801,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:25.285 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1232412,"millis":1.232412,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145902,"millis":0.145902,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:25.286 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1005510,"millis":1.00551,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87300,"millis":0.0873,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:25.287 [print] #notpresent \n"},{"result":{"nanos":495404,"millis":0.495404,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":126602,"millis":0.126602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:25.288 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1141411,"millis":1.141411,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":130301,"millis":0.130301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:25.289 [print] Rijkswaterstaat \n"},{"result":{"nanos":142002,"millis":0.142002,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:25.289 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":770307,"millis":0.770307,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":497905,"millis":0.497905,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":319703,"millis":0.319703,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.159051,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"cf69ec50-9849-4afd-853c-ee5621md336d","startTime":1639198884436,"refId":"[1.333:67]","endTime":1639198885291,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621md336d"},"exampleIndex":332},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:24.482 karate.env system property was: null \n"},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":158002,"millis":0.158002,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":401904,"millis":0.401904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":63301,"millis":0.063301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437004,"millis":0.437004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":144801,"millis":0.144801,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18701,"millis":0.018701,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854304853,"millis":854.304853,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":955709,"millis":0.955709,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'"}},{"result":{"nanos":774007,"millis":0.774007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":878508,"millis":0.878508,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":716807,"millis":0.716807,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":959309,"millis":0.959309,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1017809,"millis":1.017809,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":735507,"millis":0.735507,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":820208,"millis":0.820208,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":623306,"millis":0.623306,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":174901,"millis":0.174901,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":121202,"millis":0.121202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:25.346 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n"},{"result":{"nanos":815608,"millis":0.815608,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":135001,"millis":0.135001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:25.347 [print] #notpresent \n"},{"result":{"nanos":655206,"millis":0.655206,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":65901,"millis":0.065901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:25.348 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":99301,"millis":0.099301,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":158802,"millis":0.158802,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:25.348 [print] #notpresent \n"},{"result":{"nanos":766707,"millis":0.766707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":178301,"millis":0.178301,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:25.349 [print] Beheer PDOK \n"},{"result":{"nanos":108301,"millis":0.108301,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:25.349 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n"},{"result":{"nanos":880308,"millis":0.880308,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":480405,"millis":0.480405,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":283403,"millis":0.283403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.175183,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","startTime":1639198884481,"refId":"[1.334:67]","endTime":1639198885351,"exampleData":{"datasetIdentifierCode":"fff9d7cf-9929-4dde-98b8-06ceda7e5610"},"exampleIndex":333},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:25.152 karate.env system property was: null \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63601,"millis":0.063601,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59001,"millis":0.059001,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":378903,"millis":0.378903,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":432004,"millis":0.432004,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31901,"millis":0.031901,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32701,"millis":0.032701,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":880453106,"millis":880.453106,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":980410,"millis":0.98041,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":783807,"millis":0.783807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":662607,"millis":0.662607,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":688507,"millis":0.688507,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":780207,"millis":0.780207,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":661707,"millis":0.661707,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":575406,"millis":0.575406,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":594006,"millis":0.594006,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":768807,"millis":0.768807,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":218002,"millis":0.218002,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":123702,"millis":0.123702,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:26.041 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n"},{"result":{"nanos":664706,"millis":0.664706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103601,"millis":0.103601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:26.042 [print] OGC:CSW \n"},{"result":{"nanos":761908,"millis":0.761908,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81001,"millis":0.081001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:26.043 [print] #notpresent \n"},{"result":{"nanos":114601,"millis":0.114601,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131401,"millis":0.131401,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:26.043 [print] OGC:CSW \n"},{"result":{"nanos":749608,"millis":0.749608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120801,"millis":0.120801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:26.044 [print] Beheer PDOK \n"},{"result":{"nanos":101701,"millis":0.101701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:26.044 [print] #notpresent \n"},{"result":{"nanos":733107,"millis":0.733107,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634806,"millis":0.634806,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":293802,"millis":0.293802,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.042828,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","startTime":1639198885152,"refId":"[1.335:67]","endTime":1639198886046,"exampleData":{"datasetIdentifierCode":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8"},"exampleIndex":334},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56600,"millis":0.0566,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:25.243 karate.env system property was: null \n"},{"result":{"nanos":34501,"millis":0.034501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":181102,"millis":0.181102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":128501,"millis":0.128501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":405604,"millis":0.405604,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101901,"millis":0.101901,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":406204,"millis":0.406204,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35301,"millis":0.035301,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846589178,"millis":846.589178,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":923609,"millis":0.923609,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'"}},{"result":{"nanos":816508,"millis":0.816508,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":765307,"millis":0.765307,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":773008,"millis":0.773008,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":828708,"millis":0.828708,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":691007,"millis":0.691007,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":685307,"millis":0.685307,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":655406,"millis":0.655406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":698307,"millis":0.698307,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76301,"millis":0.076301,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":171002,"millis":0.171002,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:26.099 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1305612,"millis":1.305612,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103001,"millis":0.103001,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:26.100 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1201911,"millis":1.201911,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":79701,"millis":0.079701,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:26.102 [print] #notpresent \n"},{"result":{"nanos":419204,"millis":0.419204,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97001,"millis":0.097001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:26.102 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1190511,"millis":1.190511,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89901,"millis":0.089901,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:26.104 [print] Beheer PDOK \n"},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:26.104 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n"},{"result":{"nanos":1447614,"millis":1.447614,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":630906,"millis":0.630906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":282903,"millis":0.282903,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.131828,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","startTime":1639198885243,"refId":"[1.336:67]","endTime":1639198886106,"exampleData":{"datasetIdentifierCode":"d69fee4a-e3ff-47d4-919d-e55276a3fad9"},"exampleIndex":335},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60001,"millis":0.060001,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:25.294 karate.env system property was: null \n"},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":104401,"millis":0.104401,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":94500,"millis":0.0945,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":439104,"millis":0.439104,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":122301,"millis":0.122301,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444305,"millis":0.444305,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94200,"millis":0.0942,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":35201,"millis":0.035201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848117493,"millis":848.117493,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":690906,"millis":0.690906,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":731007,"millis":0.731007,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":708306,"millis":0.708306,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":708707,"millis":0.708707,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":730307,"millis":0.730307,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":756807,"millis":0.756807,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91801,"millis":0.091801,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":768707,"millis":0.768707,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":575905,"millis":0.575905,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":698707,"millis":0.698707,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63801,"millis":0.063801,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113201,"millis":0.113201,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:26.151 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":628506,"millis":0.628506,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":60701,"millis":0.060701,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:26.151 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":694607,"millis":0.694607,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76900,"millis":0.0769,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:26.152 [print] #notpresent \n"},{"result":{"nanos":40801,"millis":0.040801,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":84101,"millis":0.084101,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:26.152 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":751407,"millis":0.751407,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63501,"millis":0.063501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:26.153 [print] Beheer PDOK \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:26.153 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":707507,"millis":0.707507,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":467005,"millis":0.467005,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":372403,"millis":0.372403,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.306607,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","startTime":1639198885293,"refId":"[1.337:67]","endTime":1639198886155,"exampleData":{"datasetIdentifierCode":"627b50bf-2e33-4beb-a314-ff8c0fe8912e"},"exampleIndex":336},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:25.364 karate.env system property was: null \n"},{"result":{"nanos":39501,"millis":0.039501,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":168102,"millis":0.168102,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":116401,"millis":0.116401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":503705,"millis":0.503705,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":128801,"millis":0.128801,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424104,"millis":0.424104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35801,"millis":0.035801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":76101,"millis":0.076101,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":10600,"millis":0.0106,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":861205520,"millis":861.20552,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":777408,"millis":0.777408,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":625506,"millis":0.625506,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":564706,"millis":0.564706,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":854408,"millis":0.854408,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":729007,"millis":0.729007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":760108,"millis":0.760108,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":590006,"millis":0.590006,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":665607,"millis":0.665607,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":667706,"millis":0.667706,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91401,"millis":0.091401,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86301,"millis":0.086301,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:26.234 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":591706,"millis":0.591706,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118201,"millis":0.118201,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:26.235 [print] #notpresent \n"},{"result":{"nanos":538805,"millis":0.538805,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101601,"millis":0.101601,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:26.236 [print] #notpresent \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75001,"millis":0.075001,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:26.236 [print] #notpresent \n"},{"result":{"nanos":752707,"millis":0.752707,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126801,"millis":0.126801,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:26.237 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:26.237 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":773608,"millis":0.773608,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":601906,"millis":0.601906,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":267402,"millis":0.267402,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.333038,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"12505d53-a942-467e-a462-ddbe5ac6467f","startTime":1639198885353,"refId":"[1.338:67]","endTime":1639198886238,"exampleData":{"datasetIdentifierCode":"12505d53-a942-467e-a462-ddbe5ac6467f"},"exampleIndex":337},{"sectionIndex":0,"stepResults":[{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:26.048 karate.env system property was: null \n"},{"result":{"nanos":33201,"millis":0.033201,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":100701,"millis":0.100701,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93801,"millis":0.093801,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":350003,"millis":0.350003,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103201,"millis":0.103201,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399404,"millis":0.399404,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49201,"millis":0.049201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851061522,"millis":851.061522,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":844208,"millis":0.844208,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":727807,"millis":0.727807,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":641807,"millis":0.641807,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":576905,"millis":0.576905,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":698107,"millis":0.698107,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":767608,"millis":0.767608,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":575806,"millis":0.575806,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":610406,"millis":0.610406,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":581806,"millis":0.581806,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91201,"millis":0.091201,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":128401,"millis":0.128401,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:26.908 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":987510,"millis":0.98751,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86401,"millis":0.086401,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:26.909 [print] #notpresent \n"},{"result":{"nanos":644506,"millis":0.644506,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61301,"millis":0.061301,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:26.909 [print] #notpresent \n"},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":174602,"millis":0.174602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:26.910 [print] #notpresent \n"},{"result":{"nanos":909309,"millis":0.909309,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82401,"millis":0.082401,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:26.911 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":93801,"millis":0.093801,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:26.911 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":948909,"millis":0.948909,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":640307,"millis":0.640307,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":441004,"millis":0.441004,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.784047,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"8a772a52-d659-47b3-a131-82398fb78664","startTime":1639198886048,"refId":"[1.339:67]","endTime":1639198886913,"exampleData":{"datasetIdentifierCode":"8a772a52-d659-47b3-a131-82398fb78664"},"exampleIndex":338},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"05:01:26.108 karate.env system property was: null \n"},{"result":{"nanos":32801,"millis":0.032801,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59401,"millis":0.059401,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":382904,"millis":0.382904,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":387104,"millis":0.387104,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67401,"millis":0.067401,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843959153,"millis":843.959153,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":18101,"millis":0.018101,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":907309,"millis":0.907309,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":746707,"millis":0.746707,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":653406,"millis":0.653406,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":687806,"millis":0.687806,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":725007,"millis":0.725007,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":663206,"millis":0.663206,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":601506,"millis":0.601506,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":701107,"millis":0.701107,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":599906,"millis":0.599906,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":174602,"millis":0.174602,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":92501,"millis":0.092501,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"05:01:26.961 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1017510,"millis":1.01751,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89601,"millis":0.089601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"05:01:26.962 [print] #notpresent \n"},{"result":{"nanos":782508,"millis":0.782508,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84800,"millis":0.0848,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"05:01:26.963 [print] #notpresent \n"},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":181602,"millis":0.181602,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"05:01:26.963 [print] #notpresent \n"},{"result":{"nanos":836608,"millis":0.836608,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88501,"millis":0.088501,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"05:01:26.964 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":50701,"millis":0.050701,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"05:01:26.964 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1047710,"millis":1.04771,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":514605,"millis":0.514605,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302803,"millis":0.302803,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.732277,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","startTime":1639198886108,"refId":"[1.340:67]","endTime":1639198886966,"exampleData":{"datasetIdentifierCode":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217"},"exampleIndex":339}],"callDepth":0,"name":"get details","description":"","resultDate":"2021-12-11 05:01:26 AM","durationMillis":301618.769139,"passedCount":340}