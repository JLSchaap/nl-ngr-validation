{"failedCount":0,"prefixedPath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","packageQualifiedName":"src.test.java.InspireTest.ngr.T02_Services","loopIndex":-1,"relativePath":"src\/test\/java\/InspireTest\/ngr\/T02_Services.feature","scenarioResults":[{"sectionIndex":0,"stepResults":[{"result":{"nanos":130699,"millis":0.130699,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:33.657 karate.env system property was: null \n"},{"result":{"nanos":141699,"millis":0.141699,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":157699,"millis":0.157699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":168799,"millis":0.168799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":429897,"millis":0.429897,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":222498,"millis":0.222498,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":16672475,"millis":16.672475,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":149399,"millis":0.149399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":166699,"millis":0.166699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56999,"millis":0.056999,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38499,"millis":0.038499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":896467796,"millis":896.467796,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1276390,"millis":1.27639,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '275b64ab-34c2-41f8-8904-97812c7f716e'"}},{"result":{"nanos":419397,"millis":0.419397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":693194,"millis":0.693194,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":451297,"millis":0.451297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":4206068,"millis":4.206068,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1197291,"millis":1.197291,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":245298,"millis":0.245298,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":549796,"millis":0.549796,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":421197,"millis":0.421197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":419596,"millis":0.419596,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1592888,"millis":1.592888,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":648496,"millis":0.648496,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:34.586 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":430097,"millis":0.430097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":638895,"millis":0.638895,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:34.587 [print] OGC:WMS \n"},{"result":{"nanos":1380490,"millis":1.38049,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":204498,"millis":0.204498,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:34.588 [print] #notpresent \n"},{"result":{"nanos":524596,"millis":0.524596,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":153499,"millis":0.153499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:34.589 [print] OGC:WMS \n"},{"result":{"nanos":717395,"millis":0.717395,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":202699,"millis":0.202699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:34.590 [print] Beheer PDOK \n"},{"result":{"nanos":423697,"millis":0.423697,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:34.590 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":1325490,"millis":1.32549,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":7301845,"millis":7.301845,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":636495,"millis":0.636495,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"275b64ab-34c2-41f8-8904-97812c7f716e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":941.107562,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"275b64ab-34c2-41f8-8904-97812c7f716e","startTime":1632027513652,"refId":"[1.1:67]","endTime":1632027514600,"exampleData":{"datasetIdentifierCode":"275b64ab-34c2-41f8-8904-97812c7f716e"},"exampleIndex":0},{"sectionIndex":0,"stepResults":[{"result":{"nanos":91999,"millis":0.091999,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:33.680 karate.env system property was: null \n"},{"result":{"nanos":81700,"millis":0.0817,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":136399,"millis":0.136399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":160799,"millis":0.160799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263498,"millis":0.263498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":171399,"millis":0.171399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":598195,"millis":0.598195,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":123999,"millis":0.123999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":137999,"millis":0.137999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":112399,"millis":0.112399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58500,"millis":0.0585,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46499,"millis":0.046499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":56900,"millis":0.0569,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":35999,"millis":0.035999,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":957249241,"millis":957.249241,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":658995,"millis":0.658995,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ceda1b88-32ac-40b2-a841-71eb041c9427'"}},{"result":{"nanos":691495,"millis":0.691495,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":900193,"millis":0.900193,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":699094,"millis":0.699094,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1135092,"millis":1.135092,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1006593,"millis":1.006593,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":123099,"millis":0.123099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2678280,"millis":2.67828,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":921993,"millis":0.921993,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":756494,"millis":0.756494,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":290098,"millis":0.290098,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":458696,"millis":0.458696,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:34.651 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1353190,"millis":1.35319,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":676495,"millis":0.676495,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:34.653 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":732294,"millis":0.732294,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":482596,"millis":0.482596,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:34.654 [print] #notpresent \n"},{"result":{"nanos":138699,"millis":0.138699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":486997,"millis":0.486997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:34.655 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":686595,"millis":0.686595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":634995,"millis":0.634995,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:34.656 [print] Beheer PDOK \n"},{"result":{"nanos":3186276,"millis":3.186276,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:34.660 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":736695,"millis":0.736695,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1106291,"millis":1.106291,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":587796,"millis":0.587796,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ceda1b88-32ac-40b2-a841-71eb041c9427\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":980.556466,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ceda1b88-32ac-40b2-a841-71eb041c9427","startTime":1632027513679,"refId":"[1.2:67]","endTime":1632027514662,"exampleData":{"datasetIdentifierCode":"ceda1b88-32ac-40b2-a841-71eb041c9427"},"exampleIndex":1},{"sectionIndex":0,"stepResults":[{"result":{"nanos":101699,"millis":0.101699,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:33.690 karate.env system property was: null \n"},{"result":{"nanos":78399,"millis":0.078399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138599,"millis":0.138599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":184499,"millis":0.184499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279598,"millis":0.279598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":231699,"millis":0.231699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1272990,"millis":1.27299,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":130999,"millis":0.130999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":7586443,"millis":7.586443,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":78599,"millis":0.078599,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":41799,"millis":0.041799,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41099,"millis":0.041099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":987339015,"millis":987.339015,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":633695,"millis":0.633695,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f76bdce5-344e-415f-8f2c-972755e80b65'"}},{"result":{"nanos":482796,"millis":0.482796,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":499496,"millis":0.499496,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":441497,"millis":0.441497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":599195,"millis":0.599195,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":585296,"millis":0.585296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":129399,"millis":0.129399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":514096,"millis":0.514096,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":437897,"millis":0.437897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":491397,"millis":0.491397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1848086,"millis":1.848086,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":287098,"millis":0.287098,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:34.696 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":499797,"millis":0.499797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":234598,"millis":0.234598,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:34.697 [print] #notpresent \n"},{"result":{"nanos":532296,"millis":0.532296,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":602295,"millis":0.602295,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:34.698 [print] OGC:WMS \n"},{"result":{"nanos":191399,"millis":0.191399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":213999,"millis":0.213999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:34.698 [print] #notpresent \n"},{"result":{"nanos":658995,"millis":0.658995,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":237698,"millis":0.237698,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:34.699 [print] Beheer PDOK \n"},{"result":{"nanos":223598,"millis":0.223598,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:34.699 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":548996,"millis":0.548996,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":825694,"millis":0.825694,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":484396,"millis":0.484396,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f76bdce5-344e-415f-8f2c-972755e80b65\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1009.915746,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f76bdce5-344e-415f-8f2c-972755e80b65","startTime":1632027513686,"refId":"[1.3:67]","endTime":1632027514701,"exampleData":{"datasetIdentifierCode":"f76bdce5-344e-415f-8f2c-972755e80b65"},"exampleIndex":2},{"sectionIndex":0,"stepResults":[{"result":{"nanos":123399,"millis":0.123399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:33.679 karate.env system property was: null \n"},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":168898,"millis":0.168898,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":191899,"millis":0.191899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":299498,"millis":0.299498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":196599,"millis":0.196599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1183191,"millis":1.183191,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":138799,"millis":0.138799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":148399,"millis":0.148399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59199,"millis":0.059199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":40999,"millis":0.040999,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":36799,"millis":0.036799,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":920735214,"millis":920.735214,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":446897,"millis":0.446897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97b49056-8ace-426c-ae3e-bf7efe4c000f'"}},{"result":{"nanos":478396,"millis":0.478396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":468397,"millis":0.468397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2430981,"millis":2.430981,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":957293,"millis":0.957293,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":592095,"millis":0.592095,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":118799,"millis":0.118799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":393097,"millis":0.393097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2707580,"millis":2.70758,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":442797,"millis":0.442797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":445897,"millis":0.445897,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":512496,"millis":0.512496,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:34.613 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":440997,"millis":0.440997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":571995,"millis":0.571995,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:34.614 [print] OGC:WMS \n"},{"result":{"nanos":627996,"millis":0.627996,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":503997,"millis":0.503997,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:34.616 [print] #notpresent \n"},{"result":{"nanos":157898,"millis":0.157898,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":407097,"millis":0.407097,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:34.616 [print] OGC:WMS \n"},{"result":{"nanos":923393,"millis":0.923393,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":2614181,"millis":2.614181,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:34.620 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":673695,"millis":0.673695,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:34.620 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":1131792,"millis":1.131792,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":796794,"millis":0.796794,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":659795,"millis":0.659795,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97b49056-8ace-426c-ae3e-bf7efe4c000f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":943.096748,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"97b49056-8ace-426c-ae3e-bf7efe4c000f","startTime":1632027513677,"refId":"[1.4:67]","endTime":1632027514623,"exampleData":{"datasetIdentifierCode":"97b49056-8ace-426c-ae3e-bf7efe4c000f"},"exampleIndex":3},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23499,"millis":0.023499,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:34.603 karate.env system property was: null \n"},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69299,"millis":0.069299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":283698,"millis":0.283698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":137299,"millis":0.137299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":524596,"millis":0.524596,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":71800,"millis":0.0718,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":159898,"millis":0.159898,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22399,"millis":0.022399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":82000,"millis":0.082,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":10299,"millis":0.010299,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871468683,"millis":871.468683,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":647795,"millis":0.647795,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4041f923-6b77-4816-bf46-437e85416c31'"}},{"result":{"nanos":767994,"millis":0.767994,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2354582,"millis":2.354582,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":453597,"millis":0.453597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":767694,"millis":0.767694,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":988193,"millis":0.988193,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":63200,"millis":0.0632,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1209691,"millis":1.209691,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":316497,"millis":0.316497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":412397,"millis":0.412397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90299,"millis":0.090299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":722495,"millis":0.722495,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:35.486 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnmarienestrategie2018\\\/wms\\\/v1_0?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":346597,"millis":0.346597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":537596,"millis":0.537596,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:35.487 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":379997,"millis":0.379997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":388897,"millis":0.388897,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:35.488 [print] #notpresent \n"},{"result":{"nanos":123999,"millis":0.123999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":357897,"millis":0.357897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:35.488 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":981093,"millis":0.981093,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":344997,"millis":0.344997,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:35.489 [print] Beheer PDOK \n"},{"result":{"nanos":775594,"millis":0.775594,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:35.490 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":396397,"millis":0.396397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":710895,"millis":0.710895,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":545496,"millis":0.545496,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4041f923-6b77-4816-bf46-437e85416c31\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.698359,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"4041f923-6b77-4816-bf46-437e85416c31","startTime":1632027514602,"refId":"[1.5:67]","endTime":1632027515492,"exampleData":{"datasetIdentifierCode":"4041f923-6b77-4816-bf46-437e85416c31"},"exampleIndex":4},{"sectionIndex":0,"stepResults":[{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:34.626 karate.env system property was: null \n"},{"result":{"nanos":45599,"millis":0.045599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80999,"millis":0.080999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228198,"millis":0.228198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":520496,"millis":0.520496,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54299,"millis":0.054299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":391597,"millis":0.391597,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37599,"millis":0.037599,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":902910247,"millis":902.910247,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":837694,"millis":0.837694,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '224d93f6-0e4e-41fe-8424-1ab11a6c55ed'"}},{"result":{"nanos":445397,"millis":0.445397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":386097,"millis":0.386097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":327898,"millis":0.327898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":963192,"millis":0.963192,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":394897,"millis":0.394897,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":270798,"millis":0.270798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":289398,"millis":0.289398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":300198,"millis":0.300198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":308398,"millis":0.308398,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":428996,"millis":0.428996,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:35.536 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":863994,"millis":0.863994,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1313990,"millis":1.31399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:35.538 [print] #notpresent \n"},{"result":{"nanos":417597,"millis":0.417597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":470196,"millis":0.470196,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:35.539 [print] OGC:WFS \n"},{"result":{"nanos":87199,"millis":0.087199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1010993,"millis":1.010993,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:35.539 [print] #notpresent \n"},{"result":{"nanos":400897,"millis":0.400897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":398697,"millis":0.398697,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:35.541 [print] RIVM \n"},{"result":{"nanos":621596,"millis":0.621596,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:35.542 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":524596,"millis":0.524596,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":722995,"millis":0.722995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":724395,"millis":0.724395,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"224d93f6-0e4e-41fe-8424-1ab11a6c55ed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":917.132742,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed","startTime":1632027514625,"refId":"[1.6:67]","endTime":1632027515544,"exampleData":{"datasetIdentifierCode":"224d93f6-0e4e-41fe-8424-1ab11a6c55ed"},"exampleIndex":5},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:34.664 karate.env system property was: null \n"},{"result":{"nanos":54299,"millis":0.054299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":118399,"millis":0.118399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311698,"millis":0.311698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":80999,"millis":0.080999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":487697,"millis":0.487697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51799,"millis":0.051799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":124699,"millis":0.124699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":878873027,"millis":878.873027,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5999,"millis":0.005999,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":396097,"millis":0.396097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '67bcc21d-beda-449d-975c-00a4fa80f2b7'"}},{"result":{"nanos":407997,"millis":0.407997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":472997,"millis":0.472997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1114091,"millis":1.114091,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":590096,"millis":0.590096,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":427796,"millis":0.427796,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":312697,"millis":0.312697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2655880,"millis":2.65588,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":438797,"millis":0.438797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99499,"millis":0.099499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":544196,"millis":0.544196,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:35.554 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/hydrografie\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":370197,"millis":0.370197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":375797,"millis":0.375797,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:35.554 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":592796,"millis":0.592796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":364497,"millis":0.364497,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:35.555 [print] #notpresent \n"},{"result":{"nanos":102399,"millis":0.102399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":391097,"millis":0.391097,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:35.556 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":355597,"millis":0.355597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":357798,"millis":0.357798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:35.557 [print] Beheer PDOK \n"},{"result":{"nanos":867394,"millis":0.867394,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:35.557 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":434897,"millis":0.434897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1589788,"millis":1.589788,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":757795,"millis":0.757795,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"67bcc21d-beda-449d-975c-00a4fa80f2b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":894.399611,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"67bcc21d-beda-449d-975c-00a4fa80f2b7","startTime":1632027514664,"refId":"[1.7:67]","endTime":1632027515560,"exampleData":{"datasetIdentifierCode":"67bcc21d-beda-449d-975c-00a4fa80f2b7"},"exampleIndex":6},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54399,"millis":0.054399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:34.704 karate.env system property was: null \n"},{"result":{"nanos":76800,"millis":0.0768,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52499,"millis":0.052499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":219798,"millis":0.219798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62599,"millis":0.062599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1138192,"millis":1.138192,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55999,"millis":0.055999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":117499,"millis":0.117499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56399,"millis":0.056399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":883311194,"millis":883.311194,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":344998,"millis":0.344998,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '081bcfff-5f66-467c-95d0-d88dcf9aa4cf'"}},{"result":{"nanos":382797,"millis":0.382797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":324497,"millis":0.324497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":370298,"millis":0.370298,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1000093,"millis":1.000093,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":355097,"millis":0.355097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":273398,"millis":0.273398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":268998,"millis":0.268998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":274897,"millis":0.274897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":317298,"millis":0.317298,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":396197,"millis":0.396197,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:35.594 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":904093,"millis":0.904093,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":378497,"millis":0.378497,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:35.595 [print] #notpresent \n"},{"result":{"nanos":302998,"millis":0.302998,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":649795,"millis":0.649795,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:35.596 [print] OGC:WMS \n"},{"result":{"nanos":91999,"millis":0.091999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":336997,"millis":0.336997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:35.597 [print] #notpresent \n"},{"result":{"nanos":358998,"millis":0.358998,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":452396,"millis":0.452396,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:35.597 [print] RIVM \n"},{"result":{"nanos":677995,"millis":0.677995,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:35.598 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":373597,"millis":0.373597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":492896,"millis":0.492896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":431597,"millis":0.431597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"081bcfff-5f66-467c-95d0-d88dcf9aa4cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":895.077704,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf","startTime":1632027514703,"refId":"[1.8:67]","endTime":1632027515600,"exampleData":{"datasetIdentifierCode":"081bcfff-5f66-467c-95d0-d88dcf9aa4cf"},"exampleIndex":7},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:35.494 karate.env system property was: null \n"},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65399,"millis":0.065399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":219498,"millis":0.219498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":372597,"millis":0.372597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":136399,"millis":0.136399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58199,"millis":0.058199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873427468,"millis":873.427468,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":495897,"millis":0.495897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ca71572f-a498-4ca6-aa60-d4c4c4d59e2e'"}},{"result":{"nanos":356698,"millis":0.356698,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":323797,"millis":0.323797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":314098,"millis":0.314098,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1085792,"millis":1.085792,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":341497,"millis":0.341497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":267498,"millis":0.267498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":254798,"millis":0.254798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":299498,"millis":0.299498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83099,"millis":0.083099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":822694,"millis":0.822694,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:36.374 [print] https:\/\/inspire.caris.nl\/geoserver\/gnwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":1060192,"millis":1.060192,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":156899,"millis":0.156899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:36.376 [print] OGC:WMS \n"},{"result":{"nanos":713894,"millis":0.713894,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100100,"millis":0.1001,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:36.376 [print] #notpresent \n"},{"result":{"nanos":278398,"millis":0.278398,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80500,"millis":0.0805,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:36.377 [print] OGC:WMS \n"},{"result":{"nanos":616895,"millis":0.616895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100199,"millis":0.100199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:36.378 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":77599,"millis":0.077599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:36.378 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":352898,"millis":0.352898,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1566988,"millis":1.566988,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":496696,"millis":0.496696,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.868584,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e","startTime":1632027515494,"refId":"[1.9:67]","endTime":1632027516380,"exampleData":{"datasetIdentifierCode":"ca71572f-a498-4ca6-aa60-d4c4c4d59e2e"},"exampleIndex":8},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:35.548 karate.env system property was: null \n"},{"result":{"nanos":77299,"millis":0.077299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":101700,"millis":0.1017,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87700,"millis":0.0877,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243398,"millis":0.243398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":83599,"millis":0.083599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436697,"millis":0.436697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50899,"millis":0.050899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":131299,"millis":0.131299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7899,"millis":0.007899,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842600498,"millis":842.600498,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":351797,"millis":0.351797,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c7dad4b9-42a8-452f-a33b-d4938ed22142'"}},{"result":{"nanos":922393,"millis":0.922393,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":378797,"millis":0.378797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":328398,"millis":0.328398,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":550296,"millis":0.550296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":475997,"millis":0.475997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56999,"millis":0.056999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":838794,"millis":0.838794,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":261898,"millis":0.261898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":269398,"millis":0.269398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127300,"millis":0.1273,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":753795,"millis":0.753795,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:36.399 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":301497,"millis":0.301497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":341898,"millis":0.341898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:36.399 [print] OGC:WFS \n"},{"result":{"nanos":354097,"millis":0.354097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":346397,"millis":0.346397,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:36.400 [print] #notpresent \n"},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97199,"millis":0.097199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:36.400 [print] OGC:WFS \n"},{"result":{"nanos":903894,"millis":0.903894,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112800,"millis":0.1128,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:36.402 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":753594,"millis":0.753594,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:36.402 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":330898,"millis":0.330898,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":672795,"millis":0.672795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":632795,"millis":0.632795,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c7dad4b9-42a8-452f-a33b-d4938ed22142\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.227014,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"c7dad4b9-42a8-452f-a33b-d4938ed22142","startTime":1632027515545,"refId":"[1.10:67]","endTime":1632027516404,"exampleData":{"datasetIdentifierCode":"c7dad4b9-42a8-452f-a33b-d4938ed22142"},"exampleIndex":9},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23399,"millis":0.023399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:35.564 karate.env system property was: null \n"},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":602295,"millis":0.602295,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":197598,"millis":0.197598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":352997,"millis":0.352997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1134791,"millis":1.134791,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6799,"millis":0.006799,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":886325571,"millis":886.325571,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":435997,"millis":0.435997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8abcd2d1-3beb-43e5-a572-2b2da05a0a98'"}},{"result":{"nanos":572996,"millis":0.572996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":451396,"millis":0.451396,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":374697,"millis":0.374697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":776195,"millis":0.776195,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1000893,"millis":1.000893,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":59299,"millis":0.059299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":423697,"millis":0.423697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":356697,"millis":0.356697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":503196,"millis":0.503196,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":115499,"millis":0.115499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":198499,"millis":0.198499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:36.459 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":415697,"millis":0.415697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":130699,"millis":0.130699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:36.460 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":424897,"millis":0.424897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":122599,"millis":0.122599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:36.461 [print] #notpresent \n"},{"result":{"nanos":51399,"millis":0.051399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":119699,"millis":0.119699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:36.461 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":472396,"millis":0.472396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":339897,"millis":0.339897,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:36.462 [print] Beheer PDOK \n"},{"result":{"nanos":97000,"millis":0.097,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:36.462 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":530896,"millis":0.530896,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":815194,"millis":0.815194,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":506996,"millis":0.506996,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8abcd2d1-3beb-43e5-a572-2b2da05a0a98\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":898.28958,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98","startTime":1632027515563,"refId":"[1.11:67]","endTime":1632027516464,"exampleData":{"datasetIdentifierCode":"8abcd2d1-3beb-43e5-a572-2b2da05a0a98"},"exampleIndex":10},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:35.602 karate.env system property was: null \n"},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50099,"millis":0.050099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67599,"millis":0.067599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":187099,"millis":0.187099,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57799,"millis":0.057799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":342198,"millis":0.342198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44899,"millis":0.044899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":364698,"millis":0.364698,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55999,"millis":0.055999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":880587814,"millis":880.587814,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":663195,"millis":0.663195,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4fb15e0d-d88f-40f1-b407-3d3edcf7e184'"}},{"result":{"nanos":449197,"millis":0.449197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":474397,"millis":0.474397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":667595,"millis":0.667595,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":547796,"millis":0.547796,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":481096,"millis":0.481096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":52799,"millis":0.052799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":372798,"millis":0.372798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":351497,"millis":0.351497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":373497,"millis":0.373497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94599,"millis":0.094599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105599,"millis":0.105599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:36.489 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":471096,"millis":0.471096,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":289898,"millis":0.289898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:36.490 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":480696,"millis":0.480696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":632596,"millis":0.632596,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:36.491 [print] #notpresent \n"},{"result":{"nanos":93800,"millis":0.0938,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":114599,"millis":0.114599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:36.492 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":731494,"millis":0.731494,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76000,"millis":0.076,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:36.492 [print] Beheer PDOK \n"},{"result":{"nanos":719895,"millis":0.719895,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:36.493 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":444297,"millis":0.444297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":509197,"millis":0.509197,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":468496,"millis":0.468496,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4fb15e0d-d88f-40f1-b407-3d3edcf7e184\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.560033,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184","startTime":1632027515601,"refId":"[1.12:67]","endTime":1632027516495,"exampleData":{"datasetIdentifierCode":"4fb15e0d-d88f-40f1-b407-3d3edcf7e184"},"exampleIndex":11},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:36.382 karate.env system property was: null \n"},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":273698,"millis":0.273698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59499,"millis":0.059499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373897,"millis":0.373897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81199,"millis":0.081199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63499,"millis":0.063499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":1006519372,"millis":1006.519372,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":13713997,"millis":13.713997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e69bb2e9-eff4-4fb3-86a6-057cf628e761'"}},{"result":{"nanos":29223982,"millis":29.223982,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":19979950,"millis":19.97995,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":7343045,"millis":7.343045,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":6593251,"millis":6.593251,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":5992755,"millis":5.992755,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":117199,"millis":0.117199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":4091869,"millis":4.091869,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":3726772,"millis":3.726772,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4212968,"millis":4.212968,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":2227484,"millis":2.227484,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":280397,"millis":0.280397,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:37.489 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":3949871,"millis":3.949871,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201898,"millis":0.201898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:37.493 [print] #notpresent \n"},{"result":{"nanos":4390767,"millis":4.390767,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":340698,"millis":0.340698,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:37.498 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":169499,"millis":0.169499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":167399,"millis":0.167399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:37.498 [print] #notpresent \n"},{"result":{"nanos":6184853,"millis":6.184853,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":219199,"millis":0.219199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:37.505 [print] Beheer PDOK \n"},{"result":{"nanos":254098,"millis":0.254098,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:37.505 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":5774056,"millis":5.774056,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2760880,"millis":2.76088,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":496797,"millis":0.496797,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e69bb2e9-eff4-4fb3-86a6-057cf628e761\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1130.099948,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e69bb2e9-eff4-4fb3-86a6-057cf628e761","startTime":1632027516382,"refId":"[1.13:67]","endTime":1632027517514,"exampleData":{"datasetIdentifierCode":"e69bb2e9-eff4-4fb3-86a6-057cf628e761"},"exampleIndex":12},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:36.407 karate.env system property was: null \n"},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51799,"millis":0.051799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":233099,"millis":0.233099,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":71899,"millis":0.071899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":384597,"millis":0.384597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":107500,"millis":0.1075,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":248398,"millis":0.248398,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28099,"millis":0.028099,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":8799,"millis":0.008799,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":887196165,"millis":887.196165,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":461196,"millis":0.461196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '755d488b-7b94-4883-95be-6aa279604f85'"}},{"result":{"nanos":482096,"millis":0.482096,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":512397,"millis":0.512397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":449997,"millis":0.449997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":466296,"millis":0.466296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":424797,"millis":0.424797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":308797,"millis":0.308797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":323898,"millis":0.323898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":379497,"millis":0.379497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118799,"millis":0.118799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":561495,"millis":0.561495,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:37.301 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":383297,"millis":0.383297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79799,"millis":0.079799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:37.302 [print] #notpresent \n"},{"result":{"nanos":596296,"millis":0.596296,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69799,"millis":0.069799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:37.302 [print] OGC:WMS \n"},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":278598,"millis":0.278598,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:37.303 [print] #notpresent \n"},{"result":{"nanos":706694,"millis":0.706694,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72500,"millis":0.0725,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:37.304 [print] RIVM \n"},{"result":{"nanos":621195,"millis":0.621195,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:37.304 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f \n"},{"result":{"nanos":533896,"millis":0.533896,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":956993,"millis":0.956993,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":507597,"millis":0.507597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"755d488b-7b94-4883-95be-6aa279604f85\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":897.988784,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"755d488b-7b94-4883-95be-6aa279604f85","startTime":1632027516407,"refId":"[1.14:67]","endTime":1632027517306,"exampleData":{"datasetIdentifierCode":"755d488b-7b94-4883-95be-6aa279604f85"},"exampleIndex":13},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:36.467 karate.env system property was: null \n"},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58799,"millis":0.058799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":102399,"millis":0.102399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":317798,"millis":0.317798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":96399,"millis":0.096399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":482396,"millis":0.482396,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":83500,"millis":0.0835,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79799,"millis":0.079799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":8300,"millis":0.0083,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":883279094,"millis":883.279094,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":413597,"millis":0.413597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0eb64f9-8888-42e1-9550-bf91c32da4bc'"}},{"result":{"nanos":400297,"millis":0.400297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":404497,"millis":0.404497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":379697,"millis":0.379697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":517696,"millis":0.517696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":418297,"millis":0.418297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1773886,"millis":1.773886,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":467197,"millis":0.467197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":486797,"millis":0.486797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134999,"millis":0.134999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":186798,"millis":0.186798,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:37.358 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":566496,"millis":0.566496,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120099,"millis":0.120099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:37.359 [print] OGC:WMS \n"},{"result":{"nanos":424797,"millis":0.424797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113399,"millis":0.113399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:37.359 [print] #notpresent \n"},{"result":{"nanos":44699,"millis":0.044699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:37.360 [print] OGC:WMS \n"},{"result":{"nanos":1828987,"millis":1.828987,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":461896,"millis":0.461896,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:37.362 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":784394,"millis":0.784394,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:37.363 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":713095,"millis":0.713095,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":24079220,"millis":24.07922,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":11136717,"millis":11.136717,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f0eb64f9-8888-42e1-9550-bf91c32da4bc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":930.713441,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f0eb64f9-8888-42e1-9550-bf91c32da4bc","startTime":1632027516466,"refId":"[1.15:67]","endTime":1632027517399,"exampleData":{"datasetIdentifierCode":"f0eb64f9-8888-42e1-9550-bf91c32da4bc"},"exampleIndex":14},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:36.497 karate.env system property was: null \n"},{"result":{"nanos":56399,"millis":0.056399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61599,"millis":0.061599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278398,"millis":0.278398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60799,"millis":0.060799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433397,"millis":0.433397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75599,"millis":0.075599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57899,"millis":0.057899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":893749115,"millis":893.749115,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":596796,"millis":0.596796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cd370f58-0e54-48d6-b83b-ccd332bfb7c7'"}},{"result":{"nanos":485896,"millis":0.485896,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":423897,"millis":0.423897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":938593,"millis":0.938593,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":15657783,"millis":15.657783,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":10356423,"millis":10.356423,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":162299,"millis":0.162299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":780594,"millis":0.780594,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":796494,"millis":0.796494,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":729095,"millis":0.729095,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":254998,"millis":0.254998,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":2730479,"millis":2.730479,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:37.427 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":733495,"millis":0.733495,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":239499,"millis":0.239499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:37.428 [print] OGC:WMS \n"},{"result":{"nanos":676895,"millis":0.676895,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":234299,"millis":0.234299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:37.429 [print] #notpresent \n"},{"result":{"nanos":229698,"millis":0.229698,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":222998,"millis":0.222998,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:37.429 [print] OGC:WMS \n"},{"result":{"nanos":628695,"millis":0.628695,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":285698,"millis":0.285698,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:37.430 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":173899,"millis":0.173899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:37.431 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":609896,"millis":0.609896,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4509766,"millis":4.509766,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":628295,"millis":0.628295,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cd370f58-0e54-48d6-b83b-ccd332bfb7c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":938.053785,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7","startTime":1632027516496,"refId":"[1.16:67]","endTime":1632027517436,"exampleData":{"datasetIdentifierCode":"cd370f58-0e54-48d6-b83b-ccd332bfb7c7"},"exampleIndex":15},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:37.308 karate.env system property was: null \n"},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":304097,"millis":0.304097,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":277998,"millis":0.277998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61999,"millis":0.061999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385697,"millis":0.385697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44100,"millis":0.0441,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":77799,"millis":0.077799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":92999,"millis":0.092999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":877863834,"millis":877.863834,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1829486,"millis":1.829486,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1fa220c2-5f2e-4943-a57e-c291cc35084b'"}},{"result":{"nanos":1997585,"millis":1.997585,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2349883,"millis":2.349883,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2839278,"millis":2.839278,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2800079,"millis":2.800079,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2440182,"millis":2.440182,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":114499,"millis":0.114499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1834986,"millis":1.834986,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2072084,"millis":2.072084,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2206184,"millis":2.206184,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":571395,"millis":0.571395,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":401997,"millis":0.401997,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:38.210 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":2434682,"millis":2.434682,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":202498,"millis":0.202498,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:38.213 [print] #notpresent \n"},{"result":{"nanos":2216384,"millis":2.216384,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":290798,"millis":0.290798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:38.215 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":145099,"millis":0.145099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":252898,"millis":0.252898,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:38.216 [print] #notpresent \n"},{"result":{"nanos":2377882,"millis":2.377882,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":206798,"millis":0.206798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:38.218 [print] Beheer PDOK \n"},{"result":{"nanos":189599,"millis":0.189599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:38.219 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":2493481,"millis":2.493481,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":656795,"millis":0.656795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":632495,"millis":0.632495,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1fa220c2-5f2e-4943-a57e-c291cc35084b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":912.88807,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1fa220c2-5f2e-4943-a57e-c291cc35084b","startTime":1632027517308,"refId":"[1.17:67]","endTime":1632027518222,"exampleData":{"datasetIdentifierCode":"1fa220c2-5f2e-4943-a57e-c291cc35084b"},"exampleIndex":16},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:37.402 karate.env system property was: null \n"},{"result":{"nanos":59599,"millis":0.059599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":146399,"millis":0.146399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":174199,"millis":0.174199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":346397,"millis":0.346397,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":197899,"millis":0.197899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":10962318,"millis":10.962318,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":125899,"millis":0.125899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":186099,"millis":0.186099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":58399,"millis":0.058399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35699,"millis":0.035699,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":52599,"millis":0.052599,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":889760245,"millis":889.760245,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":820794,"millis":0.820794,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd4e573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":573195,"millis":0.573195,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":575096,"millis":0.575096,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":478596,"millis":0.478596,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":867693,"millis":0.867693,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":623796,"millis":0.623796,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":109100,"millis":0.1091,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":608995,"millis":0.608995,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":511096,"millis":0.511096,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":655095,"millis":0.655095,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":255198,"millis":0.255198,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":895193,"millis":0.895193,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:38.312 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwateractueel\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":544096,"millis":0.544096,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":531096,"millis":0.531096,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:38.313 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":731994,"millis":0.731994,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":498196,"millis":0.498196,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:38.315 [print] #notpresent \n"},{"result":{"nanos":159099,"millis":0.159099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":723395,"millis":0.723395,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:38.315 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":671095,"millis":0.671095,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":542796,"millis":0.542796,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:38.317 [print] Beheer PDOK \n"},{"result":{"nanos":1710287,"millis":1.710287,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:38.318 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n"},{"result":{"nanos":661395,"millis":0.661395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4038970,"millis":4.03897,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":844594,"millis":0.844594,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":920.990111,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1632027517401,"refId":"[1.18:67]","endTime":1632027518324,"exampleData":{"datasetIdentifierCode":"d4e573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":17},{"sectionIndex":0,"stepResults":[{"result":{"nanos":70599,"millis":0.070599,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:37.440 karate.env system property was: null \n"},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":155599,"millis":0.155599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":202198,"millis":0.202198,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1969785,"millis":1.969785,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":264298,"millis":0.264298,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":618695,"millis":0.618695,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":179099,"millis":0.179099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":194198,"millis":0.194198,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42799,"millis":0.042799,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":897855285,"millis":897.855285,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":591996,"millis":0.591996,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c9b43c3-064d-40c3-aa7c-879b7376ef6f'"}},{"result":{"nanos":641595,"millis":0.641595,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":553896,"millis":0.553896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":507997,"millis":0.507997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":612795,"millis":0.612795,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":573396,"millis":0.573396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":572996,"millis":0.572996,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":554695,"millis":0.554695,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":554296,"millis":0.554296,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83699,"millis":0.083699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":603496,"millis":0.603496,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:38.349 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":572495,"millis":0.572495,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":475797,"millis":0.475797,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:38.350 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":500097,"millis":0.500097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":509497,"millis":0.509497,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:38.351 [print] #notpresent \n"},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":547796,"millis":0.547796,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:38.352 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":719494,"millis":0.719494,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":441497,"millis":0.441497,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:38.353 [print] Beheer PDOK \n"},{"result":{"nanos":734794,"millis":0.734794,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:38.354 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":658895,"millis":0.658895,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":690895,"millis":0.690895,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1380489,"millis":1.380489,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1c9b43c3-064d-40c3-aa7c-879b7376ef6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":915.041758,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f","startTime":1632027517439,"refId":"[1.19:67]","endTime":1632027518357,"exampleData":{"datasetIdentifierCode":"1c9b43c3-064d-40c3-aa7c-879b7376ef6f"},"exampleIndex":18},{"sectionIndex":0,"stepResults":[{"result":{"nanos":65500,"millis":0.0655,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:37.522 karate.env system property was: null \n"},{"result":{"nanos":96900,"millis":0.0969,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":151898,"millis":0.151898,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":203999,"millis":0.203999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":370797,"millis":0.370797,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":271898,"millis":0.271898,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":557795,"millis":0.557795,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":404397,"millis":0.404397,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":190599,"millis":0.190599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63299,"millis":0.063299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37899,"millis":0.037899,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34699,"millis":0.034699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":874273261,"millis":874.273261,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":478196,"millis":0.478196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a337a9-bed3-4d79-80fa-ff4b45990d7d'"}},{"result":{"nanos":418497,"millis":0.418497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":385697,"millis":0.385697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1801086,"millis":1.801086,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":539596,"millis":0.539596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":795594,"millis":0.795594,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91699,"millis":0.091699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":514596,"millis":0.514596,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1263091,"millis":1.263091,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":518396,"millis":0.518396,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":613495,"millis":0.613495,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":750594,"millis":0.750594,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:38.407 [print] https:\/\/service.pdok.nl\/cbs\/wb2020\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":783994,"millis":0.783994,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":499996,"millis":0.499996,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:38.409 [print] INSPIRE Atom \n"},{"result":{"nanos":1148591,"millis":1.148591,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":609896,"millis":0.609896,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:38.410 [print] #notpresent \n"},{"result":{"nanos":86800,"millis":0.0868,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":405297,"millis":0.405297,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:38.411 [print] INSPIRE Atom \n"},{"result":{"nanos":423196,"millis":0.423196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":691995,"millis":0.691995,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:38.412 [print] Beheer PDOK \n"},{"result":{"nanos":755494,"millis":0.755494,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:38.413 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":430097,"millis":0.430097,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1979485,"millis":1.979485,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":880293,"millis":0.880293,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"88a337a9-bed3-4d79-80fa-ff4b45990d7d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.781412,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"88a337a9-bed3-4d79-80fa-ff4b45990d7d","startTime":1632027517517,"refId":"[1.20:67]","endTime":1632027518416,"exampleData":{"datasetIdentifierCode":"88a337a9-bed3-4d79-80fa-ff4b45990d7d"},"exampleIndex":19},{"sectionIndex":0,"stepResults":[{"result":{"nanos":88900,"millis":0.0889,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:38.226 karate.env system property was: null \n"},{"result":{"nanos":61499,"millis":0.061499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":151699,"millis":0.151699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":180398,"millis":0.180398,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":392697,"millis":0.392697,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":187899,"millis":0.187899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":655695,"millis":0.655695,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":125299,"millis":0.125299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":193798,"millis":0.193798,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63100,"millis":0.0631,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47399,"millis":0.047399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":36199,"millis":0.036199,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":35499,"millis":0.035499,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862780348,"millis":862.780348,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":756094,"millis":0.756094,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '22bedc12-e9cb-4419-8e51-dfb375d46d01'"}},{"result":{"nanos":648795,"millis":0.648795,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":506796,"millis":0.506796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":539496,"millis":0.539496,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":820594,"millis":0.820594,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":565896,"millis":0.565896,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":435896,"millis":0.435896,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":356298,"millis":0.356298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":362698,"millis":0.362698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86399,"millis":0.086399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":184898,"millis":0.184898,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:39.097 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/view_NZ?request=GetCapabilities \n"},{"result":{"nanos":395097,"millis":0.395097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":106200,"millis":0.1062,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:39.098 [print] OGC:WMS \n"},{"result":{"nanos":372898,"millis":0.372898,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72999,"millis":0.072999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:39.098 [print] #notpresent \n"},{"result":{"nanos":68799,"millis":0.068799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":102800,"millis":0.1028,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:39.098 [print] OGC:WMS \n"},{"result":{"nanos":489997,"millis":0.489997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":112999,"millis":0.112999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:39.099 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":163099,"millis":0.163099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:39.099 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":512597,"millis":0.512597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":939294,"millis":0.939294,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":580296,"millis":0.580296,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"22bedc12-e9cb-4419-8e51-dfb375d46d01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.338464,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"22bedc12-e9cb-4419-8e51-dfb375d46d01","startTime":1632027518225,"refId":"[1.21:67]","endTime":1632027519101,"exampleData":{"datasetIdentifierCode":"22bedc12-e9cb-4419-8e51-dfb375d46d01"},"exampleIndex":20},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:38.327 karate.env system property was: null \n"},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58799,"millis":0.058799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276298,"millis":0.276298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":74200,"millis":0.0742,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":413797,"millis":0.413797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45399,"millis":0.045399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":406097,"millis":0.406097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6899,"millis":0.006899,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81100,"millis":0.0811,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":9700,"millis":0.0097,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":933918361,"millis":933.918361,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":9998434,"millis":9.998434,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8e7686c3-f75e-411f-866e-6985267b916b'"}},{"result":{"nanos":22685251,"millis":22.685251,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":8588844,"millis":8.588844,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":4727169,"millis":4.727169,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":4577969,"millis":4.577969,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":4638670,"millis":4.63867,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41799,"millis":0.041799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2609783,"millis":2.609783,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2539383,"millis":2.539383,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":2881481,"millis":2.881481,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":835195,"millis":0.835195,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":859995,"millis":0.859995,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:39.328 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":3337178,"millis":3.337178,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":468596,"millis":0.468596,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:39.332 [print] #notpresent \n"},{"result":{"nanos":3028980,"millis":3.02898,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1254592,"millis":1.254592,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:39.336 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":68799,"millis":0.068799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":580096,"millis":0.580096,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:39.337 [print] #notpresent \n"},{"result":{"nanos":5334265,"millis":5.334265,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":389798,"millis":0.389798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:39.343 [print] Beheer PDOK \n"},{"result":{"nanos":579797,"millis":0.579797,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:39.343 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":4726869,"millis":4.726869,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":732595,"millis":0.732595,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":452097,"millis":0.452097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8e7686c3-f75e-411f-866e-6985267b916b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1021.433485,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"8e7686c3-f75e-411f-866e-6985267b916b","startTime":1632027518326,"refId":"[1.22:67]","endTime":1632027519349,"exampleData":{"datasetIdentifierCode":"8e7686c3-f75e-411f-866e-6985267b916b"},"exampleIndex":21},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:38.359 karate.env system property was: null \n"},{"result":{"nanos":44199,"millis":0.044199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":124799,"millis":0.124799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93799,"millis":0.093799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":573596,"millis":0.573596,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":70099,"millis":0.070099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":647595,"millis":0.647595,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":453796,"millis":0.453796,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61699,"millis":0.061699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856278102,"millis":856.278102,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":593496,"millis":0.593496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a4c5aa6c-6c7f-45d7-9799-011edd83d9c2'"}},{"result":{"nanos":423597,"millis":0.423597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":482197,"millis":0.482197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":470497,"millis":0.470497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":584996,"millis":0.584996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":466197,"millis":0.466197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":396297,"millis":0.396297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":351098,"millis":0.351098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":413197,"millis":0.413197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":167299,"millis":0.167299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":160999,"millis":0.160999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:39.223 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":465997,"millis":0.465997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119799,"millis":0.119799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:39.224 [print] OGC:WFS \n"},{"result":{"nanos":418297,"millis":0.418297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":119599,"millis":0.119599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:39.224 [print] #notpresent \n"},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94899,"millis":0.094899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:39.224 [print] OGC:WFS \n"},{"result":{"nanos":391097,"millis":0.391097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":114100,"millis":0.1141,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:39.225 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":78899,"millis":0.078899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:39.225 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":388297,"millis":0.388297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":895094,"millis":0.895094,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":493597,"millis":0.493597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.710129,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2","startTime":1632027518359,"refId":"[1.23:67]","endTime":1632027519227,"exampleData":{"datasetIdentifierCode":"a4c5aa6c-6c7f-45d7-9799-011edd83d9c2"},"exampleIndex":22},{"sectionIndex":0,"stepResults":[{"result":{"nanos":60699,"millis":0.060699,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:38.421 karate.env system property was: null \n"},{"result":{"nanos":51699,"millis":0.051699,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78500,"millis":0.0785,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69699,"millis":0.069699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":631995,"millis":0.631995,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":621196,"millis":0.621196,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49799,"millis":0.049799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81900,"millis":0.0819,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19099,"millis":0.019099,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60799,"millis":0.060799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842008552,"millis":842.008552,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":553397,"millis":0.553397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be1b57b-2cac-4119-92eb-700346543d47'"}},{"result":{"nanos":488997,"millis":0.488997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":366598,"millis":0.366598,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":361697,"millis":0.361697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":460797,"millis":0.460797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":404297,"millis":0.404297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":323298,"millis":0.323298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":327797,"millis":0.327797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":325398,"millis":0.325398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":455997,"millis":0.455997,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":5267465,"millis":5.267465,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:39.275 [print] https:\/\/inspire.caris.nl\/geoserver\/mu\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":352197,"millis":0.352197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":424598,"millis":0.424598,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:39.276 [print] OGC:WFS \n"},{"result":{"nanos":673496,"millis":0.673496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":471397,"millis":0.471397,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:39.277 [print] #notpresent \n"},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":437497,"millis":0.437497,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:39.278 [print] OGC:WFS \n"},{"result":{"nanos":507897,"millis":0.507897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":606996,"millis":0.606996,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:39.279 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":801495,"millis":0.801495,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:39.280 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":577696,"millis":0.577696,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4887168,"millis":4.887168,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1689489,"millis":1.689489,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5be1b57b-2cac-4119-92eb-700346543d47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.727101,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5be1b57b-2cac-4119-92eb-700346543d47","startTime":1632027518420,"refId":"[1.24:67]","endTime":1632027519287,"exampleData":{"datasetIdentifierCode":"5be1b57b-2cac-4119-92eb-700346543d47"},"exampleIndex":23},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22499,"millis":0.022499,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:39.104 karate.env system property was: null \n"},{"result":{"nanos":39400,"millis":0.0394,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66999,"millis":0.066999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250398,"millis":0.250398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":577596,"millis":0.577596,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68299,"millis":0.068299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123200,"millis":0.1232,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40099,"millis":0.040099,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57099,"millis":0.057099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854709973,"millis":854.709973,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":829495,"millis":0.829495,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c39474-aef9-4169-95da-9890af440b14'"}},{"result":{"nanos":1026394,"millis":1.026394,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":476297,"millis":0.476297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":801895,"millis":0.801895,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":728596,"millis":0.728596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":482997,"millis":0.482997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":474896,"millis":0.474896,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1323492,"millis":1.323492,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":359097,"millis":0.359097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121999,"millis":0.121999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":671796,"millis":0.671796,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:39.968 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":465897,"millis":0.465897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":129799,"millis":0.129799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:39.969 [print] #notpresent \n"},{"result":{"nanos":386997,"millis":0.386997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99500,"millis":0.0995,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:39.969 [print] OGC:WFS \n"},{"result":{"nanos":65199,"millis":0.065199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128899,"millis":0.128899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:39.969 [print] #notpresent \n"},{"result":{"nanos":655096,"millis":0.655096,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":123299,"millis":0.123299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:39.970 [print] RIVM \n"},{"result":{"nanos":141499,"millis":0.141499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:39.970 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":612296,"millis":0.612296,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2879781,"millis":2.879781,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":687596,"millis":0.687596,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"03c39474-aef9-4169-95da-9890af440b14\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.844074,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"03c39474-aef9-4169-95da-9890af440b14","startTime":1632027519103,"refId":"[1.25:67]","endTime":1632027519975,"exampleData":{"datasetIdentifierCode":"03c39474-aef9-4169-95da-9890af440b14"},"exampleIndex":24},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:39.229 karate.env system property was: null \n"},{"result":{"nanos":44099,"millis":0.044099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250399,"millis":0.250399,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93499,"millis":0.093499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":407497,"millis":0.407497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104999,"millis":0.104999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":833168815,"millis":833.168815,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":754995,"millis":0.754995,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f59357eb-185f-42a5-b465-90bfa6e3e416'"}},{"result":{"nanos":619096,"millis":0.619096,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":499297,"millis":0.499297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":527096,"millis":0.527096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":601496,"millis":0.601496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":488597,"millis":0.488597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34299,"millis":0.034299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":392598,"millis":0.392598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":341297,"millis":0.341297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":399698,"millis":0.399698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93099,"millis":0.093099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":674096,"millis":0.674096,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.069 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":461296,"millis":0.461296,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":431998,"millis":0.431998,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.070 [print] OGC:WFS \n"},{"result":{"nanos":419298,"millis":0.419298,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":371497,"millis":0.371497,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.071 [print] INSPIRE Atom \n"},{"result":{"nanos":68000,"millis":0.068,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":395897,"millis":0.395897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.072 [print] OGC:WFS \n"},{"result":{"nanos":511096,"millis":0.511096,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":431098,"millis":0.431098,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.073 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":559597,"millis":0.559597,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.073 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":421697,"millis":0.421697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":2703582,"millis":2.703582,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":503597,"millis":0.503597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f59357eb-185f-42a5-b465-90bfa6e3e416\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":847.129525,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f59357eb-185f-42a5-b465-90bfa6e3e416","startTime":1632027519229,"refId":"[1.26:67]","endTime":1632027520077,"exampleData":{"datasetIdentifierCode":"f59357eb-185f-42a5-b465-90bfa6e3e416"},"exampleIndex":25},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:39.296 karate.env system property was: null \n"},{"result":{"nanos":193098,"millis":0.193098,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82399,"millis":0.082399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":372698,"millis":0.372698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126400,"millis":0.1264,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":593296,"millis":0.593296,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":3326178,"millis":3.326178,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9300,"millis":0.0093,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61800,"millis":0.0618,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":9800,"millis":0.0098,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867278191,"millis":867.278191,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":508896,"millis":0.508896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7ab53b91-9df1-4c39-ba0e-06ec80ce512b'"}},{"result":{"nanos":450697,"millis":0.450697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":413597,"millis":0.413597,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":414598,"millis":0.414598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":554396,"millis":0.554396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":464097,"millis":0.464097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33699,"millis":0.033699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":399598,"millis":0.399598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":352197,"millis":0.352197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":404698,"millis":0.404698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":152599,"millis":0.152599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":136199,"millis":0.136199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.173 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":391498,"millis":0.391498,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77099,"millis":0.077099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.174 [print] OGC:WMS \n"},{"result":{"nanos":365298,"millis":0.365298,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82299,"millis":0.082299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.174 [print] #notpresent \n"},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53899,"millis":0.053899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.174 [print] OGC:WMS \n"},{"result":{"nanos":416198,"millis":0.416198,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":127599,"millis":0.127599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.175 [print] Beheer PDOK \n"},{"result":{"nanos":56499,"millis":0.056499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.175 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":535897,"millis":0.535897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":838694,"millis":0.838694,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":789895,"millis":0.789895,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7ab53b91-9df1-4c39-ba0e-06ec80ce512b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.339506,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b","startTime":1632027519289,"refId":"[1.27:67]","endTime":1632027520177,"exampleData":{"datasetIdentifierCode":"7ab53b91-9df1-4c39-ba0e-06ec80ce512b"},"exampleIndex":26},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:39.352 karate.env system property was: null \n"},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":510697,"millis":0.510697,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":99899,"millis":0.099899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":585696,"millis":0.585696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":431597,"millis":0.431597,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57300,"millis":0.0573,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859841840,"millis":859.84184,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3000,"millis":0.003,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":396898,"millis":0.396898,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c47e4ef8-951e-4765-8d01-29150c12a22d'"}},{"result":{"nanos":407797,"millis":0.407797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":359997,"millis":0.359997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":500997,"millis":0.500997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":577996,"millis":0.577996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":444997,"millis":0.444997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":335798,"millis":0.335798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":365397,"millis":0.365397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":388398,"millis":0.388398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94100,"millis":0.0941,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":222698,"millis":0.222698,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.218 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":408998,"millis":0.408998,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":137300,"millis":0.1373,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.219 [print] #notpresent \n"},{"result":{"nanos":568197,"millis":0.568197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":178998,"millis":0.178998,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.220 [print] INSPIRE Atom \n"},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":85599,"millis":0.085599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.220 [print] #notpresent \n"},{"result":{"nanos":575097,"millis":0.575097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":121099,"millis":0.121099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.221 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":112099,"millis":0.112099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.221 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":504596,"millis":0.504596,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":785495,"millis":0.785495,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":637796,"millis":0.637796,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c47e4ef8-951e-4765-8d01-29150c12a22d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.186876,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c47e4ef8-951e-4765-8d01-29150c12a22d","startTime":1632027519351,"refId":"[1.28:67]","endTime":1632027520223,"exampleData":{"datasetIdentifierCode":"c47e4ef8-951e-4765-8d01-29150c12a22d"},"exampleIndex":27},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:39.977 karate.env system property was: null \n"},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58199,"millis":0.058199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246598,"millis":0.246598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1162892,"millis":1.162892,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54899,"millis":0.054899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":7768349,"millis":7.768349,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":109500,"millis":0.1095,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":9399,"millis":0.009399,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864834307,"millis":864.834307,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":574197,"millis":0.574197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35546103-58eb-4f61-a858-a6fbc5a7e814'"}},{"result":{"nanos":546697,"millis":0.546697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1047393,"millis":1.047393,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":611396,"millis":0.611396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":516696,"millis":0.516696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":464797,"millis":0.464797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":350097,"millis":0.350097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":415597,"millis":0.415597,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":328498,"millis":0.328498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":87899,"millis":0.087899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":170799,"millis":0.170799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.857 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":377897,"millis":0.377897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95500,"millis":0.0955,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.858 [print] #notpresent \n"},{"result":{"nanos":443697,"millis":0.443697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95499,"millis":0.095499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.859 [print] #notpresent \n"},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":77599,"millis":0.077599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.859 [print] #notpresent \n"},{"result":{"nanos":414697,"millis":0.414697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.859 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":66699,"millis":0.066699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.859 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":372898,"millis":0.372898,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4779069,"millis":4.779069,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2987280,"millis":2.98728,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"35546103-58eb-4f61-a858-a6fbc5a7e814\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":889.531044,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"35546103-58eb-4f61-a858-a6fbc5a7e814","startTime":1632027519977,"refId":"[1.29:67]","endTime":1632027520868,"exampleData":{"datasetIdentifierCode":"35546103-58eb-4f61-a858-a6fbc5a7e814"},"exampleIndex":28},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.082 karate.env system property was: null \n"},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":291398,"millis":0.291398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":431397,"millis":0.431397,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":3727975,"millis":3.727975,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":183099,"millis":0.183099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85099,"millis":0.085099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859697540,"millis":859.69754,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":529597,"millis":0.529597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c99b1291-c51f-49c8-902d-5bd4148cbbde'"}},{"result":{"nanos":473697,"millis":0.473697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":486797,"millis":0.486797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":461397,"millis":0.461397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":603196,"millis":0.603196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":613996,"millis":0.613996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":51899,"millis":0.051899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":453097,"millis":0.453097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":535997,"millis":0.535997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":430997,"millis":0.430997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77599,"millis":0.077599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":145399,"millis":0.145399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:40.952 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/HabitatsAndBiotopes\\\/services\\\/view_HB?request=GetCapabilities \n"},{"result":{"nanos":481497,"millis":0.481497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150199,"millis":0.150199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:40.953 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":435897,"millis":0.435897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113199,"millis":0.113199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:40.954 [print] #notpresent \n"},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:40.954 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":701595,"millis":0.701595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":221299,"millis":0.221299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:40.955 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":77899,"millis":0.077899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:40.955 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":623496,"millis":0.623496,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":968193,"millis":0.968193,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":483197,"millis":0.483197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c99b1291-c51f-49c8-902d-5bd4148cbbde\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.978847,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c99b1291-c51f-49c8-902d-5bd4148cbbde","startTime":1632027520081,"refId":"[1.30:67]","endTime":1632027520957,"exampleData":{"datasetIdentifierCode":"c99b1291-c51f-49c8-902d-5bd4148cbbde"},"exampleIndex":29},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.179 karate.env system property was: null \n"},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57299,"millis":0.057299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254698,"millis":0.254698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":425097,"millis":0.425097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":125699,"millis":0.125699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16299,"millis":0.016299,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842744451,"millis":842.744451,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3100,"millis":0.0031,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":510497,"millis":0.510497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e29b19de-d191-47f2-b944-5056a7674cce'"}},{"result":{"nanos":411797,"millis":0.411797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":377198,"millis":0.377198,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":472697,"millis":0.472697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":541797,"millis":0.541797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":699396,"millis":0.699396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":363998,"millis":0.363998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":372098,"millis":0.372098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":318998,"millis":0.318998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":420798,"millis":0.420798,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":427998,"millis":0.427998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.029 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":408897,"millis":0.408897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":221898,"millis":0.221898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.029 [print] OGC:WMS \n"},{"result":{"nanos":338698,"millis":0.338698,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77399,"millis":0.077399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.030 [print] #notpresent \n"},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":180498,"millis":0.180498,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.030 [print] OGC:WMS \n"},{"result":{"nanos":402198,"millis":0.402198,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120499,"millis":0.120499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.031 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":107899,"millis":0.107899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.031 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":375898,"millis":0.375898,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":737096,"millis":0.737096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":564997,"millis":0.564997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e29b19de-d191-47f2-b944-5056a7674cce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":852.587792,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e29b19de-d191-47f2-b944-5056a7674cce","startTime":1632027520179,"refId":"[1.31:67]","endTime":1632027521033,"exampleData":{"datasetIdentifierCode":"e29b19de-d191-47f2-b944-5056a7674cce"},"exampleIndex":30},{"sectionIndex":0,"stepResults":[{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.226 karate.env system property was: null \n"},{"result":{"nanos":43999,"millis":0.043999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92699,"millis":0.092699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":316398,"millis":0.316398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":748795,"millis":0.748795,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":421397,"millis":0.421397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61299,"millis":0.061299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60299,"millis":0.060299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":889334145,"millis":889.334145,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1822988,"millis":1.822988,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4f4c7848-1767-4c67-be08-87d45d07f313'"}},{"result":{"nanos":2678182,"millis":2.678182,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2423084,"millis":2.423084,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2759882,"millis":2.759882,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2733382,"millis":2.733382,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2372984,"millis":2.372984,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1753788,"millis":1.753788,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1793488,"millis":1.793488,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1748589,"millis":1.748589,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":593797,"millis":0.593797,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":231398,"millis":0.231398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.139 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebieden\\\/v2\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1693389,"millis":1.693389,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":195298,"millis":0.195298,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.141 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1938888,"millis":1.938888,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131700,"millis":0.1317,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.143 [print] #notpresent \n"},{"result":{"nanos":46699,"millis":0.046699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":93900,"millis":0.0939,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.143 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2593783,"millis":2.593783,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158499,"millis":0.158499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.146 [print] Beheer PDOK \n"},{"result":{"nanos":223999,"millis":0.223999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.146 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f273941e-9c3b-43bc-b886-2d50d0bf9348#MD_DataIdentification \n"},{"result":{"nanos":3007980,"millis":3.00798,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":782094,"millis":0.782094,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":567397,"millis":0.567397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4f4c7848-1767-4c67-be08-87d45d07f313\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":923.654519,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4f4c7848-1767-4c67-be08-87d45d07f313","startTime":1632027520226,"refId":"[1.32:67]","endTime":1632027521151,"exampleData":{"datasetIdentifierCode":"4f4c7848-1767-4c67-be08-87d45d07f313"},"exampleIndex":31},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.870 karate.env system property was: null \n"},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77300,"millis":0.0773,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230998,"millis":0.230998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":308498,"millis":0.308498,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":716696,"millis":0.716696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50500,"millis":0.0505,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103199,"millis":0.103199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":169399,"millis":0.169399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843937144,"millis":843.937144,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":451397,"millis":0.451397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '923a666c-ee4f-496c-8c85-94d5f81e1f30'"}},{"result":{"nanos":368398,"millis":0.368398,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":348097,"millis":0.348097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":354098,"millis":0.354098,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":428797,"millis":0.428797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":469297,"millis":0.469297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":459997,"millis":0.459997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":409998,"millis":0.409998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":381998,"millis":0.381998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":393897,"millis":0.393897,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":439797,"millis":0.439797,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.721 [print] https:\/\/inspire.caris.nl\/gs5\/am\/wfs?service=WFS&request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":391298,"millis":0.391298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":288098,"millis":0.288098,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.722 [print] OGC:WFS \n"},{"result":{"nanos":417197,"millis":0.417197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":449097,"millis":0.449097,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.723 [print] #notpresent \n"},{"result":{"nanos":72199,"millis":0.072199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":294598,"millis":0.294598,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.723 [print] OGC:WFS \n"},{"result":{"nanos":487997,"millis":0.487997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":774195,"millis":0.774195,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.724 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":277798,"millis":0.277798,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.725 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4617f0e0-6af4-4ac0-9044-31df9d03071c#MD_DataIdentification \n"},{"result":{"nanos":427497,"millis":0.427497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1017793,"millis":1.017793,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":587396,"millis":0.587396,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"923a666c-ee4f-496c-8c85-94d5f81e1f30\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.795068,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"923a666c-ee4f-496c-8c85-94d5f81e1f30","startTime":1632027520870,"refId":"[1.33:67]","endTime":1632027521727,"exampleData":{"datasetIdentifierCode":"923a666c-ee4f-496c-8c85-94d5f81e1f30"},"exampleIndex":32},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:40.962 karate.env system property was: null \n"},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68600,"millis":0.0686,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81799,"millis":0.081799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":274898,"millis":0.274898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":98100,"millis":0.0981,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404197,"millis":0.404197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":77199,"millis":0.077199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844862938,"millis":844.862938,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":593896,"millis":0.593896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a12ae6ca-b755-4707-884f-95c0d66f431a'"}},{"result":{"nanos":454197,"millis":0.454197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":411897,"millis":0.411897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":402598,"millis":0.402598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":529996,"millis":0.529996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":390597,"millis":0.390597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":380398,"millis":0.380398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":366797,"millis":0.366797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347398,"millis":0.347398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":84899,"millis":0.084899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":465197,"millis":0.465197,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.813 [print] https:\/\/inspire.caris.nl\/gs5\/MarineRegion\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":453697,"millis":0.453697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85600,"millis":0.0856,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.814 [print] OGC:WMS \n"},{"result":{"nanos":514996,"millis":0.514996,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":121799,"millis":0.121799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.815 [print] #notpresent \n"},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":97499,"millis":0.097499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.815 [print] OGC:WMS \n"},{"result":{"nanos":452497,"millis":0.452497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91099,"millis":0.091099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.815 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":241399,"millis":0.241399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.816 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f44dac86-2228-412f-8355-e56446ca9933#MD_DataIdentification \n"},{"result":{"nanos":426797,"millis":0.426797,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":762295,"millis":0.762295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414097,"millis":0.414097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a12ae6ca-b755-4707-884f-95c0d66f431a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.281876,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a12ae6ca-b755-4707-884f-95c0d66f431a","startTime":1632027520962,"refId":"[1.34:67]","endTime":1632027521817,"exampleData":{"datasetIdentifierCode":"a12ae6ca-b755-4707-884f-95c0d66f431a"},"exampleIndex":33},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.035 karate.env system property was: null \n"},{"result":{"nanos":115299,"millis":0.115299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":193699,"millis":0.193699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81299,"millis":0.081299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":376398,"millis":0.376398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59699,"millis":0.059699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":424298,"millis":0.424298,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":116299,"millis":0.116299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":160599,"millis":0.160599,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847759719,"millis":847.759719,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":664196,"millis":0.664196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6308500-3439-4840-88cb-7532cabbfcb4'"}},{"result":{"nanos":570497,"millis":0.570497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417497,"millis":0.417497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":431697,"millis":0.431697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":561296,"millis":0.561296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":573496,"millis":0.573496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":413797,"millis":0.413797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":382098,"millis":0.382098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":417798,"millis":0.417798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98499,"millis":0.098499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":400097,"millis":0.400097,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:41.893 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":531897,"millis":0.531897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":221798,"millis":0.221798,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:41.894 [print] #notpresent \n"},{"result":{"nanos":572996,"millis":0.572996,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":324398,"millis":0.324398,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:41.895 [print] #notpresent \n"},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":239598,"millis":0.239598,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:41.895 [print] #notpresent \n"},{"result":{"nanos":497697,"millis":0.497697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":332397,"millis":0.332397,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:41.896 [print] KNMI \n"},{"result":{"nanos":302298,"millis":0.302298,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:41.896 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":547497,"millis":0.547497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":968093,"millis":0.968093,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":515697,"millis":0.515697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c6308500-3439-4840-88cb-7532cabbfcb4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.541443,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c6308500-3439-4840-88cb-7532cabbfcb4","startTime":1632027521034,"refId":"[1.35:67]","endTime":1632027521898,"exampleData":{"datasetIdentifierCode":"c6308500-3439-4840-88cb-7532cabbfcb4"},"exampleIndex":34},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21399,"millis":0.021399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.153 karate.env system property was: null \n"},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93999,"millis":0.093999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275198,"millis":0.275198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60099,"millis":0.060099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":461097,"millis":0.461097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96699,"millis":0.096699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60799,"millis":0.060799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855698167,"millis":855.698167,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":602496,"millis":0.602496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '72f30ca1-3b80-4020-b9ed-301b1a88df39'"}},{"result":{"nanos":468197,"millis":0.468197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":445997,"millis":0.445997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":516896,"millis":0.516896,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":565497,"millis":0.565497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":541696,"millis":0.541696,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":64899,"millis":0.064899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":415398,"millis":0.415398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":30889796,"millis":30.889796,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1291891,"millis":1.291891,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":225799,"millis":0.225799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":3499677,"millis":3.499677,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.050 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":634996,"millis":0.634996,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":896695,"millis":0.896695,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.052 [print] OGC:WFS \n"},{"result":{"nanos":518397,"millis":0.518397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":495097,"millis":0.495097,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.053 [print] INSPIRE Atom \n"},{"result":{"nanos":123099,"millis":0.123099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":403997,"millis":0.403997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.054 [print] OGC:WFS \n"},{"result":{"nanos":488497,"millis":0.488497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":536696,"millis":0.536696,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.055 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":683696,"millis":0.683696,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.055 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":599696,"millis":0.599696,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":640195,"millis":0.640195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":525297,"millis":0.525297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"72f30ca1-3b80-4020-b9ed-301b1a88df39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":903.061954,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"72f30ca1-3b80-4020-b9ed-301b1a88df39","startTime":1632027521153,"refId":"[1.36:67]","endTime":1632027522057,"exampleData":{"datasetIdentifierCode":"72f30ca1-3b80-4020-b9ed-301b1a88df39"},"exampleIndex":35},{"sectionIndex":0,"stepResults":[{"result":{"nanos":26999,"millis":0.026999,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.732 karate.env system property was: null \n"},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311598,"millis":0.311598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69199,"millis":0.069199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":445397,"millis":0.445397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":324698,"millis":0.324698,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34799,"millis":0.034799,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":99599,"millis":0.099599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875347537,"millis":875.347537,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":650296,"millis":0.650296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d86c14f-cccf-41e9-a58e-ead9d52ae35d'"}},{"result":{"nanos":455497,"millis":0.455497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":369797,"millis":0.369797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1111993,"millis":1.111993,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1164092,"millis":1.164092,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":762095,"millis":0.762095,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":161599,"millis":0.161599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":559996,"millis":0.559996,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":468497,"millis":0.468497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":521496,"millis":0.521496,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3524977,"millis":3.524977,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":732495,"millis":0.732495,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.619 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/AM \n"},{"result":{"nanos":461097,"millis":0.461097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":192599,"millis":0.192599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.620 [print] #notpresent \n"},{"result":{"nanos":669795,"millis":0.669795,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":488497,"millis":0.488497,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.622 [print] OGC:WMS \n"},{"result":{"nanos":132199,"millis":0.132199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":487397,"millis":0.487397,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.622 [print] #notpresent \n"},{"result":{"nanos":528297,"millis":0.528297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":481797,"millis":0.481797,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.623 [print] Informatiehuis Water \n"},{"result":{"nanos":681095,"millis":0.681095,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.624 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":474397,"millis":0.474397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":689495,"millis":0.689495,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":491897,"millis":0.491897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6d86c14f-cccf-41e9-a58e-ead9d52ae35d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.213418,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d","startTime":1632027521731,"refId":"[1.37:67]","endTime":1632027522626,"exampleData":{"datasetIdentifierCode":"6d86c14f-cccf-41e9-a58e-ead9d52ae35d"},"exampleIndex":36},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.821 karate.env system property was: null \n"},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57299,"millis":0.057299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":248898,"millis":0.248898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":387397,"millis":0.387397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62599,"millis":0.062599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":98599,"millis":0.098599,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":74799,"millis":0.074799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":897654090,"millis":897.65409,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3600,"millis":0.0036,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":738495,"millis":0.738495,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a02c6566-e0ad-4fc1-b217-67cc1099dea2'"}},{"result":{"nanos":531297,"millis":0.531297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":573196,"millis":0.573196,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":500096,"millis":0.500096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":968794,"millis":0.968794,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":676395,"millis":0.676395,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":118699,"millis":0.118699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":484797,"millis":0.484797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":389598,"millis":0.389598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":492797,"millis":0.492797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":663196,"millis":0.663196,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":789294,"millis":0.789294,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.727 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":566997,"millis":0.566997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":494496,"millis":0.494496,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.729 [print] OGC:WMS \n"},{"result":{"nanos":513397,"millis":0.513397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":487297,"millis":0.487297,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.730 [print] #notpresent \n"},{"result":{"nanos":124400,"millis":0.1244,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":458997,"millis":0.458997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.730 [print] OGC:WMS \n"},{"result":{"nanos":481697,"millis":0.481697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":554797,"millis":0.554797,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.731 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":751196,"millis":0.751196,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.732 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":1886488,"millis":1.886488,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":787694,"millis":0.787694,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1697089,"millis":1.697089,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a02c6566-e0ad-4fc1-b217-67cc1099dea2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":914.58438,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a02c6566-e0ad-4fc1-b217-67cc1099dea2","startTime":1632027521821,"refId":"[1.38:67]","endTime":1632027522736,"exampleData":{"datasetIdentifierCode":"a02c6566-e0ad-4fc1-b217-67cc1099dea2"},"exampleIndex":37},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:41.901 karate.env system property was: null \n"},{"result":{"nanos":40099,"millis":0.040099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":94300,"millis":0.0943,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":290298,"millis":0.290298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":2296785,"millis":2.296785,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":935694,"millis":0.935694,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":66099,"millis":0.066099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":153499,"millis":0.153499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":129899,"millis":0.129899,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":102500,"millis":0.1025,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865299104,"millis":865.299104,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3800,"millis":0.0038,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":621196,"millis":0.621196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '777f41ee-8269-4bbc-b0e4-f889c62be099'"}},{"result":{"nanos":482597,"millis":0.482597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":531097,"millis":0.531097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":526297,"millis":0.526297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":674295,"millis":0.674295,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":613096,"millis":0.613096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":104400,"millis":0.1044,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":514596,"millis":0.514596,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":450297,"millis":0.450297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":598196,"millis":0.598196,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":909094,"millis":0.909094,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":840394,"millis":0.840394,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.778 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":673396,"millis":0.673396,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":601396,"millis":0.601396,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.779 [print] OGC:WMS \n"},{"result":{"nanos":797794,"millis":0.797794,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":621696,"millis":0.621696,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.781 [print] #notpresent \n"},{"result":{"nanos":176799,"millis":0.176799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":592596,"millis":0.592596,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.781 [print] OGC:WMS \n"},{"result":{"nanos":752795,"millis":0.752795,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1184692,"millis":1.184692,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.783 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":974993,"millis":0.974993,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.784 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":512797,"millis":0.512797,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":621296,"millis":0.621296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":515996,"millis":0.515996,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"777f41ee-8269-4bbc-b0e4-f889c62be099\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.450278,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"777f41ee-8269-4bbc-b0e4-f889c62be099","startTime":1632027521900,"refId":"[1.39:67]","endTime":1632027522786,"exampleData":{"datasetIdentifierCode":"777f41ee-8269-4bbc-b0e4-f889c62be099"},"exampleIndex":38},{"sectionIndex":0,"stepResults":[{"result":{"nanos":68099,"millis":0.068099,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.061 karate.env system property was: null \n"},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":149399,"millis":0.149399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":151199,"millis":0.151199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":368597,"millis":0.368597,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":171499,"millis":0.171499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":451297,"millis":0.451297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":133099,"millis":0.133099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":452097,"millis":0.452097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":64799,"millis":0.064799,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":39199,"millis":0.039199,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853633080,"millis":853.63308,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":859995,"millis":0.859995,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1601e160-91e8-4091-9aca-10294f819d42'"}},{"result":{"nanos":601596,"millis":0.601596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":469597,"millis":0.469597,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":420597,"millis":0.420597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":839794,"millis":0.839794,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":645196,"millis":0.645196,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98799,"millis":0.098799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":483897,"millis":0.483897,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":411697,"millis":0.411697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":445797,"millis":0.445797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100699,"millis":0.100699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":676196,"millis":0.676196,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:42.923 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":968793,"millis":0.968793,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":381498,"millis":0.381498,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:42.925 [print] OGC:WFS \n"},{"result":{"nanos":445597,"millis":0.445597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":429498,"millis":0.429498,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:42.926 [print] #notpresent \n"},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":417697,"millis":0.417697,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:42.926 [print] OGC:WFS \n"},{"result":{"nanos":525997,"millis":0.525997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":378597,"millis":0.378597,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:42.927 [print] Beheer PDOK \n"},{"result":{"nanos":620996,"millis":0.620996,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:42.928 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":499297,"millis":0.499297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":596796,"millis":0.596796,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":493896,"millis":0.493896,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1601e160-91e8-4091-9aca-10294f819d42\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.836786,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1601e160-91e8-4091-9aca-10294f819d42","startTime":1632027522060,"refId":"[1.40:67]","endTime":1632027522929,"exampleData":{"datasetIdentifierCode":"1601e160-91e8-4091-9aca-10294f819d42"},"exampleIndex":39},{"sectionIndex":0,"stepResults":[{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.630 karate.env system property was: null \n"},{"result":{"nanos":54199,"millis":0.054199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":143599,"millis":0.143599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":151999,"millis":0.151999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":414897,"millis":0.414897,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":580096,"millis":0.580096,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":507097,"millis":0.507097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":116799,"millis":0.116799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":198199,"millis":0.198199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":317498,"millis":0.317498,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":68099,"millis":0.068099,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":57800,"millis":0.0578,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":54699,"millis":0.054699,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":36499,"millis":0.036499,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":923747619,"millis":923.747619,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":478697,"millis":0.478697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b7880739-a701-4cc0-bb32-2bba61fa8924'"}},{"result":{"nanos":383698,"millis":0.383698,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":357797,"millis":0.357797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":352798,"millis":0.352798,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":439097,"millis":0.439097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":375497,"millis":0.375497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":340498,"millis":0.340498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":483496,"millis":0.483496,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":448197,"millis":0.448197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":350598,"millis":0.350598,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":240398,"millis":0.240398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.561 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/aardwarmte?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":373298,"millis":0.373298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":203198,"millis":0.203198,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.562 [print] #notpresent \n"},{"result":{"nanos":348798,"millis":0.348798,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":221699,"millis":0.221699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.563 [print] OGC:WMS \n"},{"result":{"nanos":72999,"millis":0.072999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":195699,"millis":0.195699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.563 [print] #notpresent \n"},{"result":{"nanos":447598,"millis":0.447598,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":354898,"millis":0.354898,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.564 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":216699,"millis":0.216699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.564 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":387398,"millis":0.387398,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":757595,"millis":0.757595,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":443897,"millis":0.443897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b7880739-a701-4cc0-bb32-2bba61fa8924\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":934.907346,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b7880739-a701-4cc0-bb32-2bba61fa8924","startTime":1632027522629,"refId":"[1.41:67]","endTime":1632027523566,"exampleData":{"datasetIdentifierCode":"b7880739-a701-4cc0-bb32-2bba61fa8924"},"exampleIndex":40},{"sectionIndex":0,"stepResults":[{"result":{"nanos":75199,"millis":0.075199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.740 karate.env system property was: null \n"},{"result":{"nanos":59100,"millis":0.0591,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":155799,"millis":0.155799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":164699,"millis":0.164699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":411497,"millis":0.411497,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":200999,"millis":0.200999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":499197,"millis":0.499197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":201298,"millis":0.201298,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":547397,"millis":0.547397,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":75599,"millis":0.075599,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":41999,"millis":0.041999,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":956394,"millis":0.956394,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":102900,"millis":0.1029,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":66399,"millis":0.066399,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":884709076,"millis":884.709076,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":21099,"millis":0.021099,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":514797,"millis":0.514797,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4ae5b2c-f557-4a30-bbf2-c2681a544f32'"}},{"result":{"nanos":560696,"millis":0.560696,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":530397,"millis":0.530397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":621096,"millis":0.621096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":624496,"millis":0.624496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":456097,"millis":0.456097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":346497,"millis":0.346497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":341098,"millis":0.341098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":353298,"millis":0.353298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":3563276,"millis":3.563276,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":179299,"millis":0.179299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.637 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":473797,"millis":0.473797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":115899,"millis":0.115899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.638 [print] OGC:WFS \n"},{"result":{"nanos":389097,"millis":0.389097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105699,"millis":0.105699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.638 [print] #notpresent \n"},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128699,"millis":0.128699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.639 [print] OGC:WFS \n"},{"result":{"nanos":434897,"millis":0.434897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":107199,"millis":0.107199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.639 [print] Beheer PDOK \n"},{"result":{"nanos":100800,"millis":0.1008,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.639 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification \n"},{"result":{"nanos":513096,"millis":0.513096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":4832568,"millis":4.832568,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":445497,"millis":0.445497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4ae5b2c-f557-4a30-bbf2-c2681a544f32\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":904.210746,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32","startTime":1632027522739,"refId":"[1.42:67]","endTime":1632027523645,"exampleData":{"datasetIdentifierCode":"b4ae5b2c-f557-4a30-bbf2-c2681a544f32"},"exampleIndex":41},{"sectionIndex":0,"stepResults":[{"result":{"nanos":71899,"millis":0.071899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.793 karate.env system property was: null \n"},{"result":{"nanos":74900,"millis":0.0749,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":159299,"millis":0.159299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":155299,"millis":0.155299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":342897,"millis":0.342897,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":151199,"millis":0.151199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":460897,"millis":0.460897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":111199,"millis":0.111199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":474397,"millis":0.474397,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":45399,"millis":0.045399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32899,"millis":0.032899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":85700,"millis":0.0857,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":38899,"millis":0.038899,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853071784,"millis":853.071784,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":455297,"millis":0.455297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '40f04047-3b61-40eb-b026-c1a0caa71881'"}},{"result":{"nanos":608896,"millis":0.608896,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":650996,"millis":0.650996,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":687595,"millis":0.687595,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":710195,"millis":0.710195,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":3156580,"millis":3.15658,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":464197,"millis":0.464197,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":487097,"millis":0.487097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":440797,"millis":0.440797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":114299,"millis":0.114299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":7131453,"millis":7.131453,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.664 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/reststromen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":506497,"millis":0.506497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":229299,"millis":0.229299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.665 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":539496,"millis":0.539496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":786395,"millis":0.786395,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.666 [print] #notpresent \n"},{"result":{"nanos":70699,"millis":0.070699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":331998,"millis":0.331998,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.666 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":664396,"millis":0.664396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":221998,"millis":0.221998,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.667 [print] Beheer PDOK \n"},{"result":{"nanos":188099,"millis":0.188099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.667 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=11d83e36-fd0d-46bc-838c-0567c5dfdb19#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=34dacd72-d2fb-4e28-844d-73d3b9c3fef2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=419b85e5-04ee-4cc9-b910-bc58594a943a#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=119f7512-a71e-4d1a-82e7-7a2b63f9338b#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=6ea55ec4-f312-40ef-9935-68806e61b496#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af784610-df36-4d40-bac0-23d8e728999f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=24eb504e-f5f3-4ecf-b760-cc5630e82a57#MD_DataIdentification\"] \n"},{"result":{"nanos":819994,"millis":0.819994,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":580497,"millis":0.580497,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":5617364,"millis":5.617364,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"40f04047-3b61-40eb-b026-c1a0caa71881\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.917201,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"40f04047-3b61-40eb-b026-c1a0caa71881","startTime":1632027522789,"refId":"[1.43:67]","endTime":1632027523675,"exampleData":{"datasetIdentifierCode":"40f04047-3b61-40eb-b026-c1a0caa71881"},"exampleIndex":42},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21500,"millis":0.0215,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:42.932 karate.env system property was: null \n"},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55699,"millis":0.055699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66100,"millis":0.0661,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230998,"millis":0.230998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":389597,"millis":0.389597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44100,"millis":0.0441,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":346397,"millis":0.346397,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53999,"millis":0.053999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":8800,"millis":0.0088,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850746999,"millis":850.746999,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":469097,"millis":0.469097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62dc32f1-853c-416a-876b-6e083554f1b6'"}},{"result":{"nanos":525196,"millis":0.525196,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446797,"millis":0.446797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":367598,"millis":0.367598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":443497,"millis":0.443497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":405997,"millis":0.405997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":302998,"millis":0.302998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":388797,"millis":0.388797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":442897,"millis":0.442897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":109899,"millis":0.109899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":193699,"millis":0.193699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:43.789 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":579196,"millis":0.579196,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111099,"millis":0.111099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:43.789 [print] OGC:WMS \n"},{"result":{"nanos":463897,"millis":0.463897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75099,"millis":0.075099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:43.790 [print] #notpresent \n"},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":128199,"millis":0.128199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:43.790 [print] OGC:WMS \n"},{"result":{"nanos":394698,"millis":0.394698,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70700,"millis":0.0707,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:43.791 [print] Beheer PDOK \n"},{"result":{"nanos":97699,"millis":0.097699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:43.791 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":409698,"millis":0.409698,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":618196,"millis":0.618196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":493197,"millis":0.493197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"62dc32f1-853c-416a-876b-6e083554f1b6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.743039,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"62dc32f1-853c-416a-876b-6e083554f1b6","startTime":1632027522931,"refId":"[1.44:67]","endTime":1632027523792,"exampleData":{"datasetIdentifierCode":"62dc32f1-853c-416a-876b-6e083554f1b6"},"exampleIndex":43},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.569 karate.env system property was: null \n"},{"result":{"nanos":38299,"millis":0.038299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":84899,"millis":0.084899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279398,"millis":0.279398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388997,"millis":0.388997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":266998,"millis":0.266998,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64499,"millis":0.064499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5bb85b77-fffd-449b-bd61-f076fe07cc4b'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873923547,"millis":873.923547,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":497197,"millis":0.497197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5bb85b77-fffd-449b-bd61-f076fe07cc4b'"}},{"result":{"nanos":400297,"millis":0.400297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":373398,"millis":0.373398,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":346797,"millis":0.346797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":431198,"millis":0.431198,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":390298,"millis":0.390298,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":304598,"millis":0.304598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1041394,"millis":1.041394,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":455197,"millis":0.455197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":1113593,"millis":1.113593,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":921694,"millis":0.921694,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.451 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":453697,"millis":0.453697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":443797,"millis":0.443797,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.452 [print] OGC:WFS \n"},{"result":{"nanos":368898,"millis":0.368898,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":341898,"millis":0.341898,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.453 [print] #notpresent \n"},{"result":{"nanos":47299,"millis":0.047299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":316398,"millis":0.316398,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.453 [print] OGC:WFS \n"},{"result":{"nanos":392798,"millis":0.392798,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":332997,"millis":0.332997,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.454 [print] Beheer PDOK \n"},{"result":{"nanos":675396,"millis":0.675396,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.454 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n"},{"result":{"nanos":621996,"millis":0.621996,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":843894,"millis":0.843894,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":815595,"millis":0.815595,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5bb85b77-fffd-449b-bd61-f076fe07cc4b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.264361,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5bb85b77-fffd-449b-bd61-f076fe07cc4b","startTime":1632027523568,"refId":"[1.45:67]","endTime":1632027524457,"exampleData":{"datasetIdentifierCode":"5bb85b77-fffd-449b-bd61-f076fe07cc4b"},"exampleIndex":44},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.669 karate.env system property was: null \n"},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58299,"millis":0.058299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254198,"millis":0.254198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":390397,"millis":0.390397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":443897,"millis":0.443897,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":62899,"millis":0.062899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":896379499,"millis":896.379499,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":524697,"millis":0.524697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd796fd8d-b1e0-465c-a55b-1e9fe885fc3d'"}},{"result":{"nanos":446297,"millis":0.446297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":478997,"millis":0.478997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":676695,"millis":0.676695,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":720495,"millis":0.720495,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":490097,"millis":0.490097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":58199,"millis":0.058199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":383998,"millis":0.383998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":337998,"millis":0.337998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":332797,"millis":0.332797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":478697,"millis":0.478697,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":482997,"millis":0.482997,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.573 [print] https:\/\/www.broinspireservices.nl\/wms\/osgegmw-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":393597,"millis":0.393597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":412597,"millis":0.412597,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.574 [print] #notpresent \n"},{"result":{"nanos":374798,"millis":0.374798,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":339298,"millis":0.339298,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.575 [print] OGC:WMS \n"},{"result":{"nanos":44499,"millis":0.044499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":352298,"millis":0.352298,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.575 [print] #notpresent \n"},{"result":{"nanos":443097,"millis":0.443097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":413997,"millis":0.413997,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.576 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":576396,"millis":0.576396,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.577 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":403398,"millis":0.403398,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":613096,"millis":0.613096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":411898,"millis":0.411898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":908.157622,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d","startTime":1632027523647,"refId":"[1.46:67]","endTime":1632027524578,"exampleData":{"datasetIdentifierCode":"d796fd8d-b1e0-465c-a55b-1e9fe885fc3d"},"exampleIndex":45},{"sectionIndex":0,"stepResults":[{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.677 karate.env system property was: null \n"},{"result":{"nanos":32499,"millis":0.032499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":170599,"millis":0.170599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":333798,"millis":0.333798,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40299,"millis":0.040299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":190799,"millis":0.190799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846813025,"millis":846.813025,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":651595,"millis":0.651595,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '46873d16-6835-48c4-b47f-134ab0cb31fa'"}},{"result":{"nanos":544497,"millis":0.544497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":492296,"millis":0.492296,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":585997,"millis":0.585997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":465897,"millis":0.465897,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":520397,"millis":0.520397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":342297,"millis":0.342297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":325698,"millis":0.325698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":372698,"millis":0.372698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105100,"millis":0.1051,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":577996,"millis":0.577996,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.530 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":527596,"millis":0.527596,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":143399,"millis":0.143399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.531 [print] OGC:WFS \n"},{"result":{"nanos":595696,"millis":0.595696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":154299,"millis":0.154299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.532 [print] INSPIRE Atom \n"},{"result":{"nanos":43499,"millis":0.043499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.532 [print] OGC:WFS \n"},{"result":{"nanos":481397,"millis":0.481397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88499,"millis":0.088499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.533 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":68699,"millis":0.068699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.533 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification \n"},{"result":{"nanos":445197,"millis":0.445197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":743396,"millis":0.743396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":470297,"millis":0.470297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"46873d16-6835-48c4-b47f-134ab0cb31fa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.760861,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"46873d16-6835-48c4-b47f-134ab0cb31fa","startTime":1632027523676,"refId":"[1.47:67]","endTime":1632027524534,"exampleData":{"datasetIdentifierCode":"46873d16-6835-48c4-b47f-134ab0cb31fa"},"exampleIndex":46},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21599,"millis":0.021599,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:43.796 karate.env system property was: null \n"},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80299,"millis":0.080299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":244398,"millis":0.244398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427997,"millis":0.427997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43900,"millis":0.0439,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79599,"millis":0.079599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":294898,"millis":0.294898,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59299,"millis":0.059299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858175450,"millis":858.17545,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":549396,"millis":0.549396,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a8ad0d7d-ea9e-4261-bc92-772e99a41387'"}},{"result":{"nanos":410897,"millis":0.410897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":415298,"millis":0.415298,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":485096,"millis":0.485096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":669596,"millis":0.669596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":960093,"millis":0.960093,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":578696,"millis":0.578696,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":395197,"millis":0.395197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":344898,"millis":0.344898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":793095,"millis":0.793095,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":650195,"millis":0.650195,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:44.662 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wfs?service=wfs&request=GetCapabilities \n"},{"result":{"nanos":363298,"millis":0.363298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":354798,"millis":0.354798,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:44.663 [print] #notpresent \n"},{"result":{"nanos":371798,"millis":0.371798,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":335598,"millis":0.335598,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:44.664 [print] OGC:WFS \n"},{"result":{"nanos":44499,"millis":0.044499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":364098,"millis":0.364098,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:44.664 [print] #notpresent \n"},{"result":{"nanos":430597,"millis":0.430597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":408097,"millis":0.408097,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:44.665 [print] Beheer PDOK \n"},{"result":{"nanos":604196,"millis":0.604196,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:44.666 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/eng\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":436197,"millis":0.436197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":655096,"millis":0.655096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":6297758,"millis":6.297758,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a8ad0d7d-ea9e-4261-bc92-772e99a41387\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":876.597826,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a8ad0d7d-ea9e-4261-bc92-772e99a41387","startTime":1632027523795,"refId":"[1.48:67]","endTime":1632027524673,"exampleData":{"datasetIdentifierCode":"a8ad0d7d-ea9e-4261-bc92-772e99a41387"},"exampleIndex":47},{"sectionIndex":0,"stepResults":[{"result":{"nanos":85800,"millis":0.0858,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.459 karate.env system property was: null \n"},{"result":{"nanos":54999,"millis":0.054999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":97400,"millis":0.0974,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82699,"millis":0.082699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":270298,"millis":0.270298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":454997,"millis":0.454997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42099,"millis":0.042099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":217399,"millis":0.217399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16499,"millis":0.016499,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853955278,"millis":853.955278,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3400,"millis":0.0034,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":623896,"millis":0.623896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736853'"}},{"result":{"nanos":636196,"millis":0.636196,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":449197,"millis":0.449197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":538796,"millis":0.538796,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":756195,"millis":0.756195,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":481697,"millis":0.481697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":345898,"millis":0.345898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339498,"millis":0.339498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":385198,"millis":0.385198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98399,"millis":0.098399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":628996,"millis":0.628996,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.321 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/weggeg\\\/wms?request=getcapabilities&service=wms \n"},{"result":{"nanos":384197,"millis":0.384197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":345898,"millis":0.345898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.321 [print] OGC:WMS \n"},{"result":{"nanos":440497,"millis":0.440497,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":373197,"millis":0.373197,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.322 [print] OGC:WMS \n"},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":321298,"millis":0.321298,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.323 [print] OGC:WMS \n"},{"result":{"nanos":471097,"millis":0.471097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":346297,"millis":0.346297,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.324 [print] Beheer PDOK \n"},{"result":{"nanos":754495,"millis":0.754495,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.324 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=27df6b33-194c-46d6-ac94-257c306c91f2#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\"] \n"},{"result":{"nanos":450297,"millis":0.450297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":671296,"millis":0.671296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":403897,"millis":0.403897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736853\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.7731,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"598c4109-21d2-4a6c-b083-9975a6736853","startTime":1632027524459,"refId":"[1.49:67]","endTime":1632027525326,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736853"},"exampleIndex":48},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.536 karate.env system property was: null \n"},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72499,"millis":0.072499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":252199,"millis":0.252199,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75199,"millis":0.075199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":494997,"millis":0.494997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":63199,"millis":0.063199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121800,"millis":0.1218,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37899,"millis":0.037899,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57399,"millis":0.057399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852430988,"millis":852.430988,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3500,"millis":0.0035,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":406097,"millis":0.406097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '89b35a6c-c099-456b-8eaf-2b83c7a35c74'"}},{"result":{"nanos":373898,"millis":0.373898,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":368897,"millis":0.368897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":352598,"millis":0.352598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":407397,"millis":0.407397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":377198,"millis":0.377198,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47599,"millis":0.047599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":382798,"millis":0.382798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":376197,"millis":0.376197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":417297,"millis":0.417297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108999,"millis":0.108999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":256299,"millis":0.256299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.394 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":497296,"millis":0.497296,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114099,"millis":0.114099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.395 [print] OGC:WMS \n"},{"result":{"nanos":605696,"millis":0.605696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":133599,"millis":0.133599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.396 [print] #notpresent \n"},{"result":{"nanos":137699,"millis":0.137699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":224199,"millis":0.224199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.396 [print] OGC:WMS \n"},{"result":{"nanos":423097,"millis":0.423097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":251598,"millis":0.251598,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.397 [print] Beheer PDOK \n"},{"result":{"nanos":226299,"millis":0.226299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.397 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":467297,"millis":0.467297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":713295,"millis":0.713295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":601096,"millis":0.601096,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"89b35a6c-c099-456b-8eaf-2b83c7a35c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.043123,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"89b35a6c-c099-456b-8eaf-2b83c7a35c74","startTime":1632027524536,"refId":"[1.50:67]","endTime":1632027525399,"exampleData":{"datasetIdentifierCode":"89b35a6c-c099-456b-8eaf-2b83c7a35c74"},"exampleIndex":49},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21799,"millis":0.021799,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.581 karate.env system property was: null \n"},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":64999,"millis":0.064999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":302298,"millis":0.302298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":70400,"millis":0.0704,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435797,"millis":0.435797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43099,"millis":0.043099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":410698,"millis":0.410698,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22699,"millis":0.022699,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5399,"millis":0.005399,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860313537,"millis":860.313537,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3599,"millis":0.003599,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":529397,"millis":0.529397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3094a1c4-3dd6-4e8e-9929-4a63dd66992e'"}},{"result":{"nanos":445197,"millis":0.445197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":395097,"millis":0.395097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":424097,"millis":0.424097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":498397,"millis":0.498397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":507497,"millis":0.507497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71599,"millis":0.071599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":460497,"millis":0.460497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":427397,"millis":0.427397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":495697,"millis":0.495697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":92599,"millis":0.092599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":647596,"millis":0.647596,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.449 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/download_PF?request=GetCapabilities \n"},{"result":{"nanos":498596,"millis":0.498596,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":468197,"millis":0.468197,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.450 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":393098,"millis":0.393098,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":353698,"millis":0.353698,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.451 [print] #notpresent \n"},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":476696,"millis":0.476696,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.451 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":638896,"millis":0.638896,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":350998,"millis":0.350998,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.452 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":745995,"millis":0.745995,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.453 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":454497,"millis":0.454497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":690095,"millis":0.690095,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":585896,"millis":0.585896,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3094a1c4-3dd6-4e8e-9929-4a63dd66992e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.613553,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e","startTime":1632027524581,"refId":"[1.51:67]","endTime":1632027525455,"exampleData":{"datasetIdentifierCode":"3094a1c4-3dd6-4e8e-9929-4a63dd66992e"},"exampleIndex":50},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:44.675 karate.env system property was: null \n"},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125399,"millis":0.125399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":122499,"millis":0.122499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":289198,"millis":0.289198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":351798,"millis":0.351798,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":357897,"millis":0.357897,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":80399,"millis":0.080399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d568785-efdd-429d-b491-56f785c3656a'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857850053,"millis":857.850053,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3099,"millis":0.003099,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":515397,"millis":0.515397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d568785-efdd-429d-b491-56f785c3656a'"}},{"result":{"nanos":454897,"millis":0.454897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":405797,"millis":0.405797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":400898,"millis":0.400898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":454297,"millis":0.454297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":436398,"millis":0.436398,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":355698,"millis":0.355698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":344598,"millis":0.344598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":427398,"millis":0.427398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67300,"millis":0.0673,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":742895,"millis":0.742895,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:45.540 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":486596,"millis":0.486596,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":440998,"millis":0.440998,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:45.541 [print] OGC:WFS \n"},{"result":{"nanos":520297,"millis":0.520297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":449997,"millis":0.449997,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:45.542 [print] #notpresent \n"},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":353898,"millis":0.353898,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:45.542 [print] OGC:WFS \n"},{"result":{"nanos":541197,"millis":0.541197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":404398,"millis":0.404398,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:45.543 [print] Beheer PDOK \n"},{"result":{"nanos":625496,"millis":0.625496,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:45.544 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n"},{"result":{"nanos":477097,"millis":0.477097,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1290992,"millis":1.290992,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":413897,"millis":0.413897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1d568785-efdd-429d-b491-56f785c3656a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.076578,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1d568785-efdd-429d-b491-56f785c3656a","startTime":1632027524675,"refId":"[1.52:67]","endTime":1632027525546,"exampleData":{"datasetIdentifierCode":"1d568785-efdd-429d-b491-56f785c3656a"},"exampleIndex":51},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.328 karate.env system property was: null \n"},{"result":{"nanos":35599,"millis":0.035599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":229998,"millis":0.229998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385397,"millis":0.385397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":340097,"millis":0.340097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":7099,"millis":0.007099,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872093359,"millis":872.093359,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":553496,"millis":0.553496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a88b4ed1-49c1-4f91-991e-dc1cc7c575f7'"}},{"result":{"nanos":445297,"millis":0.445297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":406497,"millis":0.406497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":456897,"millis":0.456897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":508197,"millis":0.508197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":434297,"millis":0.434297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":338798,"millis":0.338798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":331998,"millis":0.331998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":442997,"millis":0.442997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118199,"millis":0.118199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":244198,"millis":0.244198,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.206 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/ProductionAndIndustrialFacilities\\\/services\\\/view_PF?request=GetCapabilities \n"},{"result":{"nanos":1310092,"millis":1.310092,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79999,"millis":0.079999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.208 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":625796,"millis":0.625796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105999,"millis":0.105999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.209 [print] #notpresent \n"},{"result":{"nanos":247798,"millis":0.247798,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.209 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":536897,"millis":0.536897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":110199,"millis":0.110199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.210 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":349598,"millis":0.349598,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.210 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=8e986f37-74d7-4b6c-8026-87c960456423&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=afc450bd-65b3-4e59-b0fb-619869bf6ada&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":428798,"millis":0.428798,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":660395,"millis":0.660395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":451297,"millis":0.451297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.764188,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7","startTime":1632027525328,"refId":"[1.53:67]","endTime":1632027526212,"exampleData":{"datasetIdentifierCode":"a88b4ed1-49c1-4f91-991e-dc1cc7c575f7"},"exampleIndex":52},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36799,"millis":0.036799,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.402 karate.env system property was: null \n"},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61199,"millis":0.061199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221999,"millis":0.221999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48099,"millis":0.048099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":924494,"millis":0.924494,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":241898,"millis":0.241898,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54399,"millis":0.054399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ec73f245-66ce-4144-ac27-5966c80a4b3a'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852543187,"millis":852.543187,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":445097,"millis":0.445097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ec73f245-66ce-4144-ac27-5966c80a4b3a'"}},{"result":{"nanos":489597,"millis":0.489597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":650496,"millis":0.650496,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":733095,"millis":0.733095,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":670395,"millis":0.670395,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":605096,"millis":0.605096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":92799,"millis":0.092799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":483497,"millis":0.483497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":362298,"millis":0.362298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":460997,"millis":0.460997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":117200,"millis":0.1172,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":144499,"millis":0.144499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.262 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":903794,"millis":0.903794,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93600,"millis":0.0936,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.263 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":648495,"millis":0.648495,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72400,"millis":0.0724,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.264 [print] #notpresent \n"},{"result":{"nanos":39999,"millis":0.039999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":291899,"millis":0.291899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.264 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":788395,"millis":0.788395,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":122699,"millis":0.122699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.265 [print] Beheer PDOK \n"},{"result":{"nanos":705296,"millis":0.705296,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.266 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n"},{"result":{"nanos":566596,"millis":0.566596,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":495396,"millis":0.495396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":393398,"millis":0.393398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ec73f245-66ce-4144-ac27-5966c80a4b3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.720207,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ec73f245-66ce-4144-ac27-5966c80a4b3a","startTime":1632027525401,"refId":"[1.54:67]","endTime":1632027526267,"exampleData":{"datasetIdentifierCode":"ec73f245-66ce-4144-ac27-5966c80a4b3a"},"exampleIndex":53},{"sectionIndex":0,"stepResults":[{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.457 karate.env system property was: null \n"},{"result":{"nanos":53699,"millis":0.053699,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127899,"millis":0.127899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82700,"millis":0.0827,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237598,"millis":0.237598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434697,"millis":0.434697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42599,"millis":0.042599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":345698,"millis":0.345698,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21400,"millis":0.0214,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":90899,"millis":0.090899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":115799,"millis":0.115799,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":940314910,"millis":940.31491,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":3322778,"millis":3.322778,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76854ff3-a853-4405-b9fd-acef66460376'"}},{"result":{"nanos":5779862,"millis":5.779862,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":6405857,"millis":6.405857,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":5579064,"millis":5.579064,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":5068666,"millis":5.068666,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":5322765,"millis":5.322765,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3005581,"millis":3.005581,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2785181,"millis":2.785181,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":3370678,"millis":3.370678,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":475497,"millis":0.475497,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":152799,"millis":0.152799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.441 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsgebiedsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":3019380,"millis":3.01938,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":71999,"millis":0.071999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.445 [print] #notpresent \n"},{"result":{"nanos":3250279,"millis":3.250279,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":102699,"millis":0.102699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.448 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1003393,"millis":1.003393,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.449 [print] #notpresent \n"},{"result":{"nanos":5737962,"millis":5.737962,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.455 [print] Beheer PDOK \n"},{"result":{"nanos":620396,"millis":0.620396,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.456 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=cbeaebc3-815a-48af-a978-0e16892865fc#MD_DataIdentification \n"},{"result":{"nanos":5308766,"millis":5.308766,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":601796,"millis":0.601796,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":395698,"millis":0.395698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"76854ff3-a853-4405-b9fd-acef66460376\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1003.653094,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"76854ff3-a853-4405-b9fd-acef66460376","startTime":1632027525456,"refId":"[1.55:67]","endTime":1632027526462,"exampleData":{"datasetIdentifierCode":"76854ff3-a853-4405-b9fd-acef66460376"},"exampleIndex":54},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:45.549 karate.env system property was: null \n"},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53299,"millis":0.053299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61700,"millis":0.0617,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":280498,"millis":0.280498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373697,"millis":0.373697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":410197,"millis":0.410197,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60900,"millis":0.0609,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6699,"millis":0.006699,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842663253,"millis":842.663253,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":422697,"millis":0.422697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c56433ca-35f2-4aaf-8bfa-35d8e0e52dda'"}},{"result":{"nanos":437297,"millis":0.437297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":515596,"millis":0.515596,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":397698,"millis":0.397698,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":405997,"millis":0.405997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":406397,"millis":0.406397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":299498,"millis":0.299498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":303198,"millis":0.303198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":301998,"millis":0.301998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":895494,"millis":0.895494,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":278798,"millis":0.278798,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:46.398 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":378997,"millis":0.378997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1417491,"millis":1.417491,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:46.400 [print] #notpresent \n"},{"result":{"nanos":338098,"millis":0.338098,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":4516470,"millis":4.51647,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:46.405 [print] OGC:WMS \n"},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":216999,"millis":0.216999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:46.405 [print] #notpresent \n"},{"result":{"nanos":415697,"millis":0.415697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":230199,"millis":0.230199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:46.406 [print] RIVM \n"},{"result":{"nanos":198998,"millis":0.198998,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:46.406 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288 \n"},{"result":{"nanos":450197,"millis":0.450197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":627096,"millis":0.627096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":391897,"millis":0.391897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.09205,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda","startTime":1632027525548,"refId":"[1.56:67]","endTime":1632027526407,"exampleData":{"datasetIdentifierCode":"c56433ca-35f2-4aaf-8bfa-35d8e0e52dda"},"exampleIndex":55},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.215 karate.env system property was: null \n"},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51999,"millis":0.051999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":285898,"millis":0.285898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50699,"millis":0.050699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":496197,"millis":0.496197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76000,"millis":0.076,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91700,"millis":0.0917,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":289698,"millis":0.289698,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51499,"millis":0.051499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '35359958-c40a-486f-9cf5-567a94de905e'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867615288,"millis":867.615288,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":510897,"millis":0.510897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '35359958-c40a-486f-9cf5-567a94de905e'"}},{"result":{"nanos":450597,"millis":0.450597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":416998,"millis":0.416998,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":420597,"millis":0.420597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":617696,"millis":0.617696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":731895,"millis":0.731895,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":72799,"millis":0.072799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":460497,"millis":0.460497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2219486,"millis":2.219486,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":623096,"millis":0.623096,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75100,"millis":0.0751,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":122399,"millis":0.122399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.091 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":377697,"millis":0.377697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111500,"millis":0.1115,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.092 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":435297,"millis":0.435297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69499,"millis":0.069499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.092 [print] #notpresent \n"},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74099,"millis":0.074099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.092 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":477897,"millis":0.477897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68899,"millis":0.068899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.093 [print] Beheer PDOK \n"},{"result":{"nanos":74100,"millis":0.0741,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.093 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n"},{"result":{"nanos":507297,"millis":0.507297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":732996,"millis":0.732996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":475096,"millis":0.475096,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"35359958-c40a-486f-9cf5-567a94de905e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.345412,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"35359958-c40a-486f-9cf5-567a94de905e","startTime":1632027526214,"refId":"[1.57:67]","endTime":1632027527095,"exampleData":{"datasetIdentifierCode":"35359958-c40a-486f-9cf5-567a94de905e"},"exampleIndex":56},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19399,"millis":0.019399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.270 karate.env system property was: null \n"},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60399,"millis":0.060399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":216699,"millis":0.216699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46299,"millis":0.046299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373498,"millis":0.373498,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44199,"millis":0.044199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":259398,"millis":0.259398,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10200,"millis":0.0102,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52999,"millis":0.052999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838382781,"millis":838.382781,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":379297,"millis":0.379297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f39d198a-1e69-43cc-b359-cc60a8c22d28'"}},{"result":{"nanos":378797,"millis":0.378797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":382698,"millis":0.382698,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":366397,"millis":0.366397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":474197,"millis":0.474197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":390298,"millis":0.390298,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":336998,"millis":0.336998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":416997,"millis":0.416997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":384198,"millis":0.384198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":411098,"millis":0.411098,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":461397,"millis":0.461397,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.115 [print] https:\/\/inspire.rivm.nl\/sos\/eaq\/service?service=AQD&version=1.0.0&request=GetCapabilities \n"},{"result":{"nanos":368697,"millis":0.368697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":374898,"millis":0.374898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.115 [print] #notpresent \n"},{"result":{"nanos":362897,"millis":0.362897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":397198,"millis":0.397198,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.116 [print] OGC:SOS \n"},{"result":{"nanos":43999,"millis":0.043999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":334198,"millis":0.334198,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.116 [print] #notpresent \n"},{"result":{"nanos":573696,"millis":0.573696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":467597,"millis":0.467597,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.118 [print] RIVM \n"},{"result":{"nanos":2057087,"millis":2.057087,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.120 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=733559a5-201d-40e5-ad43-d1c7bae84d9f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af135cd8-d429-4fc7-b9e3-09e15217520d\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3ec8793-7747-4da0-b6c3-aa384446a586\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5800f3b0-2ea2-4231-8165-216a7b26867f\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d8f370e8-123c-4ab3-9410-04f728327ac6\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f91c6ad6-62a5-46d0-8a5b-8a62e7a4b833\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/en\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=500d396f-5ec6-4e4b-a151-5fb3cddd8082\"] \n"},{"result":{"nanos":492396,"millis":0.492396,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":527097,"millis":0.527097,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":647596,"millis":0.647596,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f39d198a-1e69-43cc-b359-cc60a8c22d28\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":850.751199,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f39d198a-1e69-43cc-b359-cc60a8c22d28","startTime":1632027526269,"refId":"[1.58:67]","endTime":1632027527121,"exampleData":{"datasetIdentifierCode":"f39d198a-1e69-43cc-b359-cc60a8c22d28"},"exampleIndex":57},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.411 karate.env system property was: null \n"},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57499,"millis":0.057499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":117199,"millis":0.117199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228599,"millis":0.228599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48299,"millis":0.048299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423698,"millis":0.423698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39199,"millis":0.039199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":331998,"millis":0.331998,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52699,"millis":0.052699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858787757,"millis":858.787757,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":584096,"millis":0.584096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd'"}},{"result":{"nanos":470697,"millis":0.470697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":473197,"millis":0.473197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":491397,"millis":0.491397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":532597,"millis":0.532597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":469397,"millis":0.469397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28499,"millis":0.028499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":323798,"millis":0.323798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":403397,"millis":0.403397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":371798,"millis":0.371798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":66899,"millis":0.066899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":137199,"millis":0.137199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.276 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1160393,"millis":1.160393,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116299,"millis":0.116299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.278 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":532596,"millis":0.532596,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97700,"millis":0.0977,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.278 [print] #notpresent \n"},{"result":{"nanos":38599,"millis":0.038599,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":170299,"millis":0.170299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.278 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":839195,"millis":0.839195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96499,"millis":0.096499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.279 [print] Beheer PDOK \n"},{"result":{"nanos":115499,"millis":0.115499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.280 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":583696,"millis":0.583696,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":733195,"millis":0.733195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":490297,"millis":0.490297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.552385,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd","startTime":1632027526409,"refId":"[1.59:67]","endTime":1632027527281,"exampleData":{"datasetIdentifierCode":"3ebe56dc-5f09-4fb3-b224-55c2db4ca2fd"},"exampleIndex":58},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:46.464 karate.env system property was: null \n"},{"result":{"nanos":32599,"millis":0.032599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":77799,"millis":0.077799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223599,"millis":0.223599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":343398,"millis":0.343398,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85799,"millis":0.085799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":259598,"millis":0.259598,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859955452,"millis":859.955452,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":363398,"millis":0.363398,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '108fec55-e467-4d04-ab35-fd0d7060e3e2'"}},{"result":{"nanos":402697,"millis":0.402697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":404797,"millis":0.404797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":380598,"millis":0.380598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":458097,"millis":0.458097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":440997,"millis":0.440997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":343997,"millis":0.343997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":13313213,"millis":13.313213,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":726896,"millis":0.726896,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145099,"millis":0.145099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":179098,"millis":0.179098,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.343 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":412098,"millis":0.412098,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":141199,"millis":0.141199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.344 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":682995,"millis":0.682995,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":213499,"millis":0.213499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.345 [print] #notpresent \n"},{"result":{"nanos":114299,"millis":0.114299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":325598,"millis":0.325598,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.345 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":454997,"millis":0.454997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":159999,"millis":0.159999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.346 [print] Beheer PDOK \n"},{"result":{"nanos":201098,"millis":0.201098,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.346 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\"] \n"},{"result":{"nanos":584296,"millis":0.584296,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":585797,"millis":0.585797,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1278192,"millis":1.278192,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"108fec55-e467-4d04-ab35-fd0d7060e3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":883.577798,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"108fec55-e467-4d04-ab35-fd0d7060e3e2","startTime":1632027526464,"refId":"[1.60:67]","endTime":1632027527348,"exampleData":{"datasetIdentifierCode":"108fec55-e467-4d04-ab35-fd0d7060e3e2"},"exampleIndex":59},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38099,"millis":0.038099,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.097 karate.env system property was: null \n"},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":85700,"millis":0.0857,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":308998,"millis":0.308998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50099,"millis":0.050099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":439398,"millis":0.439398,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":78700,"millis":0.0787,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15099,"millis":0.015099,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848402270,"millis":848.40227,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":599896,"millis":0.599896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94ed09fe-1753-4861-8c62-d66251b7cde3'"}},{"result":{"nanos":442297,"millis":0.442297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":425897,"millis":0.425897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":387897,"millis":0.387897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":584597,"millis":0.584597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":537996,"millis":0.537996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":142999,"millis":0.142999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":527897,"millis":0.527897,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":355098,"millis":0.355098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":401397,"millis":0.401397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":191199,"millis":0.191199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":297298,"millis":0.297298,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.952 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":482497,"millis":0.482497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":190599,"millis":0.190599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.953 [print] #notpresent \n"},{"result":{"nanos":519396,"millis":0.519396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":157599,"millis":0.157599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.954 [print] #notpresent \n"},{"result":{"nanos":192599,"millis":0.192599,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":151099,"millis":0.151099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.954 [print] #notpresent \n"},{"result":{"nanos":572696,"millis":0.572696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":223398,"millis":0.223398,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.955 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":233799,"millis":0.233799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.955 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":692295,"millis":0.692295,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":674795,"millis":0.674795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":463697,"millis":0.463697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94ed09fe-1753-4861-8c62-d66251b7cde3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.1362,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"94ed09fe-1753-4861-8c62-d66251b7cde3","startTime":1632027527097,"refId":"[1.61:67]","endTime":1632027527957,"exampleData":{"datasetIdentifierCode":"94ed09fe-1753-4861-8c62-d66251b7cde3"},"exampleIndex":60},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20899,"millis":0.020899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.123 karate.env system property was: null \n"},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":74500,"millis":0.0745,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250898,"millis":0.250898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":418897,"millis":0.418897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59899,"millis":0.059899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":309898,"millis":0.309898,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":106699,"millis":0.106699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863355973,"millis":863.355973,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":577697,"millis":0.577697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bc2bcb8-558b-446b-b4e2-381b13d483a8'"}},{"result":{"nanos":442197,"millis":0.442197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":354397,"millis":0.354397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":349598,"millis":0.349598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":489097,"millis":0.489097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":478297,"millis":0.478297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":86800,"millis":0.0868,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":375097,"millis":0.375097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":300898,"millis":0.300898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":382798,"millis":0.382798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":489597,"millis":0.489597,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":627896,"millis":0.627896,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:47.994 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":411198,"millis":0.411198,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":437997,"millis":0.437997,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:47.995 [print] OGC:WMS \n"},{"result":{"nanos":394797,"millis":0.394797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":514097,"millis":0.514097,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:47.996 [print] #notpresent \n"},{"result":{"nanos":120999,"millis":0.120999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":475997,"millis":0.475997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:47.996 [print] OGC:WMS \n"},{"result":{"nanos":392897,"millis":0.392897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":472597,"millis":0.472597,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:47.997 [print] Beheer PDOK \n"},{"result":{"nanos":628696,"millis":0.628696,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:47.998 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":386297,"millis":0.386297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":456297,"millis":0.456297,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389297,"millis":0.389297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0bc2bcb8-558b-446b-b4e2-381b13d483a8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.906698,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0bc2bcb8-558b-446b-b4e2-381b13d483a8","startTime":1632027527123,"refId":"[1.62:67]","endTime":1632027527999,"exampleData":{"datasetIdentifierCode":"0bc2bcb8-558b-446b-b4e2-381b13d483a8"},"exampleIndex":61},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36599,"millis":0.036599,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.284 karate.env system property was: null \n"},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":84799,"millis":0.084799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":269298,"millis":0.269298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":454797,"millis":0.454797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55599,"millis":0.055599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":90100,"millis":0.0901,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15899,"millis":0.015899,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65400,"millis":0.0654,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '30f65c89-2246-49f8-8b50-0f1140d6f2aa'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":892592382,"millis":892.592382,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":664195,"millis":0.664195,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '30f65c89-2246-49f8-8b50-0f1140d6f2aa'"}},{"result":{"nanos":574296,"millis":0.574296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":519997,"millis":0.519997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":427197,"millis":0.427197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":627896,"millis":0.627896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":535696,"millis":0.535696,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89900,"millis":0.0899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":446697,"millis":0.446697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":364097,"millis":0.364097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":464697,"millis":0.464697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":155899,"millis":0.155899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":177699,"millis":0.177699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.183 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":912794,"millis":0.912794,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":138799,"millis":0.138799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.184 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":792695,"millis":0.792695,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":137399,"millis":0.137399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.185 [print] #notpresent \n"},{"result":{"nanos":307598,"millis":0.307598,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":130299,"millis":0.130299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.186 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":709595,"millis":0.709595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":137499,"millis":0.137499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.187 [print] Beheer PDOK \n"},{"result":{"nanos":383698,"millis":0.383698,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.187 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":1042693,"millis":1.042693,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1146592,"millis":1.146592,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":386598,"millis":0.386598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"30f65c89-2246-49f8-8b50-0f1140d6f2aa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":905.121398,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"30f65c89-2246-49f8-8b50-0f1140d6f2aa","startTime":1632027527283,"refId":"[1.63:67]","endTime":1632027528190,"exampleData":{"datasetIdentifierCode":"30f65c89-2246-49f8-8b50-0f1140d6f2aa"},"exampleIndex":62},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55399,"millis":0.055399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.351 karate.env system property was: null \n"},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":125699,"millis":0.125699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":177299,"millis":0.177299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":349598,"millis":0.349598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":129799,"millis":0.129799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":398297,"millis":0.398297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91199,"millis":0.091199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":142499,"millis":0.142499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30999,"millis":0.030999,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":28299,"millis":0.028299,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867988543,"millis":867.988543,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":384897,"millis":0.384897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ff8f6da2-949e-4838-90f6-fd895a4a240f'"}},{"result":{"nanos":365198,"millis":0.365198,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":414897,"millis":0.414897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":508097,"millis":0.508097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":592996,"millis":0.592996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":640096,"millis":0.640096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":107199,"millis":0.107199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":413297,"millis":0.413297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":301298,"millis":0.301298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":361098,"millis":0.361098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112699,"millis":0.112699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":317098,"millis":0.317098,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.226 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":384997,"millis":0.384997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95500,"millis":0.0955,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.226 [print] #notpresent \n"},{"result":{"nanos":340198,"millis":0.340198,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101199,"millis":0.101199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.227 [print] OGC:WFS \n"},{"result":{"nanos":260298,"millis":0.260298,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":87500,"millis":0.0875,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.227 [print] #notpresent \n"},{"result":{"nanos":414198,"millis":0.414198,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":105199,"millis":0.105199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.228 [print] RIVM \n"},{"result":{"nanos":522497,"millis":0.522497,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.229 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":489497,"millis":0.489497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":519196,"millis":0.519196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":804095,"millis":0.804095,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ff8f6da2-949e-4838-90f6-fd895a4a240f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.392874,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ff8f6da2-949e-4838-90f6-fd895a4a240f","startTime":1632027527350,"refId":"[1.64:67]","endTime":1632027528231,"exampleData":{"datasetIdentifierCode":"ff8f6da2-949e-4838-90f6-fd895a4a240f"},"exampleIndex":63},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:47.961 karate.env system property was: null \n"},{"result":{"nanos":46799,"millis":0.046799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":150199,"millis":0.150199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":128899,"millis":0.128899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":289398,"millis":0.289398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":147799,"millis":0.147799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":736695,"millis":0.736695,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":104400,"millis":0.1044,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":199798,"millis":0.199798,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":304098,"millis":0.304098,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29999,"millis":0.029999,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":342298,"millis":0.342298,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":69799,"millis":0.069799,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865998956,"millis":865.998956,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":487197,"millis":0.487197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'efb5222c-112a-4c57-9bbf-f2af918cb9b5'"}},{"result":{"nanos":367398,"millis":0.367398,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":427497,"millis":0.427497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":363898,"millis":0.363898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":397797,"millis":0.397797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":403397,"millis":0.403397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":280298,"millis":0.280298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":280398,"millis":0.280398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":279599,"millis":0.279599,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":90600,"millis":0.0906,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1275691,"millis":1.275691,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.836 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-aansluitende-zone-feed.atom \n"},{"result":{"nanos":456697,"millis":0.456697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98100,"millis":0.0981,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.836 [print] #notpresent \n"},{"result":{"nanos":713595,"millis":0.713595,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110599,"millis":0.110599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.837 [print] INSPIRE Atom \n"},{"result":{"nanos":597296,"millis":0.597296,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":486397,"millis":0.486397,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.838 [print] #notpresent \n"},{"result":{"nanos":448797,"millis":0.448797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79099,"millis":0.079099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.839 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":641696,"millis":0.641696,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.839 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":347698,"millis":0.347698,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":664895,"millis":0.664895,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3630477,"millis":3.630477,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"efb5222c-112a-4c57-9bbf-f2af918cb9b5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.678453,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"efb5222c-112a-4c57-9bbf-f2af918cb9b5","startTime":1632027527960,"refId":"[1.65:67]","endTime":1632027528844,"exampleData":{"datasetIdentifierCode":"efb5222c-112a-4c57-9bbf-f2af918cb9b5"},"exampleIndex":64},{"sectionIndex":0,"stepResults":[{"result":{"nanos":75899,"millis":0.075899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.002 karate.env system property was: null \n"},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":128999,"millis":0.128999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":132799,"millis":0.132799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278598,"millis":0.278598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":136399,"millis":0.136399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":425697,"millis":0.425697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":100099,"millis":0.100099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":809795,"millis":0.809795,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42399,"millis":0.042399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31599,"millis":0.031599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6de8b875-c4c2-4469-ac80-0782bb67f285'"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":891967886,"millis":891.967886,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":397197,"millis":0.397197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6de8b875-c4c2-4469-ac80-0782bb67f285'"}},{"result":{"nanos":436997,"millis":0.436997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":458297,"millis":0.458297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":488697,"millis":0.488697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":526797,"millis":0.526797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":413797,"millis":0.413797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":315398,"millis":0.315398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":312698,"millis":0.312698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":355198,"millis":0.355198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":255398,"millis":0.255398,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":231099,"millis":0.231099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:48.901 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/au\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":345697,"millis":0.345697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":243699,"millis":0.243699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:48.902 [print] #notpresent \n"},{"result":{"nanos":368797,"millis":0.368797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":284798,"millis":0.284798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:48.902 [print] OGC:WMS \n"},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":277698,"millis":0.277698,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:48.903 [print] #notpresent \n"},{"result":{"nanos":456697,"millis":0.456697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":281198,"millis":0.281198,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:48.903 [print] Beheer PDOK \n"},{"result":{"nanos":252198,"millis":0.252198,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:48.904 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7dd1fd45-ace5-41e0-93a6-64e3be231717#MD_DataIdentification \n"},{"result":{"nanos":495697,"millis":0.495697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":567996,"millis":0.567996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":422597,"millis":0.422597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6de8b875-c4c2-4469-ac80-0782bb67f285\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":902.689214,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6de8b875-c4c2-4469-ac80-0782bb67f285","startTime":1632027528001,"refId":"[1.66:67]","endTime":1632027528905,"exampleData":{"datasetIdentifierCode":"6de8b875-c4c2-4469-ac80-0782bb67f285"},"exampleIndex":65},{"sectionIndex":0,"stepResults":[{"result":{"nanos":57399,"millis":0.057399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.192 karate.env system property was: null \n"},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":127999,"millis":0.127999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":128899,"millis":0.128899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":287398,"millis":0.287398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":127399,"millis":0.127399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":406698,"millis":0.406698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":93499,"millis":0.093499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":164699,"millis":0.164699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49499,"millis":0.049499,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":311698,"millis":0.311698,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30599,"millis":0.030599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871190822,"millis":871.190822,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":805995,"millis":0.805995,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c78a99eb-9ba3-4307-a21b-2a64ad5da039'"}},{"result":{"nanos":653096,"millis":0.653096,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":562796,"millis":0.562796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":475997,"millis":0.475997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":627696,"millis":0.627696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":551796,"millis":0.551796,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":553997,"millis":0.553997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":418897,"millis":0.418897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":424197,"millis":0.424197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":303898,"millis":0.303898,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":306898,"millis":0.306898,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.072 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":407697,"millis":0.407697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":179599,"millis":0.179599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.072 [print] OGC:WMS \n"},{"result":{"nanos":375297,"millis":0.375297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":227199,"millis":0.227199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.073 [print] #notpresent \n"},{"result":{"nanos":44299,"millis":0.044299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":124900,"millis":0.1249,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.073 [print] OGC:WMS \n"},{"result":{"nanos":551797,"millis":0.551797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":188699,"millis":0.188699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.074 [print] Beheer PDOK \n"},{"result":{"nanos":124599,"millis":0.124599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.074 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":562896,"millis":0.562896,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1048093,"millis":1.048093,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":413497,"millis":0.413497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c78a99eb-9ba3-4307-a21b-2a64ad5da039\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":883.152843,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c78a99eb-9ba3-4307-a21b-2a64ad5da039","startTime":1632027528192,"refId":"[1.67:67]","endTime":1632027529076,"exampleData":{"datasetIdentifierCode":"c78a99eb-9ba3-4307-a21b-2a64ad5da039"},"exampleIndex":66},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18399,"millis":0.018399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.233 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53799,"millis":0.053799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":174199,"millis":0.174199,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":350798,"millis":0.350798,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":99000,"millis":0.099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":279098,"millis":0.279098,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '32b1eb9e-c54f-4598-92d2-328eb77fa0d3'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846460183,"millis":846.460183,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":389097,"millis":0.389097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '32b1eb9e-c54f-4598-92d2-328eb77fa0d3'"}},{"result":{"nanos":566596,"millis":0.566596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":488397,"millis":0.488397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":471397,"millis":0.471397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":532696,"millis":0.532696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":472497,"millis":0.472497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":407597,"millis":0.407597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":373398,"millis":0.373398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":356297,"millis":0.356297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":809895,"millis":0.809895,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":611796,"millis":0.611796,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.087 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":417297,"millis":0.417297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":382597,"millis":0.382597,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.088 [print] OGC:WFS \n"},{"result":{"nanos":398098,"millis":0.398098,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":391397,"millis":0.391397,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.088 [print] #notpresent \n"},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":353497,"millis":0.353497,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.089 [print] OGC:WFS \n"},{"result":{"nanos":429397,"millis":0.429397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":365798,"millis":0.365798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.090 [print] Beheer PDOK \n"},{"result":{"nanos":641296,"millis":0.641296,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.090 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n"},{"result":{"nanos":423397,"millis":0.423397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":475097,"millis":0.475097,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"32b1eb9e-c54f-4598-92d2-328eb77fa0d3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":402697,"millis":0.402697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"32b1eb9e-c54f-4598-92d2-328eb77fa0d3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.930607,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"32b1eb9e-c54f-4598-92d2-328eb77fa0d3","startTime":1632027528233,"refId":"[1.68:67]","endTime":1632027529092,"exampleData":{"datasetIdentifierCode":"32b1eb9e-c54f-4598-92d2-328eb77fa0d3"},"exampleIndex":67},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24299,"millis":0.024299,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.848 karate.env system property was: null \n"},{"result":{"nanos":56000,"millis":0.056,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":262998,"millis":0.262998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394697,"millis":0.394697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":232198,"millis":0.232198,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":73299,"millis":0.073299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851649849,"millis":851.649849,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":621596,"millis":0.621596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce4ac3b9-8291-498d-95de-79fe7b6f5259'"}},{"result":{"nanos":884294,"millis":0.884294,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":720096,"millis":0.720096,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":522597,"millis":0.522597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":726695,"millis":0.726695,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":623296,"millis":0.623296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":405297,"millis":0.405297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":462397,"millis":0.462397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":604596,"millis":0.604596,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":114499,"millis":0.114499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1426991,"millis":1.426991,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.709 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":549297,"millis":0.549297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":323898,"millis":0.323898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.710 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":785394,"millis":0.785394,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":243499,"millis":0.243499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.711 [print] #notpresent \n"},{"result":{"nanos":65699,"millis":0.065699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":232299,"millis":0.232299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.711 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1222592,"millis":1.222592,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":565896,"millis":0.565896,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.713 [print] Beheer PDOK \n"},{"result":{"nanos":194099,"millis":0.194099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.713 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n"},{"result":{"nanos":511296,"millis":0.511296,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":696096,"millis":0.696096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":632695,"millis":0.632695,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce4ac3b9-8291-498d-95de-79fe7b6f5259\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.134154,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ce4ac3b9-8291-498d-95de-79fe7b6f5259","startTime":1632027528846,"refId":"[1.69:67]","endTime":1632027529715,"exampleData":{"datasetIdentifierCode":"ce4ac3b9-8291-498d-95de-79fe7b6f5259"},"exampleIndex":68},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:48.907 karate.env system property was: null \n"},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48799,"millis":0.048799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223998,"millis":0.223998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335698,"millis":0.335698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":210298,"millis":0.210298,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50699,"millis":0.050699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846706081,"millis":846.706081,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":399798,"millis":0.399798,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '542b330b-d3c6-4617-b97f-693e5cfd1872'"}},{"result":{"nanos":395197,"millis":0.395197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":402497,"millis":0.402497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391398,"millis":0.391398,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":398197,"millis":0.398197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":393397,"millis":0.393397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":309998,"millis":0.309998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":398497,"millis":0.398497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":340998,"millis":0.340998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":137599,"millis":0.137599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":188299,"millis":0.188299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.759 [print] https:\/\/www.broinspireservices.nl\/wfs\/osamepl-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":512697,"millis":0.512697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121900,"millis":0.1219,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.760 [print] #notpresent \n"},{"result":{"nanos":467197,"millis":0.467197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":120299,"millis":0.120299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.761 [print] OGC:WFS \n"},{"result":{"nanos":158699,"millis":0.158699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":81399,"millis":0.081399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.761 [print] #notpresent \n"},{"result":{"nanos":485397,"millis":0.485397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96199,"millis":0.096199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.761 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":176199,"millis":0.176199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.762 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":501797,"millis":0.501797,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":451597,"millis":0.451597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":395397,"millis":0.395397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"542b330b-d3c6-4617-b97f-693e5cfd1872\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.180425,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"542b330b-d3c6-4617-b97f-693e5cfd1872","startTime":1632027528907,"refId":"[1.70:67]","endTime":1632027529763,"exampleData":{"datasetIdentifierCode":"542b330b-d3c6-4617-b97f-693e5cfd1872"},"exampleIndex":69},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21099,"millis":0.021099,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.080 karate.env system property was: null \n"},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62599,"millis":0.062599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":241699,"millis":0.241699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50599,"millis":0.050599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":462397,"millis":0.462397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":112499,"millis":0.112499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863227874,"millis":863.227874,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":853795,"millis":0.853795,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56093b94-7517-456d-a0d4-338aba3d8c74'"}},{"result":{"nanos":511296,"millis":0.511296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":521197,"millis":0.521197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":483997,"millis":0.483997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":626195,"millis":0.626195,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":439298,"millis":0.439298,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":330598,"millis":0.330598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335898,"millis":0.335898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":341897,"millis":0.341897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129000,"millis":0.129,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":271699,"millis":0.271699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.950 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":473197,"millis":0.473197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":207098,"millis":0.207098,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.950 [print] #notpresent \n"},{"result":{"nanos":442097,"millis":0.442097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":208099,"millis":0.208099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.951 [print] #notpresent \n"},{"result":{"nanos":62699,"millis":0.062699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":184999,"millis":0.184999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.951 [print] #notpresent \n"},{"result":{"nanos":446297,"millis":0.446297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":203999,"millis":0.203999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.952 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":195898,"millis":0.195898,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.952 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":431898,"millis":0.431898,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":655996,"millis":0.655996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":526997,"millis":0.526997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"56093b94-7517-456d-a0d4-338aba3d8c74\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.36901,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"56093b94-7517-456d-a0d4-338aba3d8c74","startTime":1632027529079,"refId":"[1.71:67]","endTime":1632027529954,"exampleData":{"datasetIdentifierCode":"56093b94-7517-456d-a0d4-338aba3d8c74"},"exampleIndex":70},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.094 karate.env system property was: null \n"},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75400,"millis":0.0754,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":217898,"millis":0.217898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":381097,"millis":0.381097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":450397,"millis":0.450397,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6699,"millis":0.006699,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":115900,"millis":0.1159,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":892298785,"millis":892.298785,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":491597,"millis":0.491597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '702060c1-b3fd-44ec-8cc6-d4249d150110'"}},{"result":{"nanos":555796,"millis":0.555796,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":487297,"millis":0.487297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":465597,"millis":0.465597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":577296,"millis":0.577296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":487497,"millis":0.487497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":323798,"millis":0.323798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":362097,"millis":0.362097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":338198,"millis":0.338198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":581696,"millis":0.581696,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":555396,"millis":0.555396,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:49.993 [print] http:\/\/services.inspire-provincies.nl\/HabitatsAndBiotopes\/services\/download_HB?request=GetCapabilities \n"},{"result":{"nanos":418298,"millis":0.418298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":418297,"millis":0.418297,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:49.994 [print] OGC:WFS \n"},{"result":{"nanos":366297,"millis":0.366297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":367898,"millis":0.367898,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:49.995 [print] #notpresent \n"},{"result":{"nanos":74899,"millis":0.074899,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":479597,"millis":0.479597,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:49.996 [print] OGC:WFS \n"},{"result":{"nanos":532697,"millis":0.532697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":421497,"millis":0.421497,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:49.997 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":597096,"millis":0.597096,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:49.997 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88e2a6fa-b296-4ff4-bc30-fb87e2c1627e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":478197,"millis":0.478197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":806294,"millis":0.806294,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":567397,"millis":0.567397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"702060c1-b3fd-44ec-8cc6-d4249d150110\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":904.591805,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"702060c1-b3fd-44ec-8cc6-d4249d150110","startTime":1632027529093,"refId":"[1.72:67]","endTime":1632027529999,"exampleData":{"datasetIdentifierCode":"702060c1-b3fd-44ec-8cc6-d4249d150110"},"exampleIndex":71},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.718 karate.env system property was: null \n"},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":80699,"millis":0.080699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":295198,"millis":0.295198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69899,"millis":0.069899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":413297,"millis":0.413297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64300,"millis":0.0643,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25299,"millis":0.025299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":148199,"millis":0.148199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860969188,"millis":860.969188,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":436597,"millis":0.436597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2d2cd9d-7410-485a-95e0-c1b885243eaf'"}},{"result":{"nanos":353898,"millis":0.353898,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":473096,"millis":0.473096,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":492797,"millis":0.492797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":548397,"millis":0.548397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":757895,"millis":0.757895,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":386297,"millis":0.386297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":495197,"millis":0.495197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":378697,"millis":0.378697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143399,"millis":0.143399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":669296,"millis":0.669296,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.586 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":323598,"millis":0.323598,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":92899,"millis":0.092899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.586 [print] OGC:WMS \n"},{"result":{"nanos":538297,"millis":0.538297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70899,"millis":0.070899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.587 [print] #notpresent \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":388697,"millis":0.388697,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.587 [print] OGC:WMS \n"},{"result":{"nanos":555396,"millis":0.555396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96400,"millis":0.0964,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.588 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":1013993,"millis":1.013993,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.589 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":1273392,"millis":1.273392,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":682795,"millis":0.682795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":423597,"millis":0.423597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2d2cd9d-7410-485a-95e0-c1b885243eaf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.004708,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"f2d2cd9d-7410-485a-95e0-c1b885243eaf","startTime":1632027529717,"refId":"[1.73:67]","endTime":1632027530591,"exampleData":{"datasetIdentifierCode":"f2d2cd9d-7410-485a-95e0-c1b885243eaf"},"exampleIndex":72},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21100,"millis":0.0211,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.765 karate.env system property was: null \n"},{"result":{"nanos":31599,"millis":0.031599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":202798,"millis":0.202798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":363997,"millis":0.363997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":82800,"millis":0.0828,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19299,"millis":0.019299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":95700,"millis":0.0957,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53399,"millis":0.053399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":206899,"millis":0.206899,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9600,"millis":0.0096,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847350677,"millis":847.350677,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":532596,"millis":0.532596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd981070b-888c-42d5-85ff-1e383f3d7fce'"}},{"result":{"nanos":603796,"millis":0.603796,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":482997,"millis":0.482997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":449197,"millis":0.449197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":460797,"millis":0.460797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":555296,"millis":0.555296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":375397,"millis":0.375397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":344598,"millis":0.344598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":336898,"millis":0.336898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":221998,"millis":0.221998,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":204399,"millis":0.204399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.619 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":353797,"millis":0.353797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":213099,"millis":0.213099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.619 [print] OGC:WMS \n"},{"result":{"nanos":363898,"millis":0.363898,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":214999,"millis":0.214999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.620 [print] #notpresent \n"},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":194198,"millis":0.194198,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.620 [print] OGC:WMS \n"},{"result":{"nanos":423198,"millis":0.423198,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":213498,"millis":0.213498,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.621 [print] Beheer PDOK \n"},{"result":{"nanos":196099,"millis":0.196099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.621 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":455897,"millis":0.455897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":588096,"millis":0.588096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":511696,"millis":0.511696,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d981070b-888c-42d5-85ff-1e383f3d7fce\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.015312,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d981070b-888c-42d5-85ff-1e383f3d7fce","startTime":1632027529765,"refId":"[1.74:67]","endTime":1632027530623,"exampleData":{"datasetIdentifierCode":"d981070b-888c-42d5-85ff-1e383f3d7fce"},"exampleIndex":73},{"sectionIndex":0,"stepResults":[{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:49.956 karate.env system property was: null \n"},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":74199,"millis":0.074199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356097,"millis":0.356097,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431697,"millis":0.431697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":113099,"millis":0.113099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56499,"millis":0.056499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858521404,"millis":858.521404,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":588796,"millis":0.588796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '00e8746f-5031-413e-8343-9203c8ea82ee'"}},{"result":{"nanos":510397,"millis":0.510397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":450797,"millis":0.450797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":382297,"millis":0.382297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":448797,"millis":0.448797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":403798,"millis":0.403798,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29199,"millis":0.029199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":336598,"millis":0.336598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":315198,"millis":0.315198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":324598,"millis":0.324598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":565396,"millis":0.565396,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":485197,"millis":0.485197,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.822 [print] http:\/\/services.inspire-provincies.nl\/NaturalRiskZones\/services\/download_NZ?request=GetCapabilities \n"},{"result":{"nanos":393597,"millis":0.393597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":402998,"millis":0.402998,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.822 [print] OGC:WFS \n"},{"result":{"nanos":425997,"millis":0.425997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":427797,"millis":0.427797,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.823 [print] #notpresent \n"},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":380397,"millis":0.380397,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.824 [print] OGC:WFS \n"},{"result":{"nanos":592296,"millis":0.592296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":414797,"millis":0.414797,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.825 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":1262692,"millis":1.262692,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.826 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88f76a94-ee4d-4e0c-9fde-91b692403e39&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=08af1182-91fe-4d21-aa21-ee002953c3cc&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=d91126e0-e37b-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=667ebfb0-e37c-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":469497,"millis":0.469497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":680995,"millis":0.680995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":422498,"millis":0.422498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"00e8746f-5031-413e-8343-9203c8ea82ee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.642224,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"00e8746f-5031-413e-8343-9203c8ea82ee","startTime":1632027529956,"refId":"[1.75:67]","endTime":1632027530828,"exampleData":{"datasetIdentifierCode":"00e8746f-5031-413e-8343-9203c8ea82ee"},"exampleIndex":74},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22499,"millis":0.022499,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.002 karate.env system property was: null \n"},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":84400,"millis":0.0844,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":319198,"millis":0.319198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":76499,"millis":0.076499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":492797,"millis":0.492797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76899,"millis":0.076899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":478697,"millis":0.478697,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856349218,"millis":856.349218,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":429597,"millis":0.429597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '92826f1e-040d-4099-b9e1-cab6bfc520af'"}},{"result":{"nanos":418697,"millis":0.418697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":423498,"millis":0.423498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":337398,"millis":0.337398,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":413698,"millis":0.413698,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":440198,"millis":0.440198,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30499,"millis":0.030499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":407898,"millis":0.407898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":408497,"millis":0.408497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":381997,"millis":0.381997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":739495,"millis":0.739495,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":629096,"millis":0.629096,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:50.866 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":428797,"millis":0.428797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":505897,"millis":0.505897,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:50.867 [print] #notpresent \n"},{"result":{"nanos":434297,"millis":0.434297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":423797,"millis":0.423797,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:50.867 [print] #notpresent \n"},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":455797,"millis":0.455797,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:50.868 [print] #notpresent \n"},{"result":{"nanos":462997,"millis":0.462997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":474297,"millis":0.474297,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:50.869 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":563596,"millis":0.563596,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:50.869 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":433197,"millis":0.433197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":509497,"millis":0.509497,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":419397,"millis":0.419397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"92826f1e-040d-4099-b9e1-cab6bfc520af\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.393941,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"92826f1e-040d-4099-b9e1-cab6bfc520af","startTime":1632027530001,"refId":"[1.76:67]","endTime":1632027530871,"exampleData":{"datasetIdentifierCode":"92826f1e-040d-4099-b9e1-cab6bfc520af"},"exampleIndex":75},{"sectionIndex":0,"stepResults":[{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.596 karate.env system property was: null \n"},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56399,"millis":0.056399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254498,"millis":0.254498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":410497,"millis":0.410497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":244398,"millis":0.244398,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":95599,"millis":0.095599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":868822137,"millis":868.822137,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":500196,"millis":0.500196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '627b50bf-2e33-4beb-a314-ff8c0fe8912e'"}},{"result":{"nanos":420798,"millis":0.420798,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":480496,"millis":0.480496,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":418198,"millis":0.418198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":482396,"millis":0.482396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":554297,"millis":0.554297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30099,"millis":0.030099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":325298,"millis":0.325298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335798,"millis":0.335798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":387097,"millis":0.387097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134599,"millis":0.134599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.470 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":731295,"millis":0.731295,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114199,"millis":0.114199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.471 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":439497,"millis":0.439497,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.472 [print] #notpresent \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":259598,"millis":0.259598,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.472 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":500797,"millis":0.500797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88799,"millis":0.088799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.473 [print] Beheer PDOK \n"},{"result":{"nanos":104399,"millis":0.104399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.473 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":553397,"millis":0.553397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":669595,"millis":0.669595,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344598,"millis":0.344598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"627b50bf-2e33-4beb-a314-ff8c0fe8912e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.203374,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"627b50bf-2e33-4beb-a314-ff8c0fe8912e","startTime":1632027530595,"refId":"[1.77:67]","endTime":1632027531474,"exampleData":{"datasetIdentifierCode":"627b50bf-2e33-4beb-a314-ff8c0fe8912e"},"exampleIndex":76},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.625 karate.env system property was: null \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56699,"millis":0.056699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":181199,"millis":0.181199,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":358897,"millis":0.358897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103399,"millis":0.103399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":65200,"millis":0.0652,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":866199054,"millis":866.199054,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":496096,"millis":0.496096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f'"}},{"result":{"nanos":575297,"millis":0.575297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":559896,"millis":0.559896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":586396,"millis":0.586396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":583496,"millis":0.583496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":580996,"millis":0.580996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":416097,"millis":0.416097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":411097,"millis":0.411097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":467297,"millis":0.467297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":83899,"millis":0.083899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.497 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":427897,"millis":0.427897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":67300,"millis":0.0673,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.498 [print] #notpresent \n"},{"result":{"nanos":454397,"millis":0.454397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94399,"millis":0.094399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.498 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67699,"millis":0.067699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.498 [print] #notpresent \n"},{"result":{"nanos":578696,"millis":0.578696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.499 [print] Beheer PDOK \n"},{"result":{"nanos":71599,"millis":0.071599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.499 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n"},{"result":{"nanos":609796,"millis":0.609796,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":398198,"millis":0.398198,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":343597,"millis":0.343597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.360293,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f","startTime":1632027530624,"refId":"[1.78:67]","endTime":1632027531501,"exampleData":{"datasetIdentifierCode":"86cb5bcc-a199-43e2-9e03-2d0fe8bdfa3f"},"exampleIndex":77},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.830 karate.env system property was: null \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55599,"millis":0.055599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220798,"millis":0.220798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":344898,"millis":0.344898,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":327198,"millis":0.327198,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51899,"millis":0.051899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":996241907,"millis":996.241907,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":3506477,"millis":3.506477,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37e05521-c323-4dbe-aba4-de1178ba44a5'"}},{"result":{"nanos":5119266,"millis":5.119266,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":4886468,"millis":4.886468,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":4883768,"millis":4.883768,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":4809569,"millis":4.809569,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":5045567,"millis":5.045567,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2769682,"millis":2.769682,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":2778382,"millis":2.778382,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4725770,"millis":4.72577,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":503896,"millis":0.503896,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131399,"millis":0.131399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.867 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/vogelrichtlijnverspreidingsoorten\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":3951675,"millis":3.951675,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":165499,"millis":0.165499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.871 [print] #notpresent \n"},{"result":{"nanos":4138573,"millis":4.138573,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":146999,"millis":0.146999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.875 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1055293,"millis":1.055293,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":89100,"millis":0.0891,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.877 [print] #notpresent \n"},{"result":{"nanos":5742762,"millis":5.742762,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92600,"millis":0.0926,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.882 [print] Beheer PDOK \n"},{"result":{"nanos":619496,"millis":0.619496,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.883 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=fcefa13c-44e2-4953-b6d6-1ddceebc57fc#MD_DataIdentification \n"},{"result":{"nanos":6034761,"millis":6.034761,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":640496,"millis":0.640496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":350097,"millis":0.350097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"37e05521-c323-4dbe-aba4-de1178ba44a5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1059.722894,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"37e05521-c323-4dbe-aba4-de1178ba44a5","startTime":1632027530829,"refId":"[1.79:67]","endTime":1632027531890,"exampleData":{"datasetIdentifierCode":"37e05521-c323-4dbe-aba4-de1178ba44a5"},"exampleIndex":78},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21700,"millis":0.0217,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:50.873 karate.env system property was: null \n"},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":72199,"millis":0.072199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":79200,"millis":0.0792,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236298,"millis":0.236298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":355397,"millis":0.355397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":558796,"millis":0.558796,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":83000,"millis":0.083,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":7900,"millis":0.0079,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855347225,"millis":855.347225,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2499,"millis":0.002499,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":487497,"millis":0.487497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3ee940-4f98-427c-a2d9-58696005d9c2'"}},{"result":{"nanos":405498,"millis":0.405498,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":371498,"millis":0.371498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":344898,"millis":0.344898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":476997,"millis":0.476997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":381097,"millis":0.381097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":447397,"millis":0.447397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":376697,"millis":0.376697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":304498,"millis":0.304498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":131899,"millis":0.131899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":658496,"millis":0.658496,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:51.735 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":362697,"millis":0.362697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108100,"millis":0.1081,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:51.736 [print] #notpresent \n"},{"result":{"nanos":430498,"millis":0.430498,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68499,"millis":0.068499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:51.736 [print] #notpresent \n"},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":104999,"millis":0.104999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:51.736 [print] #notpresent \n"},{"result":{"nanos":371197,"millis":0.371197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90900,"millis":0.0909,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:51.737 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":92699,"millis":0.092699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:51.737 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":413397,"millis":0.413397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":628996,"millis":0.628996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":365898,"millis":0.365898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ac3ee940-4f98-427c-a2d9-58696005d9c2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.468166,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ac3ee940-4f98-427c-a2d9-58696005d9c2","startTime":1632027530872,"refId":"[1.80:67]","endTime":1632027531738,"exampleData":{"datasetIdentifierCode":"ac3ee940-4f98-427c-a2d9-58696005d9c2"},"exampleIndex":79},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.476 karate.env system property was: null \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55899,"millis":0.055899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":294299,"millis":0.294299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":525797,"millis":0.525797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":58399,"millis":0.058399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":160499,"millis":0.160499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11999,"millis":0.011999,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":837055444,"millis":837.055444,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":459697,"millis":0.459697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68722979-8d6c-4ee4-a81a-8381d2588fe5'"}},{"result":{"nanos":422297,"millis":0.422297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":389697,"millis":0.389697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":360898,"millis":0.360898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435497,"millis":0.435497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":376597,"millis":0.376597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":295998,"millis":0.295998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":298998,"millis":0.298998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":337498,"millis":0.337498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":91199,"millis":0.091199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":210499,"millis":0.210499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.319 [print] https:\/\/geodata.nationaalgeoregister.nl\/nl\/rws\/hy-n\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":496697,"millis":0.496697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88999,"millis":0.088999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.319 [print] OGC:WMS \n"},{"result":{"nanos":345298,"millis":0.345298,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69899,"millis":0.069899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.320 [print] #notpresent \n"},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73199,"millis":0.073199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.320 [print] OGC:WMS \n"},{"result":{"nanos":380098,"millis":0.380098,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63399,"millis":0.063399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.320 [print] Beheer PDOK \n"},{"result":{"nanos":93000,"millis":0.093,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.321 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":1002493,"millis":1.002493,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":705795,"millis":0.705795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385298,"millis":0.385298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68722979-8d6c-4ee4-a81a-8381d2588fe5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":845.892586,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68722979-8d6c-4ee4-a81a-8381d2588fe5","startTime":1632027531476,"refId":"[1.81:67]","endTime":1632027532323,"exampleData":{"datasetIdentifierCode":"68722979-8d6c-4ee4-a81a-8381d2588fe5"},"exampleIndex":80},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.503 karate.env system property was: null \n"},{"result":{"nanos":31799,"millis":0.031799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71000,"millis":0.071,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":94399,"millis":0.094399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271298,"millis":0.271298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":378397,"millis":0.378397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":88799,"millis":0.088799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54899,"millis":0.054899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851618749,"millis":851.618749,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":401898,"millis":0.401898,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '918388cf-9d8c-4264-b108-3e375bde0d52'"}},{"result":{"nanos":413097,"millis":0.413097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":426197,"millis":0.426197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":501797,"millis":0.501797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":464397,"millis":0.464397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":446797,"millis":0.446797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43699,"millis":0.043699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":553797,"millis":0.553797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":324798,"millis":0.324798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":360498,"millis":0.360498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59399,"millis":0.059399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":534497,"millis":0.534497,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.361 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":482497,"millis":0.482497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":399998,"millis":0.399998,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.362 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":452197,"millis":0.452197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":550896,"millis":0.550896,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.363 [print] #notpresent \n"},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":355597,"millis":0.355597,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.364 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":482397,"millis":0.482397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":338098,"millis":0.338098,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.364 [print] Beheer PDOK \n"},{"result":{"nanos":606996,"millis":0.606996,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.365 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":522297,"millis":0.522297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":443198,"millis":0.443198,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":358197,"millis":0.358197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"918388cf-9d8c-4264-b108-3e375bde0d52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.367679,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"918388cf-9d8c-4264-b108-3e375bde0d52","startTime":1632027531503,"refId":"[1.82:67]","endTime":1632027532366,"exampleData":{"datasetIdentifierCode":"918388cf-9d8c-4264-b108-3e375bde0d52"},"exampleIndex":81},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.740 karate.env system property was: null \n"},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55399,"millis":0.055399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":328198,"millis":0.328198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49499,"millis":0.049499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":360598,"millis":0.360598,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":258998,"millis":0.258998,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":51699,"millis":0.051699,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a035801a-3256-4a36-9f81-02421aacee17'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864924663,"millis":864.924663,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":426997,"millis":0.426997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a035801a-3256-4a36-9f81-02421aacee17'"}},{"result":{"nanos":350098,"millis":0.350098,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":373197,"millis":0.373197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":318298,"millis":0.318298,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":482697,"millis":0.482697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":359698,"millis":0.359698,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":316398,"millis":0.316398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281898,"millis":0.281898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":282098,"millis":0.282098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69200,"millis":0.0692,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":160399,"millis":0.160399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.611 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":324697,"millis":0.324697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":92400,"millis":0.0924,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.611 [print] OGC:WMS \n"},{"result":{"nanos":286498,"millis":0.286498,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93399,"millis":0.093399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.611 [print] #notpresent \n"},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72699,"millis":0.072699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.612 [print] OGC:WMS \n"},{"result":{"nanos":3152280,"millis":3.15228,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":128899,"millis":0.128899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.615 [print] Beheer PDOK \n"},{"result":{"nanos":82999,"millis":0.082999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.615 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":408398,"millis":0.408398,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":869595,"millis":0.869595,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":357497,"millis":0.357497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a035801a-3256-4a36-9f81-02421aacee17\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.675593,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a035801a-3256-4a36-9f81-02421aacee17","startTime":1632027531740,"refId":"[1.83:67]","endTime":1632027532617,"exampleData":{"datasetIdentifierCode":"a035801a-3256-4a36-9f81-02421aacee17"},"exampleIndex":82},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:51.892 karate.env system property was: null \n"},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53099,"millis":0.053099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228498,"millis":0.228498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":360298,"millis":0.360298,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36999,"millis":0.036999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":110900,"millis":0.1109,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":241398,"millis":0.241398,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53499,"millis":0.053499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855679023,"millis":855.679023,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2700,"millis":0.0027,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":418197,"millis":0.418197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '684ff4f6-1652-45a8-93f0-8e16d37b2a66'"}},{"result":{"nanos":404497,"millis":0.404497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":461897,"millis":0.461897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":385297,"millis":0.385297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":427697,"millis":0.427697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":374198,"millis":0.374198,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":284498,"millis":0.284498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":17897883,"millis":17.897883,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":810195,"millis":0.810195,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":238798,"millis":0.238798,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":245498,"millis":0.245498,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:52.772 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/wms\/v1_0?SERVICE=WMS&VERSION=1.3.0&REQUEST=GetCapabilities \n"},{"result":{"nanos":473397,"millis":0.473397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":158599,"millis":0.158599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:52.772 [print] OGC:WMS \n"},{"result":{"nanos":436197,"millis":0.436197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":151399,"millis":0.151399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:52.773 [print] #notpresent \n"},{"result":{"nanos":273198,"millis":0.273198,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":446697,"millis":0.446697,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:52.775 [print] OGC:WMS \n"},{"result":{"nanos":565796,"millis":0.565796,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":571096,"millis":0.571096,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:52.776 [print] Beheer PDOK \n"},{"result":{"nanos":702096,"millis":0.702096,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:52.777 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":408697,"millis":0.408697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":630796,"millis":0.630796,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":411197,"millis":0.411197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"684ff4f6-1652-45a8-93f0-8e16d37b2a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.166634,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"684ff4f6-1652-45a8-93f0-8e16d37b2a66","startTime":1632027531892,"refId":"[1.84:67]","endTime":1632027532779,"exampleData":{"datasetIdentifierCode":"684ff4f6-1652-45a8-93f0-8e16d37b2a66"},"exampleIndex":83},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.325 karate.env system property was: null \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54299,"millis":0.054299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":211498,"millis":0.211498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":344098,"millis":0.344098,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38899,"millis":0.038899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53399,"millis":0.053399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":881134957,"millis":881.134957,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":572696,"millis":0.572696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1a8d5470-8c5e-477a-ab6b-4893b6d21ab6'"}},{"result":{"nanos":415197,"millis":0.415197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":371898,"millis":0.371898,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":512696,"millis":0.512696,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":578996,"millis":0.578996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":444397,"millis":0.444397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84100,"millis":0.0841,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":344697,"millis":0.344697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281198,"millis":0.281198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":379398,"millis":0.379398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":153999,"millis":0.153999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":200398,"millis":0.200398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.212 [print] https:\/\/www.broinspireservices.nl\/wms\/osgebor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":392298,"millis":0.392298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":151299,"millis":0.151299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.213 [print] #notpresent \n"},{"result":{"nanos":413497,"millis":0.413497,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":119399,"millis":0.119399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.213 [print] OGC:WMS \n"},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":127499,"millis":0.127499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.214 [print] #notpresent \n"},{"result":{"nanos":371197,"millis":0.371197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":189099,"millis":0.189099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.214 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":139699,"millis":0.139699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.214 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":434197,"millis":0.434197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":567296,"millis":0.567296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":478897,"millis":0.478897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":889.919697,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6","startTime":1632027532325,"refId":"[1.85:67]","endTime":1632027533216,"exampleData":{"datasetIdentifierCode":"1a8d5470-8c5e-477a-ab6b-4893b6d21ab6"},"exampleIndex":84},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.368 karate.env system property was: null \n"},{"result":{"nanos":28199,"millis":0.028199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":171399,"millis":0.171399,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":343098,"millis":0.343098,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":544296,"millis":0.544296,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14299,"millis":0.014299,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":107399,"millis":0.107399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":892326784,"millis":892.326784,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":464597,"millis":0.464597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5dfccef3-9b52-47f2-bb02-66b74aaf3af8'"}},{"result":{"nanos":412597,"millis":0.412597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":364798,"millis":0.364798,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":365198,"millis":0.365198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":483197,"millis":0.483197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":514396,"millis":0.514396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":105499,"millis":0.105499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":383798,"millis":0.383798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":356397,"millis":0.356397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":500597,"millis":0.500597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":219999,"millis":0.219999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":259198,"millis":0.259198,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.267 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":411897,"millis":0.411897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":188499,"millis":0.188499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.268 [print] OGC:WMS \n"},{"result":{"nanos":613896,"millis":0.613896,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":191798,"millis":0.191798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.269 [print] #notpresent \n"},{"result":{"nanos":90300,"millis":0.0903,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":204898,"millis":0.204898,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.269 [print] OGC:WMS \n"},{"result":{"nanos":442897,"millis":0.442897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":195299,"millis":0.195299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.269 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":210399,"millis":0.210399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.270 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4d514a2b-4a7e-4686-b9ea-87cb3e17ed52&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":463997,"millis":0.463997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":524497,"millis":0.524497,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":390197,"millis":0.390197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5dfccef3-9b52-47f2-bb02-66b74aaf3af8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":902.191319,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8","startTime":1632027532368,"refId":"[1.86:67]","endTime":1632027533271,"exampleData":{"datasetIdentifierCode":"5dfccef3-9b52-47f2-bb02-66b74aaf3af8"},"exampleIndex":85},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.619 karate.env system property was: null \n"},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220998,"millis":0.220998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":363797,"millis":0.363797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60000,"millis":0.06,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13799,"millis":0.013799,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52200,"millis":0.0522,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":891241091,"millis":891.241091,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":889395,"millis":0.889395,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '01572637-b851-4cc3-b06a-56c1ae1115cc'"}},{"result":{"nanos":470097,"millis":0.470097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":381998,"millis":0.381998,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":375097,"millis":0.375097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":644696,"millis":0.644696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":533596,"millis":0.533596,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":92900,"millis":0.0929,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":386197,"millis":0.386197,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":409997,"millis":0.409997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":475397,"millis":0.475397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145099,"millis":0.145099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":418298,"millis":0.418298,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.517 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":699996,"millis":0.699996,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":149799,"millis":0.149799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.517 [print] OGC:WFS \n"},{"result":{"nanos":525496,"millis":0.525496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":255098,"millis":0.255098,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.518 [print] INSPIRE Atom \n"},{"result":{"nanos":232299,"millis":0.232299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":167199,"millis":0.167199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.519 [print] OGC:WFS \n"},{"result":{"nanos":493396,"millis":0.493396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153799,"millis":0.153799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.519 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":193799,"millis":0.193799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.520 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":486197,"millis":0.486197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3757275,"millis":3.757275,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1213992,"millis":1.213992,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"01572637-b851-4cc3-b06a-56c1ae1115cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":905.805197,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"01572637-b851-4cc3-b06a-56c1ae1115cc","startTime":1632027532618,"refId":"[1.87:67]","endTime":1632027533525,"exampleData":{"datasetIdentifierCode":"01572637-b851-4cc3-b06a-56c1ae1115cc"},"exampleIndex":86},{"sectionIndex":0,"stepResults":[{"result":{"nanos":77499,"millis":0.077499,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:52.786 karate.env system property was: null \n"},{"result":{"nanos":122199,"millis":0.122199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":241199,"millis":0.241199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":157799,"millis":0.157799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":542097,"millis":0.542097,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":129099,"millis":0.129099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":431497,"millis":0.431497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":96499,"millis":0.096499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":173899,"millis":0.173899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58799,"millis":0.058799,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29399,"millis":0.029399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":876915884,"millis":876.915884,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":546096,"millis":0.546096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b5ee6914-04bd-4c7e-a180-242371ae40d9'"}},{"result":{"nanos":444397,"millis":0.444397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417498,"millis":0.417498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":368897,"millis":0.368897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":643296,"millis":0.643296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":459697,"millis":0.459697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":115899,"millis":0.115899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":395497,"millis":0.395497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":404598,"millis":0.404598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":406997,"millis":0.406997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":229198,"millis":0.229198,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":173699,"millis":0.173699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:53.671 [print] https:\/\/inspire.rivm.nl\/atom\/index.xml \n"},{"result":{"nanos":454797,"millis":0.454797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":138699,"millis":0.138699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:53.671 [print] #notpresent \n"},{"result":{"nanos":483197,"millis":0.483197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":175099,"millis":0.175099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:53.672 [print] INSPIRE Atom \n"},{"result":{"nanos":59499,"millis":0.059499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98099,"millis":0.098099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:53.672 [print] #notpresent \n"},{"result":{"nanos":646296,"millis":0.646296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":208199,"millis":0.208199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:53.673 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":294598,"millis":0.294598,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:53.673 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50a2c5e6-c8e7-425d-854e-26f578196bc9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=08b27bf0-e34a-4b30-9eac-5edadfb6a288#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d3c9efd6-fca7-49d6-92bb-5f507abece90#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=36a7e8cb-8300-4602-93d2-135943365a6f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581#MD_DataIdentification\"] \n"},{"result":{"nanos":616595,"millis":0.616595,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":769995,"millis":0.769995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":718896,"millis":0.718896,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b5ee6914-04bd-4c7e-a180-242371ae40d9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":888.446507,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b5ee6914-04bd-4c7e-a180-242371ae40d9","startTime":1632027532786,"refId":"[1.88:67]","endTime":1632027533676,"exampleData":{"datasetIdentifierCode":"b5ee6914-04bd-4c7e-a180-242371ae40d9"},"exampleIndex":87},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74999,"millis":0.074999,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.219 karate.env system property was: null \n"},{"result":{"nanos":63700,"millis":0.0637,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131999,"millis":0.131999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":164199,"millis":0.164199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":339298,"millis":0.339298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":149899,"millis":0.149899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":640395,"millis":0.640395,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":163599,"millis":0.163599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":227399,"millis":0.227399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":67699,"millis":0.067699,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":73200,"millis":0.0732,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":77099,"millis":0.077099,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":54299,"millis":0.054299,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870805125,"millis":870.805125,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":737095,"millis":0.737095,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '74620aa8-4fa2-414d-8350-50d93e500da8'"}},{"result":{"nanos":570097,"millis":0.570097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":390197,"millis":0.390197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":395597,"millis":0.395597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":464297,"millis":0.464297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":436597,"millis":0.436597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":500297,"millis":0.500297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":384997,"millis":0.384997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":355798,"millis":0.355798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108599,"millis":0.108599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":203099,"millis":0.203099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.097 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":430497,"millis":0.430497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":104699,"millis":0.104699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.098 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":356798,"millis":0.356798,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95799,"millis":0.095799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.098 [print] #notpresent \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74699,"millis":0.074699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.099 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":431997,"millis":0.431997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93500,"millis":0.0935,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.099 [print] Beheer PDOK \n"},{"result":{"nanos":84799,"millis":0.084799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.099 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=50eef6be-619d-4e16-9b92-48971109b636\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38\"] \n"},{"result":{"nanos":418697,"millis":0.418697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":697496,"millis":0.697496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":468097,"millis":0.468097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"74620aa8-4fa2-414d-8350-50d93e500da8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.079357,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"74620aa8-4fa2-414d-8350-50d93e500da8","startTime":1632027533218,"refId":"[1.89:67]","endTime":1632027534101,"exampleData":{"datasetIdentifierCode":"74620aa8-4fa2-414d-8350-50d93e500da8"},"exampleIndex":88},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55699,"millis":0.055699,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.274 karate.env system property was: null \n"},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121299,"millis":0.121299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":143399,"millis":0.143399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":266598,"millis":0.266598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119599,"millis":0.119599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412298,"millis":0.412298,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":91299,"millis":0.091299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":187399,"millis":0.187399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49299,"millis":0.049299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":878585473,"millis":878.585473,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":499997,"millis":0.499997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c374d556-7b6e-459b-83c7-74da6ad90a59'"}},{"result":{"nanos":439197,"millis":0.439197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":401997,"millis":0.401997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":416098,"millis":0.416098,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":559697,"millis":0.559697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":500796,"millis":0.500796,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":325898,"millis":0.325898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":329298,"millis":0.329298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":330598,"millis":0.330598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":230399,"millis":0.230399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":253898,"millis":0.253898,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.159 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierwater\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":359798,"millis":0.359798,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":172599,"millis":0.172599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.159 [print] #notpresent \n"},{"result":{"nanos":352897,"millis":0.352897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":218999,"millis":0.218999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.160 [print] OGC:WFS \n"},{"result":{"nanos":58099,"millis":0.058099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137799,"millis":0.137799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.160 [print] #notpresent \n"},{"result":{"nanos":466497,"millis":0.466497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":170099,"millis":0.170099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.161 [print] Beheer PDOK \n"},{"result":{"nanos":117999,"millis":0.117999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.161 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4783ea4f-6b8c-4600-8af0-516f3556cfe9#MD_DataIdentification \n"},{"result":{"nanos":543497,"millis":0.543497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":710595,"millis":0.710595,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":368098,"millis":0.368098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c374d556-7b6e-459b-83c7-74da6ad90a59\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":888.269111,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"c374d556-7b6e-459b-83c7-74da6ad90a59","startTime":1632027533273,"refId":"[1.90:67]","endTime":1632027534163,"exampleData":{"datasetIdentifierCode":"c374d556-7b6e-459b-83c7-74da6ad90a59"},"exampleIndex":89},{"sectionIndex":0,"stepResults":[{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.529 karate.env system property was: null \n"},{"result":{"nanos":81499,"millis":0.081499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":236899,"millis":0.236899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":236898,"millis":0.236898,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":457297,"millis":0.457297,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":142899,"millis":0.142899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":606296,"millis":0.606296,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":136199,"millis":0.136199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":218599,"millis":0.218599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55699,"millis":0.055699,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2f12ef7d-3eb4-46a9-8b45-702a0f054d57'"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34399,"millis":0.034399,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858983402,"millis":858.983402,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":566796,"millis":0.566796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f12ef7d-3eb4-46a9-8b45-702a0f054d57'"}},{"result":{"nanos":482397,"millis":0.482397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":540196,"millis":0.540196,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":477197,"millis":0.477197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":734795,"millis":0.734795,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":467997,"millis":0.467997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":432997,"millis":0.432997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":368797,"millis":0.368797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":340298,"millis":0.340298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81899,"millis":0.081899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":124899,"millis":0.124899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.395 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/sr\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":472397,"millis":0.472397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":67500,"millis":0.0675,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.396 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":371297,"millis":0.371297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.396 [print] #notpresent \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67999,"millis":0.067999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.396 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":445197,"millis":0.445197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.397 [print] Beheer PDOK \n"},{"result":{"nanos":65999,"millis":0.065999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.397 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n"},{"result":{"nanos":428098,"millis":0.428098,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":563997,"millis":0.563997,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2f12ef7d-3eb4-46a9-8b45-702a0f054d57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":323898,"millis":0.323898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2f12ef7d-3eb4-46a9-8b45-702a0f054d57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.044236,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"2f12ef7d-3eb4-46a9-8b45-702a0f054d57","startTime":1632027533528,"refId":"[1.91:67]","endTime":1632027534398,"exampleData":{"datasetIdentifierCode":"2f12ef7d-3eb4-46a9-8b45-702a0f054d57"},"exampleIndex":90},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:53.678 karate.env system property was: null \n"},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49899,"millis":0.049899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":210998,"millis":0.210998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":343998,"millis":0.343998,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114799,"millis":0.114799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14499,"millis":0.014499,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853481337,"millis":853.481337,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":731895,"millis":0.731895,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79'"}},{"result":{"nanos":682895,"millis":0.682895,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":623796,"millis":0.623796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":713296,"millis":0.713296,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":975693,"millis":0.975693,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":787895,"millis":0.787895,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":476697,"millis":0.476697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":470397,"millis":0.470397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":503297,"millis":0.503297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78600,"millis":0.0786,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":130300,"millis":0.1303,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.539 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ro\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":705195,"millis":0.705195,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":135599,"millis":0.135599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.540 [print] #notpresent \n"},{"result":{"nanos":558296,"millis":0.558296,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":143099,"millis":0.143099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:54.540 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":42400,"millis":0.0424,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":100099,"millis":0.100099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:54.541 [print] #notpresent \n"},{"result":{"nanos":736895,"millis":0.736895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:54.541 [print] Beheer PDOK \n"},{"result":{"nanos":55399,"millis":0.055399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:54.542 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8f45b8ef-0ce8-463a-9059-5efdcecb785c#MD_DataIdentification \n"},{"result":{"nanos":716495,"millis":0.716495,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":728496,"millis":0.728496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":438797,"millis":0.438797,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.155561,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79","startTime":1632027533677,"refId":"[1.92:67]","endTime":1632027534543,"exampleData":{"datasetIdentifierCode":"18bcfb8c-b73d-4e9c-8348-7ee6cd49ec79"},"exampleIndex":91},{"sectionIndex":0,"stepResults":[{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.103 karate.env system property was: null \n"},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":218798,"millis":0.218798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369497,"millis":0.369497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87299,"millis":0.087299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":880386762,"millis":880.386762,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1341391,"millis":1.341391,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c5351c8-d8f4-41c2-9642-42a63496a6fe'"}},{"result":{"nanos":1924788,"millis":1.924788,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1487590,"millis":1.48759,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2046186,"millis":2.046186,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1648990,"millis":1.64899,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1448690,"millis":1.44869,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1224092,"millis":1.224092,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1002093,"millis":1.002093,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1041093,"millis":1.041093,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":202899,"millis":0.202899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161999,"millis":0.161999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:54.998 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":975093,"millis":0.975093,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:54.999 [print] #notpresent \n"},{"result":{"nanos":1447291,"millis":1.447291,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":142099,"millis":0.142099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.001 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101999,"millis":0.101999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.001 [print] #notpresent \n"},{"result":{"nanos":1592190,"millis":1.59219,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":93899,"millis":0.093899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.003 [print] Beheer PDOK \n"},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.003 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":1498290,"millis":1.49829,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1788088,"millis":1.788088,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":618096,"millis":0.618096,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c5351c8-d8f4-41c2-9642-42a63496a6fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":903.442612,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"9c5351c8-d8f4-41c2-9642-42a63496a6fe","startTime":1632027534103,"refId":"[1.93:67]","endTime":1632027535007,"exampleData":{"datasetIdentifierCode":"9c5351c8-d8f4-41c2-9642-42a63496a6fe"},"exampleIndex":92},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.165 karate.env system property was: null \n"},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52899,"millis":0.052899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":215898,"millis":0.215898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":352598,"millis":0.352598,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":146299,"millis":0.146299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70499,"millis":0.070499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce963e61-779f-470f-a99d-48d9796e5ba3'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856671216,"millis":856.671216,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":370898,"millis":0.370898,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce963e61-779f-470f-a99d-48d9796e5ba3'"}},{"result":{"nanos":415197,"millis":0.415197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417197,"millis":0.417197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":392898,"millis":0.392898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":418497,"millis":0.418497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":389597,"millis":0.389597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":322198,"millis":0.322198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":445197,"millis":0.445197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":443497,"millis":0.443497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127500,"millis":0.1275,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":88900,"millis":0.0889,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.027 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":393497,"millis":0.393497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":128999,"millis":0.128999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.027 [print] OGC:WMS \n"},{"result":{"nanos":387498,"millis":0.387498,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":127599,"millis":0.127599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.028 [print] #notpresent \n"},{"result":{"nanos":34399,"millis":0.034399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":100700,"millis":0.1007,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.028 [print] OGC:WMS \n"},{"result":{"nanos":427997,"millis":0.427997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":125599,"millis":0.125599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.029 [print] Beheer PDOK \n"},{"result":{"nanos":128999,"millis":0.128999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.029 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":497897,"millis":0.497897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":390097,"millis":0.390097,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":344698,"millis":0.344698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce963e61-779f-470f-a99d-48d9796e5ba3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.719864,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ce963e61-779f-470f-a99d-48d9796e5ba3","startTime":1632027534164,"refId":"[1.94:67]","endTime":1632027535030,"exampleData":{"datasetIdentifierCode":"ce963e61-779f-470f-a99d-48d9796e5ba3"},"exampleIndex":93},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17799,"millis":0.017799,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.401 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53699,"millis":0.053699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":204899,"millis":0.204899,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330397,"millis":0.330397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15399,"millis":0.015399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863339946,"millis":863.339946,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":489696,"millis":0.489696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c0a8e0ee-8639-44d4-be07-d7edf9c276c7'"}},{"result":{"nanos":434897,"millis":0.434897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446696,"millis":0.446696,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":413597,"millis":0.413597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":452297,"millis":0.452297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":481096,"millis":0.481096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":561996,"millis":0.561996,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":418897,"millis":0.418897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":520696,"millis":0.520696,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":170299,"millis":0.170299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.270 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":474897,"millis":0.474897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":103199,"millis":0.103199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.270 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":431597,"millis":0.431597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68799,"millis":0.068799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.271 [print] #notpresent \n"},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":88699,"millis":0.088699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.271 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":497296,"millis":0.497296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":66600,"millis":0.0666,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.272 [print] Beheer PDOK \n"},{"result":{"nanos":117999,"millis":0.117999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.272 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=14657c9b-91e4-4355-8563-2911ad0e78e4#MD_DataIdentification \n"},{"result":{"nanos":633095,"millis":0.633095,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":678895,"millis":0.678895,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":557796,"millis":0.557796,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c0a8e0ee-8639-44d4-be07-d7edf9c276c7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.503778,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7","startTime":1632027534400,"refId":"[1.95:67]","endTime":1632027535274,"exampleData":{"datasetIdentifierCode":"c0a8e0ee-8639-44d4-be07-d7edf9c276c7"},"exampleIndex":94},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:54.546 karate.env system property was: null \n"},{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":101499,"millis":0.101499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55499,"millis":0.055499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":261299,"millis":0.261299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44999,"millis":0.044999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":345198,"millis":0.345198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91099,"millis":0.091099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56399,"millis":0.056399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852325600,"millis":852.3256,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":571895,"millis":0.571895,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a1ed8a00-da07-472e-9627-99175d437c94'"}},{"result":{"nanos":635796,"millis":0.635796,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":573896,"millis":0.573896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":443797,"millis":0.443797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":648295,"millis":0.648295,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":626095,"millis":0.626095,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":388397,"millis":0.388397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":401197,"millis":0.401197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1279690,"millis":1.27969,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":579196,"millis":0.579196,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":672495,"millis":0.672495,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.406 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":477296,"millis":0.477296,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119299,"millis":0.119299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.407 [print] OGC:WMS \n"},{"result":{"nanos":787994,"millis":0.787994,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73000,"millis":0.073,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.408 [print] #notpresent \n"},{"result":{"nanos":34399,"millis":0.034399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":3897571,"millis":3.897571,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.412 [print] OGC:WMS \n"},{"result":{"nanos":574496,"millis":0.574496,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":263698,"millis":0.263698,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.413 [print] Beheer PDOK \n"},{"result":{"nanos":206698,"millis":0.206698,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.413 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":469997,"millis":0.469997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1166091,"millis":1.166091,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":1579888,"millis":1.579888,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a1ed8a00-da07-472e-9627-99175d437c94\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.924168,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a1ed8a00-da07-472e-9627-99175d437c94","startTime":1632027534545,"refId":"[1.96:67]","endTime":1632027535416,"exampleData":{"datasetIdentifierCode":"a1ed8a00-da07-472e-9627-99175d437c94"},"exampleIndex":95},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.009 karate.env system property was: null \n"},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":76100,"millis":0.0761,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":239298,"millis":0.239298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":349698,"millis":0.349698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":123600,"millis":0.1236,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849934409,"millis":849.934409,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":412597,"millis":0.412597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '13e4dff0-1e80-11e2-81c1-0800200c9a66'"}},{"result":{"nanos":338597,"millis":0.338597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":306498,"millis":0.306498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":309198,"millis":0.309198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":402397,"millis":0.402397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":353098,"millis":0.353098,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":403497,"millis":0.403497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":331598,"millis":0.331598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":404997,"millis":0.404997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":117299,"millis":0.117299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":178799,"millis":0.178799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.864 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":491697,"millis":0.491697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":63799,"millis":0.063799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.865 [print] INSPIRE Atom \n"},{"result":{"nanos":387797,"millis":0.387797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":326498,"millis":0.326498,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.866 [print] #notpresent \n"},{"result":{"nanos":148299,"millis":0.148299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":100899,"millis":0.100899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.866 [print] INSPIRE Atom \n"},{"result":{"nanos":761894,"millis":0.761894,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91699,"millis":0.091699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.867 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":102000,"millis":0.102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.867 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":580695,"millis":0.580695,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":851094,"millis":0.851094,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":359397,"millis":0.359397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"13e4dff0-1e80-11e2-81c1-0800200c9a66\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.894448,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"13e4dff0-1e80-11e2-81c1-0800200c9a66","startTime":1632027535009,"refId":"[1.97:67]","endTime":1632027535869,"exampleData":{"datasetIdentifierCode":"13e4dff0-1e80-11e2-81c1-0800200c9a66"},"exampleIndex":96},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.032 karate.env system property was: null \n"},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":98999,"millis":0.098999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":204298,"millis":0.204298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":356798,"millis":0.356798,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35099,"millis":0.035099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97000,"millis":0.097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15399,"millis":0.015399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":869793342,"millis":869.793342,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":595195,"millis":0.595195,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1dadc2c-6de2-415a-a2b7-aaf057ddda43'"}},{"result":{"nanos":622996,"millis":0.622996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":714894,"millis":0.714894,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":839894,"millis":0.839894,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":481296,"millis":0.481296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":504497,"millis":0.504497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1264091,"millis":1.264091,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":407297,"millis":0.407297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":328997,"millis":0.328997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":70699,"millis":0.070699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:55.910 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspireadressen\/v2\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":702794,"millis":0.702794,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":119999,"millis":0.119999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:55.910 [print] OGC:WMS \n"},{"result":{"nanos":843194,"millis":0.843194,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":169099,"millis":0.169099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:55.912 [print] #notpresent \n"},{"result":{"nanos":74199,"millis":0.074199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":250098,"millis":0.250098,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:55.912 [print] OGC:WMS \n"},{"result":{"nanos":582396,"millis":0.582396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72599,"millis":0.072599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:55.913 [print] Beheer PDOK \n"},{"result":{"nanos":185199,"millis":0.185199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:55.913 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification \n"},{"result":{"nanos":715895,"millis":0.715895,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":551696,"millis":0.551696,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":705195,"millis":0.705195,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f1dadc2c-6de2-415a-a2b7-aaf057ddda43\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.745754,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43","startTime":1632027535032,"refId":"[1.98:67]","endTime":1632027535915,"exampleData":{"datasetIdentifierCode":"f1dadc2c-6de2-415a-a2b7-aaf057ddda43"},"exampleIndex":97},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.276 karate.env system property was: null \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109999,"millis":0.109999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":264198,"millis":0.264198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416297,"millis":0.416297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2897978,"millis":2.897978,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":63399,"millis":0.063399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '09588464-071b-47be-8cbe-d15f2e1f9634'"}},{"result":{"nanos":6899,"millis":0.006899,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858063452,"millis":858.063452,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":550596,"millis":0.550596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '09588464-071b-47be-8cbe-d15f2e1f9634'"}},{"result":{"nanos":426397,"millis":0.426397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":349997,"millis":0.349997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":356898,"millis":0.356898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":493596,"millis":0.493596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":394997,"millis":0.394997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":314097,"millis":0.314097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281198,"millis":0.281198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":313198,"millis":0.313198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":112499,"millis":0.112499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":220498,"millis":0.220498,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.142 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-c\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":399397,"millis":0.399397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89800,"millis":0.0898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.143 [print] OGC:WMS \n"},{"result":{"nanos":416797,"millis":0.416797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108199,"millis":0.108199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.143 [print] #notpresent \n"},{"result":{"nanos":108000,"millis":0.108,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68199,"millis":0.068199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.143 [print] OGC:WMS \n"},{"result":{"nanos":488296,"millis":0.488296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97400,"millis":0.0974,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.144 [print] Beheer PDOK \n"},{"result":{"nanos":161298,"millis":0.161298,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.144 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=6c06740d-058f-4a12-bb3f-bf68efd03d09#MD_DataIdentification \n"},{"result":{"nanos":511497,"millis":0.511497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":626396,"millis":0.626396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":324997,"millis":0.324997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"09588464-071b-47be-8cbe-d15f2e1f9634\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.354369,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"09588464-071b-47be-8cbe-d15f2e1f9634","startTime":1632027535275,"refId":"[1.99:67]","endTime":1632027536146,"exampleData":{"datasetIdentifierCode":"09588464-071b-47be-8cbe-d15f2e1f9634"},"exampleIndex":98},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18299,"millis":0.018299,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.418 karate.env system property was: null \n"},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70600,"millis":0.0706,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55199,"millis":0.055199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276498,"millis":0.276498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":403797,"millis":0.403797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":140899,"millis":0.140899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":862245020,"millis":862.24502,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":539196,"millis":0.539196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b8f44b5-6eae-4113-a835-84b8678c3dd5'"}},{"result":{"nanos":520496,"millis":0.520496,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":476896,"millis":0.476896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":405497,"millis":0.405497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":532496,"millis":0.532496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":450297,"millis":0.450297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":346497,"millis":0.346497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":341097,"millis":0.341097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":366898,"millis":0.366898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":4443768,"millis":4.443768,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127799,"millis":0.127799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.291 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":490196,"millis":0.490196,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":410497,"millis":0.410497,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.292 [print] OGC:WMS \n"},{"result":{"nanos":379297,"millis":0.379297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":350397,"millis":0.350397,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.293 [print] #notpresent \n"},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":638895,"millis":0.638895,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.293 [print] OGC:WMS \n"},{"result":{"nanos":522296,"millis":0.522296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97799,"millis":0.097799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.294 [print] Beheer PDOK \n"},{"result":{"nanos":853094,"millis":0.853094,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.295 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":485796,"millis":0.485796,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":723995,"millis":0.723995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":429296,"millis":0.429296,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7b8f44b5-6eae-4113-a835-84b8678c3dd5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.450307,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7b8f44b5-6eae-4113-a835-84b8678c3dd5","startTime":1632027535418,"refId":"[1.100:67]","endTime":1632027536296,"exampleData":{"datasetIdentifierCode":"7b8f44b5-6eae-4113-a835-84b8678c3dd5"},"exampleIndex":99},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.871 karate.env system property was: null \n"},{"result":{"nanos":31399,"millis":0.031399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":78699,"millis":0.078699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221499,"millis":0.221499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":71399,"millis":0.071399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":384297,"millis":0.384297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":41100,"millis":0.0411,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":78099,"millis":0.078099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52699,"millis":0.052699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":836240513,"millis":836.240513,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":506497,"millis":0.506497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '101a2cc7-bb53-4a16-98f9-bab1f4745b01'"}},{"result":{"nanos":563595,"millis":0.563595,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":596596,"millis":0.596596,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":436296,"millis":0.436296,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":623296,"millis":0.623296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":451996,"millis":0.451996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":322298,"millis":0.322298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":303897,"millis":0.303897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":317098,"millis":0.317098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59299,"millis":0.059299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":287898,"millis":0.287898,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.713 [print] https:\\\/\\\/service.pdok.nl\\\/rce\\\/ps-ch\\\/wfs\\\/v1_0?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":385397,"millis":0.385397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159699,"millis":0.159699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.714 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":456697,"millis":0.456697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":347898,"millis":0.347898,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.715 [print] #notpresent \n"},{"result":{"nanos":45999,"millis":0.045999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":110699,"millis":0.110699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.715 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":539296,"millis":0.539296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140399,"millis":0.140399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.716 [print] Beheer PDOK \n"},{"result":{"nanos":117599,"millis":0.117599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.716 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":465497,"millis":0.465497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":643095,"millis":0.643095,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385597,"millis":0.385597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"101a2cc7-bb53-4a16-98f9-bab1f4745b01\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":845.619442,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"101a2cc7-bb53-4a16-98f9-bab1f4745b01","startTime":1632027535871,"refId":"[1.101:67]","endTime":1632027536717,"exampleData":{"datasetIdentifierCode":"101a2cc7-bb53-4a16-98f9-bab1f4745b01"},"exampleIndex":100},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:55.917 karate.env system property was: null \n"},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75099,"millis":0.075099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82800,"millis":0.0828,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":268398,"millis":0.268398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":82700,"millis":0.0827,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":500596,"millis":0.500596,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":67599,"millis":0.067599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61800,"millis":0.0618,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":910489963,"millis":910.489963,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1626988,"millis":1.626988,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c4862c3-0bab-49c3-bc2f-ac5486826766'"}},{"result":{"nanos":2288683,"millis":2.288683,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2908678,"millis":2.908678,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2865279,"millis":2.865279,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2935778,"millis":2.935778,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2569281,"millis":2.569281,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1845486,"millis":1.845486,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1773187,"millis":1.773187,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1704587,"millis":1.704587,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":326198,"millis":0.326198,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":205098,"millis":0.205098,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:56.851 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":1920586,"millis":1.920586,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":146799,"millis":0.146799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:56.853 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2009886,"millis":2.009886,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83999,"millis":0.083999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:56.855 [print] #notpresent \n"},{"result":{"nanos":48799,"millis":0.048799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":110700,"millis":0.1107,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:56.855 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":4025371,"millis":4.025371,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120899,"millis":0.120899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:56.859 [print] Beheer PDOK \n"},{"result":{"nanos":68899,"millis":0.068899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:56.859 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":3139577,"millis":3.139577,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":799394,"millis":0.799394,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364497,"millis":0.364497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c4862c3-0bab-49c3-bc2f-ac5486826766\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":945.726204,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9c4862c3-0bab-49c3-bc2f-ac5486826766","startTime":1632027535917,"refId":"[1.102:67]","endTime":1632027536864,"exampleData":{"datasetIdentifierCode":"9c4862c3-0bab-49c3-bc2f-ac5486826766"},"exampleIndex":101},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.147 karate.env system property was: null \n"},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63899,"millis":0.063899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228298,"millis":0.228298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44900,"millis":0.0449,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":1734287,"millis":1.734287,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":61999,"millis":0.061999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91100,"millis":0.0911,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16599,"millis":0.016599,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59600,"millis":0.0596,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844256953,"millis":844.256953,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":537696,"millis":0.537696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'eec0708d-bab6-41c2-aa5b-9c435a1a177e'"}},{"result":{"nanos":627395,"millis":0.627395,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":444797,"millis":0.444797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":429097,"millis":0.429097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":709194,"millis":0.709194,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":831094,"millis":0.831094,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":561495,"millis":0.561495,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":451997,"millis":0.451997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":483596,"millis":0.483596,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":144299,"millis":0.144299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":981793,"millis":0.981793,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.001 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":424697,"millis":0.424697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":383397,"millis":0.383397,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.002 [print] #notpresent \n"},{"result":{"nanos":405597,"millis":0.405597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90500,"millis":0.0905,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.002 [print] #notpresent \n"},{"result":{"nanos":285798,"millis":0.285798,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92599,"millis":0.092599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.003 [print] #notpresent \n"},{"result":{"nanos":458897,"millis":0.458897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":140899,"millis":0.140899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.004 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":92899,"millis":0.092899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.004 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1259391,"millis":1.259391,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":862193,"millis":0.862193,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":479997,"millis":0.479997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"eec0708d-bab6-41c2-aa5b-9c435a1a177e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.000152,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"eec0708d-bab6-41c2-aa5b-9c435a1a177e","startTime":1632027536147,"refId":"[1.103:67]","endTime":1632027537007,"exampleData":{"datasetIdentifierCode":"eec0708d-bab6-41c2-aa5b-9c435a1a177e"},"exampleIndex":102},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.299 karate.env system property was: null \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":85299,"millis":0.085299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":98099,"millis":0.098099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":249898,"millis":0.249898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":82800,"millis":0.0828,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":688995,"millis":0.688995,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":841994,"millis":0.841994,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59599,"millis":0.059599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847436730,"millis":847.43673,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":739894,"millis":0.739894,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5b40b9b4-fcb2-4553-bcab-34824c43c992'"}},{"result":{"nanos":473197,"millis":0.473197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":435696,"millis":0.435696,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":462797,"millis":0.462797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":701195,"millis":0.701195,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":555695,"millis":0.555695,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":330197,"millis":0.330197,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":547296,"millis":0.547296,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":496297,"millis":0.496297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":145699,"millis":0.145699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":249898,"millis":0.249898,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.154 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ad\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":438397,"millis":0.438397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":125599,"millis":0.125599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.155 [print] OGC:WMS \n"},{"result":{"nanos":535496,"millis":0.535496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82499,"millis":0.082499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.156 [print] #notpresent \n"},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":70099,"millis":0.070099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.156 [print] OGC:WMS \n"},{"result":{"nanos":731095,"millis":0.731095,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120499,"millis":0.120499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.157 [print] Beheer PDOK \n"},{"result":{"nanos":72099,"millis":0.072099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.157 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":586296,"millis":0.586296,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":724294,"millis":0.724294,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":407697,"millis":0.407697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5b40b9b4-fcb2-4553-bcab-34824c43c992\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.835145,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"5b40b9b4-fcb2-4553-bcab-34824c43c992","startTime":1632027536298,"refId":"[1.104:67]","endTime":1632027537158,"exampleData":{"datasetIdentifierCode":"5b40b9b4-fcb2-4553-bcab-34824c43c992"},"exampleIndex":103},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.719 karate.env system property was: null \n"},{"result":{"nanos":35199,"millis":0.035199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53699,"millis":0.053699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":461597,"millis":0.461597,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":496497,"millis":0.496497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42599,"millis":0.042599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":278098,"millis":0.278098,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55999,"millis":0.055999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856239965,"millis":856.239965,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":432096,"millis":0.432096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d'"}},{"result":{"nanos":355098,"millis":0.355098,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":306697,"millis":0.306697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":300198,"millis":0.300198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":403097,"millis":0.403097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":334797,"millis":0.334797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":365397,"millis":0.365397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":263998,"millis":0.263998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":328998,"millis":0.328998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68499,"millis":0.068499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":757595,"millis":0.757595,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.582 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":321198,"millis":0.321198,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.582 [print] OGC:WMS \n"},{"result":{"nanos":499797,"millis":0.499797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62999,"millis":0.062999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.583 [print] #notpresent \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":395897,"millis":0.395897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.583 [print] OGC:WMS \n"},{"result":{"nanos":349197,"millis":0.349197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.583 [print] Beheer PDOK \n"},{"result":{"nanos":35599,"millis":0.035599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.583 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":949793,"millis":0.949793,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":894294,"millis":0.894294,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":342097,"millis":0.342097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.848094,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d","startTime":1632027536719,"refId":"[1.105:67]","endTime":1632027537586,"exampleData":{"datasetIdentifierCode":"3c47e1a8-a6a2-45e4-bfec-0f334c9fbc9d"},"exampleIndex":104},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:56.866 karate.env system property was: null \n"},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60499,"millis":0.060499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311798,"millis":0.311798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":49599,"millis":0.049599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":407497,"millis":0.407497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87499,"millis":0.087499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":79899,"millis":0.079899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":836260012,"millis":836.260012,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":495596,"millis":0.495596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'KKHRN250-DXU9-167I-W6SO-8566T16B30VE'"}},{"result":{"nanos":338298,"millis":0.338298,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":343398,"millis":0.343398,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":325297,"millis":0.325297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":375298,"millis":0.375298,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":400597,"millis":0.400597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":385597,"millis":0.385597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":540196,"millis":0.540196,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":488696,"millis":0.488696,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":111899,"millis":0.111899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":255998,"millis":0.255998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.708 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_geotop_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":449997,"millis":0.449997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85399,"millis":0.085399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.709 [print] #notpresent \n"},{"result":{"nanos":430897,"millis":0.430897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77199,"millis":0.077199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.709 [print] OGC:WMS \n"},{"result":{"nanos":131499,"millis":0.131499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.709 [print] #notpresent \n"},{"result":{"nanos":659695,"millis":0.659695,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":86199,"millis":0.086199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.710 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.710 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=7D35598D-DFBF-C64D-0F1A-92A80A45EB14&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":606196,"millis":0.606196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":662095,"millis":0.662095,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":460597,"millis":0.460597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"KKHRN250-DXU9-167I-W6SO-8566T16B30VE\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":845.361246,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE","startTime":1632027536865,"refId":"[1.106:67]","endTime":1632027537712,"exampleData":{"datasetIdentifierCode":"KKHRN250-DXU9-167I-W6SO-8566T16B30VE"},"exampleIndex":105},{"sectionIndex":0,"stepResults":[{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.010 karate.env system property was: null \n"},{"result":{"nanos":69499,"millis":0.069499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52000,"millis":0.052,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":271698,"millis":0.271698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":81899,"millis":0.081899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":403397,"millis":0.403397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":78999,"millis":0.078999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51999,"millis":0.051999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859601340,"millis":859.60134,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":445696,"millis":0.445696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2fdecfc-de33-4ce3-b935-4c9ac18c5a36'"}},{"result":{"nanos":353398,"millis":0.353398,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":306097,"millis":0.306097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":301998,"millis":0.301998,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":437997,"millis":0.437997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":341197,"millis":0.341197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":314597,"millis":0.314597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":285298,"millis":0.285298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":290698,"millis":0.290698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62099,"millis":0.062099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":608496,"millis":0.608496,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:57.875 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":680995,"millis":0.680995,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":121699,"millis":0.121699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:57.876 [print] OGC:WMS \n"},{"result":{"nanos":288598,"millis":0.288598,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58599,"millis":0.058599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:57.876 [print] #notpresent \n"},{"result":{"nanos":300998,"millis":0.300998,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":310698,"millis":0.310698,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:57.877 [print] OGC:WMS \n"},{"result":{"nanos":341697,"millis":0.341697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80199,"millis":0.080199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:57.878 [print] Beheer PDOK \n"},{"result":{"nanos":743595,"millis":0.743595,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:57.878 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":464196,"millis":0.464196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":603996,"millis":0.603996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":356697,"millis":0.356697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.938569,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36","startTime":1632027537009,"refId":"[1.107:67]","endTime":1632027537880,"exampleData":{"datasetIdentifierCode":"a2fdecfc-de33-4ce3-b935-4c9ac18c5a36"},"exampleIndex":106},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.161 karate.env system property was: null \n"},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70599,"millis":0.070599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54499,"millis":0.054499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":1871387,"millis":1.871387,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":76700,"millis":0.0767,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":570296,"millis":0.570296,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":135699,"millis":0.135699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":99799,"millis":0.099799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":883528763,"millis":883.528763,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3300,"millis":0.0033,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":523796,"millis":0.523796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f1e26638-3b45-4dd5-9ad0-f7d3654700f1'"}},{"result":{"nanos":392497,"millis":0.392497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":382897,"millis":0.382897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":400197,"millis":0.400197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":465996,"millis":0.465996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":604496,"millis":0.604496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":229599,"millis":0.229599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":345098,"millis":0.345098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":280198,"millis":0.280198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":378597,"millis":0.378597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105199,"millis":0.105199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":148099,"millis":0.148099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.052 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten500mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":300598,"millis":0.300598,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88700,"millis":0.0887,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.053 [print] OGC:WFS \n"},{"result":{"nanos":361697,"millis":0.361697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95999,"millis":0.095999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.053 [print] #notpresent \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76299,"millis":0.076299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.053 [print] OGC:WFS \n"},{"result":{"nanos":432297,"millis":0.432297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":66099,"millis":0.066099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.054 [print] Beheer PDOK \n"},{"result":{"nanos":123299,"millis":0.123299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.054 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":444497,"millis":0.444497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":738194,"millis":0.738194,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374198,"millis":0.374198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f1e26638-3b45-4dd5-9ad0-f7d3654700f1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.982088,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1","startTime":1632027537160,"refId":"[1.108:67]","endTime":1632027538056,"exampleData":{"datasetIdentifierCode":"f1e26638-3b45-4dd5-9ad0-f7d3654700f1"},"exampleIndex":107},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18600,"millis":0.0186,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.588 karate.env system property was: null \n"},{"result":{"nanos":33199,"millis":0.033199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53399,"millis":0.053399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":225999,"millis":0.225999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45599,"millis":0.045599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402397,"millis":0.402397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75799,"millis":0.075799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":299197,"millis":0.299197,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":7800,"millis":0.0078,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":831378749,"millis":831.378749,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":637396,"millis":0.637396,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b196f948-5d87-4eb4-9854-a93841c3877f'"}},{"result":{"nanos":412997,"millis":0.412997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":387697,"millis":0.387697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":387098,"millis":0.387098,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":889294,"millis":0.889294,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":651695,"millis":0.651695,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":105099,"millis":0.105099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":405397,"millis":0.405397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":411097,"millis":0.411097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":453296,"millis":0.453296,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":143499,"millis":0.143499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":205099,"millis":0.205099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.427 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rvo\\\/invasieve-exoten\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":460397,"millis":0.460397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":186199,"millis":0.186199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.428 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":432396,"millis":0.432396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":176699,"millis":0.176699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.428 [print] #notpresent \n"},{"result":{"nanos":91699,"millis":0.091699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":146899,"millis":0.146899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.429 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":513796,"millis":0.513796,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":177699,"millis":0.177699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.429 [print] Beheer PDOK \n"},{"result":{"nanos":173999,"millis":0.173999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.430 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":448697,"millis":0.448697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":491696,"millis":0.491696,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374198,"millis":0.374198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b196f948-5d87-4eb4-9854-a93841c3877f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":841.527676,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b196f948-5d87-4eb4-9854-a93841c3877f","startTime":1632027537588,"refId":"[1.109:67]","endTime":1632027538431,"exampleData":{"datasetIdentifierCode":"b196f948-5d87-4eb4-9854-a93841c3877f"},"exampleIndex":108},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.714 karate.env system property was: null \n"},{"result":{"nanos":32099,"millis":0.032099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68199,"millis":0.068199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":235798,"millis":0.235798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":130099,"millis":0.130099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412897,"millis":0.412897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":102699,"millis":0.102699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29399,"millis":0.029399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":108499,"millis":0.108499,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873669736,"millis":873.669736,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":617095,"millis":0.617095,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68505be5-45c4-4889-a82a-125043bbdc44'"}},{"result":{"nanos":361097,"millis":0.361097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":326498,"millis":0.326498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":329497,"millis":0.329497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":501597,"millis":0.501597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":465397,"millis":0.465397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98899,"millis":0.098899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":338798,"millis":0.338798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":353098,"millis":0.353098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":350697,"millis":0.350697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":126899,"millis":0.126899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":271898,"millis":0.271898,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.594 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgebor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":387097,"millis":0.387097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":163299,"millis":0.163299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.594 [print] #notpresent \n"},{"result":{"nanos":397397,"millis":0.397397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":163799,"millis":0.163799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.595 [print] OGC:WFS \n"},{"result":{"nanos":198998,"millis":0.198998,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":177299,"millis":0.177299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.595 [print] #notpresent \n"},{"result":{"nanos":427896,"millis":0.427896,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":452297,"millis":0.452297,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.596 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":346897,"millis":0.346897,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.597 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6c1cf452-8c62-4046-99ab-640a5e184f9c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":504197,"millis":0.504197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1064192,"millis":1.064192,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":424397,"millis":0.424397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68505be5-45c4-4889-a82a-125043bbdc44\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":883.88306,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"68505be5-45c4-4889-a82a-125043bbdc44","startTime":1632027537714,"refId":"[1.110:67]","endTime":1632027538599,"exampleData":{"datasetIdentifierCode":"68505be5-45c4-4889-a82a-125043bbdc44"},"exampleIndex":109},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:57.882 karate.env system property was: null \n"},{"result":{"nanos":31199,"millis":0.031199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51299,"millis":0.051299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":207099,"millis":0.207099,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40799,"millis":0.040799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336198,"millis":0.336198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34699,"millis":0.034699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":296397,"millis":0.296397,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873842035,"millis":873.842035,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":953592,"millis":0.953592,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5be14ec9-9bb3-4395-a061-e7e78d04a527'"}},{"result":{"nanos":457297,"millis":0.457297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":505996,"millis":0.505996,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":550196,"millis":0.550196,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":795894,"millis":0.795894,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":622995,"millis":0.622995,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":120299,"millis":0.120299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":551296,"millis":0.551296,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":466396,"millis":0.466396,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":409197,"millis":0.409197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":202399,"millis":0.202399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":220598,"millis":0.220598,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.763 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/bu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":466997,"millis":0.466997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":181898,"millis":0.181898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.764 [print] OGC:WMS \n"},{"result":{"nanos":454297,"millis":0.454297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":162299,"millis":0.162299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.765 [print] #notpresent \n"},{"result":{"nanos":89999,"millis":0.089999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":145799,"millis":0.145799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.765 [print] OGC:WMS \n"},{"result":{"nanos":518296,"millis":0.518296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":186399,"millis":0.186399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.766 [print] Beheer PDOK \n"},{"result":{"nanos":138499,"millis":0.138499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.766 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":458497,"millis":0.458497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":486996,"millis":0.486996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":375297,"millis":0.375297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5be14ec9-9bb3-4395-a061-e7e78d04a527\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.536953,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5be14ec9-9bb3-4395-a061-e7e78d04a527","startTime":1632027537881,"refId":"[1.111:67]","endTime":1632027538767,"exampleData":{"datasetIdentifierCode":"5be14ec9-9bb3-4395-a061-e7e78d04a527"},"exampleIndex":110},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.058 karate.env system property was: null \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":75200,"millis":0.0752,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208298,"millis":0.208298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419497,"millis":0.419497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38999,"millis":0.038999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":84700,"millis":0.0847,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16599,"millis":0.016599,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5199,"millis":0.005199,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871520252,"millis":871.520252,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":524796,"millis":0.524796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0d2ca03b-fb7b-466a-bb93-e2bfb596e394'"}},{"result":{"nanos":347297,"millis":0.347297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":304798,"millis":0.304798,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":324598,"millis":0.324598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":500496,"millis":0.500496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":403597,"millis":0.403597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":81999,"millis":0.081999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":328198,"millis":0.328198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":327397,"millis":0.327397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":332698,"millis":0.332698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":124799,"millis":0.124799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":398497,"millis":0.398497,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:58.935 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":427096,"millis":0.427096,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":195499,"millis":0.195499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:58.935 [print] OGC:WFS \n"},{"result":{"nanos":401097,"millis":0.401097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":211698,"millis":0.211698,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:58.936 [print] #notpresent \n"},{"result":{"nanos":106199,"millis":0.106199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":133299,"millis":0.133299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:58.936 [print] OGC:WFS \n"},{"result":{"nanos":383297,"millis":0.383297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":182099,"millis":0.182099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:58.937 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":127599,"millis":0.127599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:58.937 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":398297,"millis":0.398297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":469296,"millis":0.469296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":340498,"millis":0.340498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0d2ca03b-fb7b-466a-bb93-e2bfb596e394\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.973088,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394","startTime":1632027538057,"refId":"[1.112:67]","endTime":1632027538938,"exampleData":{"datasetIdentifierCode":"0d2ca03b-fb7b-466a-bb93-e2bfb596e394"},"exampleIndex":111},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.433 karate.env system property was: null \n"},{"result":{"nanos":73799,"millis":0.073799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":143899,"millis":0.143899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":167699,"millis":0.167699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":468996,"millis":0.468996,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":218998,"millis":0.218998,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":474697,"millis":0.474697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":110299,"millis":0.110299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":166999,"millis":0.166999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49299,"millis":0.049299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32799,"millis":0.032799,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844882049,"millis":844.882049,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":402197,"millis":0.402197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91041d33-54f8-40f1-8965-a867ba00cab8'"}},{"result":{"nanos":329597,"millis":0.329597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":365098,"millis":0.365098,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":357797,"millis":0.357797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1558988,"millis":1.558988,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":517396,"millis":0.517396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":432397,"millis":0.432397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":402197,"millis":0.402197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":355697,"millis":0.355697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83999,"millis":0.083999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":579896,"millis":0.579896,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.286 [print] https:\/\/inspire.caris.nl\/geoserver2\/gn\/wfs?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":776294,"millis":0.776294,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87799,"millis":0.087799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.287 [print] OGC:WFS \n"},{"result":{"nanos":384597,"millis":0.384597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":132699,"millis":0.132699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.288 [print] #notpresent \n"},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":102499,"millis":0.102499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.288 [print] OGC:WFS \n"},{"result":{"nanos":493696,"millis":0.493696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64700,"millis":0.0647,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.289 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":74799,"millis":0.074799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.289 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=34e95842-4e4e-46de-9198-79e8cd4d30dc#MD_DataIdentification \n"},{"result":{"nanos":403397,"millis":0.403397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":897493,"millis":0.897493,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":424697,"millis":0.424697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"91041d33-54f8-40f1-8965-a867ba00cab8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.323062,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"91041d33-54f8-40f1-8965-a867ba00cab8","startTime":1632027538433,"refId":"[1.113:67]","endTime":1632027539290,"exampleData":{"datasetIdentifierCode":"91041d33-54f8-40f1-8965-a867ba00cab8"},"exampleIndex":112},{"sectionIndex":0,"stepResults":[{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.603 karate.env system property was: null \n"},{"result":{"nanos":42199,"millis":0.042199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":161599,"millis":0.161599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":122899,"millis":0.122899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":295398,"millis":0.295398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":158199,"millis":0.158199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":470397,"millis":0.470397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109299,"millis":0.109299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":189399,"millis":0.189399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48399,"millis":0.048399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27999,"millis":0.027999,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847061832,"millis":847.061832,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":416697,"millis":0.416697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bd14098b-44e6-47e5-959d-f40dda65da5a'"}},{"result":{"nanos":380097,"millis":0.380097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":363397,"millis":0.363397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391797,"millis":0.391797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":601496,"millis":0.601496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":383197,"millis":0.383197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":297697,"millis":0.297697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":312298,"millis":0.312298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":295598,"millis":0.295598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82799,"millis":0.082799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":133599,"millis":0.133599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.456 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":343497,"millis":0.343497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85700,"millis":0.0857,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.457 [print] OGC:WMS \n"},{"result":{"nanos":469096,"millis":0.469096,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103799,"millis":0.103799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.457 [print] #notpresent \n"},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74199,"millis":0.074199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.458 [print] OGC:WMS \n"},{"result":{"nanos":482597,"millis":0.482597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79999,"millis":0.079999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.458 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.458 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d9baa847-4652-4588-abe1-0b050f40f27f#MD_DataIdentification \n"},{"result":{"nanos":440396,"millis":0.440396,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":602596,"millis":0.602596,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":3036977,"millis":3.036977,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bd14098b-44e6-47e5-959d-f40dda65da5a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.410847,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"bd14098b-44e6-47e5-959d-f40dda65da5a","startTime":1632027538603,"refId":"[1.114:67]","endTime":1632027539462,"exampleData":{"datasetIdentifierCode":"bd14098b-44e6-47e5-959d-f40dda65da5a"},"exampleIndex":113},{"sectionIndex":0,"stepResults":[{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.770 karate.env system property was: null \n"},{"result":{"nanos":44000,"millis":0.044,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131299,"millis":0.131299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":146299,"millis":0.146299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":356397,"millis":0.356397,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":131999,"millis":0.131999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":456897,"millis":0.456897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":90399,"millis":0.090399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":162499,"millis":0.162499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48399,"millis":0.048399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":48899,"millis":0.048899,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":37300,"millis":0.0373,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":29499,"millis":0.029499,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863083214,"millis":863.083214,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":496896,"millis":0.496896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e75b66ae-21b1-4303-aeb3-787608707b23'"}},{"result":{"nanos":517996,"millis":0.517996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":460497,"millis":0.460497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":386397,"millis":0.386397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":480496,"millis":0.480496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":436197,"millis":0.436197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":332397,"millis":0.332397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":306898,"millis":0.306898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":312198,"millis":0.312198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64499,"millis":0.064499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":93199,"millis":0.093199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.639 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wfs?request=GetCapabilitiesservice=wfs \n"},{"result":{"nanos":929293,"millis":0.929293,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85000,"millis":0.085,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.640 [print] OGC:WFS \n"},{"result":{"nanos":420097,"millis":0.420097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101799,"millis":0.101799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.641 [print] #notpresent \n"},{"result":{"nanos":107699,"millis":0.107699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":169199,"millis":0.169199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.641 [print] OGC:WFS \n"},{"result":{"nanos":477797,"millis":0.477797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":119800,"millis":0.1198,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.642 [print] Beheer PDOK \n"},{"result":{"nanos":288497,"millis":0.288497,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.642 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":455897,"millis":0.455897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":596395,"millis":0.596395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":355498,"millis":0.355498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e75b66ae-21b1-4303-aeb3-787608707b23\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.948141,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e75b66ae-21b1-4303-aeb3-787608707b23","startTime":1632027538769,"refId":"[1.115:67]","endTime":1632027539643,"exampleData":{"datasetIdentifierCode":"e75b66ae-21b1-4303-aeb3-787608707b23"},"exampleIndex":114},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:58.941 karate.env system property was: null \n"},{"result":{"nanos":41099,"millis":0.041099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":131799,"millis":0.131799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":125999,"millis":0.125999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":293398,"millis":0.293398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":119099,"millis":0.119099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":397597,"millis":0.397597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":84299,"millis":0.084299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":143399,"millis":0.143399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38799,"millis":0.038799,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":30999,"millis":0.030999,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":861973623,"millis":861.973623,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":643696,"millis":0.643696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cea38797-ea4b-4969-b979-8d25eb543a6c'"}},{"result":{"nanos":501797,"millis":0.501797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":404997,"millis":0.404997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":572795,"millis":0.572795,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":622596,"millis":0.622596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":786294,"millis":0.786294,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":72799,"millis":0.072799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":403597,"millis":0.403597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":372297,"millis":0.372297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335498,"millis":0.335498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":733394,"millis":0.733394,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:58:59.810 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/elu\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":374298,"millis":0.374298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":108700,"millis":0.1087,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:58:59.811 [print] OGC:WMS \n"},{"result":{"nanos":826493,"millis":0.826493,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103700,"millis":0.1037,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:58:59.812 [print] #notpresent \n"},{"result":{"nanos":30199,"millis":0.030199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58799,"millis":0.058799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:58:59.812 [print] OGC:WMS \n"},{"result":{"nanos":759595,"millis":0.759595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":84600,"millis":0.0846,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:58:59.813 [print] Beheer PDOK \n"},{"result":{"nanos":621995,"millis":0.621995,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:58:59.814 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=6318009c-7b11-4ab9-9929-735584dfb692#MD_DataIdentification \n"},{"result":{"nanos":488196,"millis":0.488196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":664395,"millis":0.664395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":514097,"millis":0.514097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cea38797-ea4b-4969-b979-8d25eb543a6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.764837,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"cea38797-ea4b-4969-b979-8d25eb543a6c","startTime":1632027538940,"refId":"[1.116:67]","endTime":1632027539815,"exampleData":{"datasetIdentifierCode":"cea38797-ea4b-4969-b979-8d25eb543a6c"},"exampleIndex":115},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.292 karate.env system property was: null \n"},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":61299,"millis":0.061299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250498,"millis":0.250498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":446496,"millis":0.446496,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72499,"millis":0.072499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49499,"millis":0.049499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":868936971,"millis":868.936971,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":589595,"millis":0.589595,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6b608d4e-5628-4d59-97fc-0322c57357b2'"}},{"result":{"nanos":475497,"millis":0.475497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":384497,"millis":0.384497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":3285075,"millis":3.285075,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":587196,"millis":0.587196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":426397,"millis":0.426397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27899,"millis":0.027899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":322498,"millis":0.322498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":307898,"millis":0.307898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309098,"millis":0.309098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":221498,"millis":0.221498,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":269998,"millis":0.269998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.170 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":351298,"millis":0.351298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":161098,"millis":0.161098,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.171 [print] OGC:WFS \n"},{"result":{"nanos":391097,"millis":0.391097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":154599,"millis":0.154599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.171 [print] #notpresent \n"},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":153099,"millis":0.153099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.172 [print] OGC:WFS \n"},{"result":{"nanos":699895,"millis":0.699895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.172 [print] Beheer PDOK \n"},{"result":{"nanos":176798,"millis":0.176798,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.173 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":458797,"millis":0.458797,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":695494,"millis":0.695494,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":320698,"millis":0.320698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6b608d4e-5628-4d59-97fc-0322c57357b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.997281,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6b608d4e-5628-4d59-97fc-0322c57357b2","startTime":1632027539292,"refId":"[1.117:67]","endTime":1632027540174,"exampleData":{"datasetIdentifierCode":"6b608d4e-5628-4d59-97fc-0322c57357b2"},"exampleIndex":116},{"sectionIndex":0,"stepResults":[{"result":{"nanos":984493,"millis":0.984493,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.464 karate.env system property was: null \n"},{"result":{"nanos":95499,"millis":0.095499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56299,"millis":0.056299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":295898,"millis":0.295898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":109499,"millis":0.109499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":435397,"millis":0.435397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36399,"millis":0.036399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":400097,"millis":0.400097,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d759186-7cee-4218-aa44-165f3922fbbb'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844999748,"millis":844.999748,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":531696,"millis":0.531696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d759186-7cee-4218-aa44-165f3922fbbb'"}},{"result":{"nanos":595496,"millis":0.595496,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":389097,"millis":0.389097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":424497,"millis":0.424497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":431596,"millis":0.431596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":392297,"millis":0.392297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":292898,"millis":0.292898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":291998,"millis":0.291998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":327797,"millis":0.327797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129399,"millis":0.129399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":161699,"millis":0.161699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.317 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/tn-w\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":378497,"millis":0.378497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":81999,"millis":0.081999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.318 [print] OGC:WMS \n"},{"result":{"nanos":311198,"millis":0.311198,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":82899,"millis":0.082899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.318 [print] #notpresent \n"},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65199,"millis":0.065199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.318 [print] OGC:WMS \n"},{"result":{"nanos":419197,"millis":0.419197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78200,"millis":0.0782,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.319 [print] Beheer PDOK \n"},{"result":{"nanos":86899,"millis":0.086899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.319 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=5951efa2-1ff3-4763-a966-a2f5497679ee#MD_DataIdentification \n"},{"result":{"nanos":423597,"millis":0.423597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":571995,"millis":0.571995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347998,"millis":0.347998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d759186-7cee-4218-aa44-165f3922fbbb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.535977,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"3d759186-7cee-4218-aa44-165f3922fbbb","startTime":1632027539464,"refId":"[1.118:67]","endTime":1632027540320,"exampleData":{"datasetIdentifierCode":"3d759186-7cee-4218-aa44-165f3922fbbb"},"exampleIndex":117},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.645 karate.env system property was: null \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51199,"millis":0.051199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208798,"millis":0.208798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":196599,"millis":0.196599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":546496,"millis":0.546496,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54599,"millis":0.054599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4699,"millis":0.004699,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870671959,"millis":870.671959,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":477197,"millis":0.477197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c474b492-da63-4a33-9bdd-b3709ce2cd6c'"}},{"result":{"nanos":472696,"millis":0.472696,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":395497,"millis":0.395497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":393897,"millis":0.393897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":484596,"millis":0.484596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":547996,"millis":0.547996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":372097,"millis":0.372097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":318298,"millis":0.318298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":314197,"millis":0.314197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82100,"millis":0.0821,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":302297,"millis":0.302297,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.522 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wms?request=GetCapabilities \n"},{"result":{"nanos":561396,"millis":0.561396,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89499,"millis":0.089499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.523 [print] #notpresent \n"},{"result":{"nanos":363397,"millis":0.363397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":83099,"millis":0.083099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.523 [print] OGC:WMS \n"},{"result":{"nanos":106799,"millis":0.106799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":69500,"millis":0.0695,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.524 [print] #notpresent \n"},{"result":{"nanos":547696,"millis":0.547696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87399,"millis":0.087399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.524 [print] Beheer PDOK \n"},{"result":{"nanos":136899,"millis":0.136899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.524 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":486996,"millis":0.486996,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":643595,"millis":0.643595,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":451297,"millis":0.451297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c474b492-da63-4a33-9bdd-b3709ce2cd6c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.834089,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c474b492-da63-4a33-9bdd-b3709ce2cd6c","startTime":1632027539645,"refId":"[1.119:67]","endTime":1632027540526,"exampleData":{"datasetIdentifierCode":"c474b492-da63-4a33-9bdd-b3709ce2cd6c"},"exampleIndex":118},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:58:59.818 karate.env system property was: null \n"},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138899,"millis":0.138899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278598,"millis":0.278598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42799,"millis":0.042799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":401097,"millis":0.401097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":246098,"millis":0.246098,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16999,"millis":0.016999,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853906782,"millis":853.906782,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":423296,"millis":0.423296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fa3ecd49-4571-4eb3-84f3-2865f42934b2'"}},{"result":{"nanos":363798,"millis":0.363798,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":500996,"millis":0.500996,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":441397,"millis":0.441397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":405497,"millis":0.405497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":422297,"millis":0.422297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":286598,"millis":0.286598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281598,"millis":0.281598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":313898,"millis":0.313898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":153998,"millis":0.153998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:00.677 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/olie_en_gasvelden?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":286998,"millis":0.286998,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":399397,"millis":0.399397,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:00.678 [print] #notpresent \n"},{"result":{"nanos":554796,"millis":0.554796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112599,"millis":0.112599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:00.679 [print] OGC:WFS \n"},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":92899,"millis":0.092899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:00.679 [print] #notpresent \n"},{"result":{"nanos":395397,"millis":0.395397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61599,"millis":0.061599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:00.679 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":96399,"millis":0.096399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:00.679 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":419897,"millis":0.419897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619696,"millis":0.619696,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":360697,"millis":0.360697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fa3ecd49-4571-4eb3-84f3-2865f42934b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.438319,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"fa3ecd49-4571-4eb3-84f3-2865f42934b2","startTime":1632027539817,"refId":"[1.120:67]","endTime":1632027540681,"exampleData":{"datasetIdentifierCode":"fa3ecd49-4571-4eb3-84f3-2865f42934b2"},"exampleIndex":119},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.176 karate.env system property was: null \n"},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":68100,"millis":0.0681,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":507996,"millis":0.507996,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":305297,"millis":0.305297,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":338297,"millis":0.338297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62600,"millis":0.0626,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12799,"millis":0.012799,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850903605,"millis":850.903605,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":510896,"millis":0.510896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b3'"}},{"result":{"nanos":550896,"millis":0.550896,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":453096,"millis":0.453096,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":442097,"millis":0.442097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":563896,"millis":0.563896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":652395,"millis":0.652395,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29299,"millis":0.029299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":552296,"millis":0.552296,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":429897,"millis":0.429897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":337097,"millis":0.337097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":295598,"millis":0.295598,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":265498,"millis":0.265498,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.034 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":349298,"millis":0.349298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":210299,"millis":0.210299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.035 [print] OGC:WMS \n"},{"result":{"nanos":391797,"millis":0.391797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":209798,"millis":0.209798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.035 [print] #notpresent \n"},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":223898,"millis":0.223898,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.036 [print] OGC:WMS \n"},{"result":{"nanos":488896,"millis":0.488896,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":214299,"millis":0.214299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.036 [print] Rijkswaterstaat \n"},{"result":{"nanos":219598,"millis":0.219598,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.036 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n"},{"result":{"nanos":449997,"millis":0.449997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1064692,"millis":1.064692,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":434597,"millis":0.434597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.809824,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3","startTime":1632027540176,"refId":"[1.121:67]","endTime":1632027541038,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b3"},"exampleIndex":120},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.322 karate.env system property was: null \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48599,"millis":0.048599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237699,"millis":0.237699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43299,"millis":0.043299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419297,"millis":0.419297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98399,"millis":0.098399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7e450110-f643-4b73-9262-4f13966cffc6'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864507704,"millis":864.507704,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":516897,"millis":0.516897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e450110-f643-4b73-9262-4f13966cffc6'"}},{"result":{"nanos":534697,"millis":0.534697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":452297,"millis":0.452297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":417497,"millis":0.417497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":488996,"millis":0.488996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":434897,"millis":0.434897,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":328897,"millis":0.328897,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":371497,"millis":0.371497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":405197,"millis":0.405197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":88700,"millis":0.0887,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":324498,"millis":0.324498,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.192 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2009\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":396897,"millis":0.396897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":203898,"millis":0.203898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.193 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":581896,"millis":0.581896,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":462597,"millis":0.462597,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.194 [print] #notpresent \n"},{"result":{"nanos":41199,"millis":0.041199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":263998,"millis":0.263998,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.194 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":558396,"millis":0.558396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":238298,"millis":0.238298,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.195 [print] Beheer PDOK \n"},{"result":{"nanos":185199,"millis":0.185199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.195 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\"] \n"},{"result":{"nanos":482196,"millis":0.482196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":644395,"millis":0.644395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374097,"millis":0.374097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7e450110-f643-4b73-9262-4f13966cffc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.406533,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7e450110-f643-4b73-9262-4f13966cffc6","startTime":1632027540322,"refId":"[1.122:67]","endTime":1632027541197,"exampleData":{"datasetIdentifierCode":"7e450110-f643-4b73-9262-4f13966cffc6"},"exampleIndex":121},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.528 karate.env system property was: null \n"},{"result":{"nanos":30699,"millis":0.030699,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49199,"millis":0.049199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223499,"millis":0.223499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41699,"millis":0.041699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385297,"millis":0.385297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":82299,"millis":0.082299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":106999,"millis":0.106999,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863773709,"millis":863.773709,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":507197,"millis":0.507197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '180b6682-5d6f-429d-abb7-32f7d6253787'"}},{"result":{"nanos":498396,"millis":0.498396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":393297,"millis":0.393297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":389897,"millis":0.389897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":707695,"millis":0.707695,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":446096,"millis":0.446096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390997,"millis":0.390997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":433697,"millis":0.433697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":375097,"millis":0.375097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":149699,"millis":0.149699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":271598,"millis":0.271598,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.398 [print] https:\/\/geodata.nationaalgeoregister.nl\/windkaart\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":457097,"millis":0.457097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":223598,"millis":0.223598,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.399 [print] OGC:WFS \n"},{"result":{"nanos":344298,"millis":0.344298,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":199598,"millis":0.199598,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.399 [print] #notpresent \n"},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":185699,"millis":0.185699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.400 [print] OGC:WFS \n"},{"result":{"nanos":427297,"millis":0.427297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":206199,"millis":0.206199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.400 [print] Beheer PDOK \n"},{"result":{"nanos":185598,"millis":0.185598,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.400 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=d845cef6-0e23-4212-a951-b69763e39ef0#MD_DataIdentification \n"},{"result":{"nanos":420997,"millis":0.420997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":579496,"millis":0.579496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322597,"millis":0.322597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"180b6682-5d6f-429d-abb7-32f7d6253787\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.05774,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"180b6682-5d6f-429d-abb7-32f7d6253787","startTime":1632027540528,"refId":"[1.123:67]","endTime":1632027541402,"exampleData":{"datasetIdentifierCode":"180b6682-5d6f-429d-abb7-32f7d6253787"},"exampleIndex":122},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:00.683 karate.env system property was: null \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49099,"millis":0.049099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":333597,"millis":0.333597,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":412097,"millis":0.412097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35599,"millis":0.035599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":345398,"millis":0.345398,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16299,"millis":0.016299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865178399,"millis":865.178399,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433297,"millis":0.433297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '95e2c712-1b91-4f24-9453-c56b95227717'"}},{"result":{"nanos":390597,"millis":0.390597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":362997,"millis":0.362997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381297,"millis":0.381297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":505896,"millis":0.505896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":409497,"millis":0.409497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43599,"millis":0.043599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":300398,"millis":0.300398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":334397,"millis":0.334397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":337898,"millis":0.337898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":314997,"millis":0.314997,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":302698,"millis":0.302698,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.554 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":360797,"millis":0.360797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":288598,"millis":0.288598,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.555 [print] #notpresent \n"},{"result":{"nanos":376897,"millis":0.376897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":249198,"millis":0.249198,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.556 [print] OGC:WMS \n"},{"result":{"nanos":34300,"millis":0.0343,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":229198,"millis":0.229198,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.556 [print] #notpresent \n"},{"result":{"nanos":437497,"millis":0.437497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":224798,"millis":0.224798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.557 [print] RIVM \n"},{"result":{"nanos":223098,"millis":0.223098,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.557 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":712495,"millis":0.712495,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":860694,"millis":0.860694,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":389997,"millis":0.389997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"95e2c712-1b91-4f24-9453-c56b95227717\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.147823,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"95e2c712-1b91-4f24-9453-c56b95227717","startTime":1632027540682,"refId":"[1.124:67]","endTime":1632027541559,"exampleData":{"datasetIdentifierCode":"95e2c712-1b91-4f24-9453-c56b95227717"},"exampleIndex":123},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.040 karate.env system property was: null \n"},{"result":{"nanos":31499,"millis":0.031499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230598,"millis":0.230598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42099,"millis":0.042099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":325498,"millis":0.325498,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":117699,"millis":0.117699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":117899,"millis":0.117899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":71099,"millis":0.071099,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":119499,"millis":0.119499,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70199,"millis":0.070199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846192239,"millis":846.192239,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":425397,"millis":0.425397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '37308f90-e619-4b62-ae9e-e656bb3f1649'"}},{"result":{"nanos":397397,"millis":0.397397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":364697,"millis":0.364697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":355997,"millis":0.355997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":425997,"millis":0.425997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":368197,"millis":0.368197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":286898,"millis":0.286898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":289998,"millis":0.289998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":4730765,"millis":4.730765,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":66400,"millis":0.0664,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":496696,"millis":0.496696,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:01.897 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":428797,"millis":0.428797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97999,"millis":0.097999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:01.897 [print] OGC:WFS \n"},{"result":{"nanos":617795,"millis":0.617795,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:01.898 [print] INSPIRE Atom \n"},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":294997,"millis":0.294997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:01.898 [print] OGC:WFS \n"},{"result":{"nanos":708595,"millis":0.708595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80899,"millis":0.080899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:01.899 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":783695,"millis":0.783695,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:01.900 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8b0b02a0-1e1b-4cda-bcfe-6fa0f738e38f#MD_DataIdentification \n"},{"result":{"nanos":617196,"millis":0.617196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":592195,"millis":0.592195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346798,"millis":0.346798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"37308f90-e619-4b62-ae9e-e656bb3f1649\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.405733,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"37308f90-e619-4b62-ae9e-e656bb3f1649","startTime":1632027541040,"refId":"[1.125:67]","endTime":1632027541901,"exampleData":{"datasetIdentifierCode":"37308f90-e619-4b62-ae9e-e656bb3f1649"},"exampleIndex":124},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36899,"millis":0.036899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.199 karate.env system property was: null \n"},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":88599,"millis":0.088599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":252598,"millis":0.252598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":80499,"millis":0.080499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436097,"millis":0.436097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":147099,"millis":0.147099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17699,"millis":0.017699,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":59800,"millis":0.0598,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bf72cf8_'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847758928,"millis":847.758928,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":492596,"millis":0.492596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bf72cf8_'"}},{"result":{"nanos":409897,"millis":0.409897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":389497,"millis":0.389497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":384597,"millis":0.384597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":450697,"millis":0.450697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":354597,"millis":0.354597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":274898,"millis":0.274898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":314797,"millis":0.314797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":372097,"millis":0.372097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96200,"millis":0.0962,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":814194,"millis":0.814194,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.052 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":523397,"millis":0.523397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93099,"millis":0.093099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.054 [print] #notpresent \n"},{"result":{"nanos":712494,"millis":0.712494,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93000,"millis":0.093,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.054 [print] #notpresent \n"},{"result":{"nanos":325798,"millis":0.325798,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1065992,"millis":1.065992,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.056 [print] #notpresent \n"},{"result":{"nanos":459697,"millis":0.459697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":273998,"millis":0.273998,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.057 [print] Rijkswaterstaat \n"},{"result":{"nanos":230999,"millis":0.230999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.057 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":373097,"millis":0.373097,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":700395,"millis":0.700395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bf72cf8_\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":441397,"millis":0.441397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bf72cf8_\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.720648,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-83730-e750-485a-9c0c-39bf9bf72cf8_","startTime":1632027541198,"refId":"[1.126:67]","endTime":1632027542058,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bf72cf8_"},"exampleIndex":125},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.404 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47199,"millis":0.047199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50400,"millis":0.0504,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":200098,"millis":0.200098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":334698,"millis":0.334698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":474197,"millis":0.474197,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18399,"millis":0.018399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854844476,"millis":854.844476,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":565996,"millis":0.565996,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'abf1f9f0-1b85-40e8-86ec-86bee6003b4e'"}},{"result":{"nanos":404197,"millis":0.404197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":423297,"millis":0.423297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":363297,"millis":0.363297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":397397,"millis":0.397397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":362297,"millis":0.362297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":311398,"millis":0.311398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":306797,"millis":0.306797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":387297,"millis":0.387297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":689095,"millis":0.689095,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":780594,"millis":0.780594,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.265 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wms\/?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":333098,"millis":0.333098,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":380998,"millis":0.380998,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.266 [print] OGC:WMS \n"},{"result":{"nanos":319197,"millis":0.319197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":356497,"millis":0.356497,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.267 [print] #notpresent \n"},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":325898,"millis":0.325898,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.267 [print] OGC:WMS \n"},{"result":{"nanos":362597,"millis":0.362597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":236598,"millis":0.236598,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.268 [print] Beheer PDOK \n"},{"result":{"nanos":264498,"millis":0.264498,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.268 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":403397,"millis":0.403397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":852394,"millis":0.852394,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":458196,"millis":0.458196,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"abf1f9f0-1b85-40e8-86ec-86bee6003b4e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.539297,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e","startTime":1632027541403,"refId":"[1.127:67]","endTime":1632027542270,"exampleData":{"datasetIdentifierCode":"abf1f9f0-1b85-40e8-86ec-86bee6003b4e"},"exampleIndex":126},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.561 karate.env system property was: null \n"},{"result":{"nanos":31099,"millis":0.031099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51799,"millis":0.051799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":216299,"millis":0.216299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41299,"millis":0.041299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330498,"millis":0.330498,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68499,"millis":0.068499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":210099,"millis":0.210099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '65f9628b-0a58-4348-8fff-c2d02788acdb'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870682958,"millis":870.682958,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":569296,"millis":0.569296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '65f9628b-0a58-4348-8fff-c2d02788acdb'"}},{"result":{"nanos":533896,"millis":0.533896,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":461996,"millis":0.461996,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":440597,"millis":0.440597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":492696,"millis":0.492696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":465097,"millis":0.465097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26399,"millis":0.026399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":334698,"millis":0.334698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":511396,"millis":0.511396,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":518396,"millis":0.518396,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":415897,"millis":0.415897,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":166199,"millis":0.166199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.438 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-ra\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":815594,"millis":0.815594,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89800,"millis":0.0898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.439 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":664995,"millis":0.664995,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":103199,"millis":0.103199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.440 [print] #notpresent \n"},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":321497,"millis":0.321497,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.440 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":988493,"millis":0.988493,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102799,"millis":0.102799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.441 [print] Beheer PDOK \n"},{"result":{"nanos":66799,"millis":0.066799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.441 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=3a7dd0a6-d130-4c4c-b0ba-24365cf036e2#MD_DataIdentification \n"},{"result":{"nanos":557496,"millis":0.557496,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":859294,"millis":0.859294,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":482096,"millis":0.482096,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"65f9628b-0a58-4348-8fff-c2d02788acdb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.828275,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"65f9628b-0a58-4348-8fff-c2d02788acdb","startTime":1632027541561,"refId":"[1.128:67]","endTime":1632027542443,"exampleData":{"datasetIdentifierCode":"65f9628b-0a58-4348-8fff-c2d02788acdb"},"exampleIndex":127},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:01.904 karate.env system property was: null \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49799,"millis":0.049799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":224798,"millis":0.224798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377697,"millis":0.377697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35400,"millis":0.0354,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":250798,"millis":0.250798,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24699,"millis":0.024699,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":837379904,"millis":837.379904,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":475296,"millis":0.475296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d533012-21ad-4a5b-a97e-a76988270273'"}},{"result":{"nanos":372297,"millis":0.372297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":369798,"millis":0.369798,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":381898,"millis":0.381898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":465997,"millis":0.465997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":423697,"millis":0.423697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":289598,"millis":0.289598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":290898,"millis":0.290898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":280198,"millis":0.280198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86199,"millis":0.086199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":129399,"millis":0.129399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.746 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":393397,"millis":0.393397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":146099,"millis":0.146099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.747 [print] #notpresent \n"},{"result":{"nanos":369797,"millis":0.369797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":99799,"millis":0.099799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.748 [print] #notpresent \n"},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":549196,"millis":0.549196,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.749 [print] #notpresent \n"},{"result":{"nanos":453996,"millis":0.453996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96199,"millis":0.096199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.749 [print] KNMI \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.749 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":1018392,"millis":1.018392,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":784795,"millis":0.784795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":479597,"millis":0.479597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7d533012-21ad-4a5b-a97e-a76988270273\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":846.640237,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7d533012-21ad-4a5b-a97e-a76988270273","startTime":1632027541903,"refId":"[1.129:67]","endTime":1632027542752,"exampleData":{"datasetIdentifierCode":"7d533012-21ad-4a5b-a97e-a76988270273"},"exampleIndex":128},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.061 karate.env system property was: null \n"},{"result":{"nanos":31999,"millis":0.031999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52499,"millis":0.052499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208299,"millis":0.208299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43699,"millis":0.043699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":395497,"millis":0.395497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":247098,"millis":0.247098,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55699,"millis":0.055699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853376686,"millis":853.376686,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":434996,"millis":0.434996,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b023459a-9f0e-4d53-8059-a794119abbed'"}},{"result":{"nanos":392697,"millis":0.392697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":380898,"millis":0.380898,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":367698,"millis":0.367698,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":548796,"millis":0.548796,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":677795,"millis":0.677795,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":319598,"millis":0.319598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":304697,"millis":0.304697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":302698,"millis":0.302698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81900,"millis":0.0819,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120200,"millis":0.1202,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:02.920 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-cdda\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":548596,"millis":0.548596,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83700,"millis":0.0837,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:02.920 [print] OGC:WFS \n"},{"result":{"nanos":419896,"millis":0.419896,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60400,"millis":0.0604,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:02.921 [print] #notpresent \n"},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":1695087,"millis":1.695087,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:02.923 [print] OGC:WFS \n"},{"result":{"nanos":750394,"millis":0.750394,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":201399,"millis":0.201399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:02.924 [print] Beheer PDOK \n"},{"result":{"nanos":160599,"millis":0.160599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:02.924 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3387ef8a-9237-453a-aa4e-585d1e193550#MD_DataIdentification \n"},{"result":{"nanos":495897,"millis":0.495897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":944993,"millis":0.944993,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":417697,"millis":0.417697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b023459a-9f0e-4d53-8059-a794119abbed\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.339607,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"b023459a-9f0e-4d53-8059-a794119abbed","startTime":1632027542060,"refId":"[1.130:67]","endTime":1632027542926,"exampleData":{"datasetIdentifierCode":"b023459a-9f0e-4d53-8059-a794119abbed"},"exampleIndex":129},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.272 karate.env system property was: null \n"},{"result":{"nanos":46099,"millis":0.046099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50999,"millis":0.050999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208599,"millis":0.208599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42199,"millis":0.042199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":370698,"millis":0.370698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":166499,"millis":0.166499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5599,"millis":0.005599,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848147624,"millis":848.147624,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":501397,"millis":0.501397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e9ba7d7f-6cd1-4271-bce4-56432924b338'"}},{"result":{"nanos":408297,"millis":0.408297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":377698,"millis":0.377698,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":457097,"millis":0.457097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2030985,"millis":2.030985,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":472196,"millis":0.472196,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":329898,"millis":0.329898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":375097,"millis":0.375097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":471896,"millis":0.471896,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":130099,"millis":0.130099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1112892,"millis":1.112892,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.129 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselzaadinvanginstallaties\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":485296,"millis":0.485296,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85999,"millis":0.085999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.129 [print] #notpresent \n"},{"result":{"nanos":641795,"millis":0.641795,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90100,"millis":0.0901,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.130 [print] OGC:WFS \n"},{"result":{"nanos":301397,"millis":0.301397,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":166099,"millis":0.166099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.130 [print] #notpresent \n"},{"result":{"nanos":463997,"millis":0.463997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":180298,"millis":0.180298,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.131 [print] Beheer PDOK \n"},{"result":{"nanos":484797,"millis":0.484797,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.132 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a04afee4-47d5-45b7-b7a0-a6f86106af11#MD_DataIdentification \n"},{"result":{"nanos":420097,"millis":0.420097,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":796194,"millis":0.796194,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":567796,"millis":0.567796,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e9ba7d7f-6cd1-4271-bce4-56432924b338\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.630233,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e9ba7d7f-6cd1-4271-bce4-56432924b338","startTime":1632027542272,"refId":"[1.131:67]","endTime":1632027543134,"exampleData":{"datasetIdentifierCode":"e9ba7d7f-6cd1-4271-bce4-56432924b338"},"exampleIndex":130},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.446 karate.env system property was: null \n"},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50899,"millis":0.050899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":228898,"millis":0.228898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":405397,"millis":0.405397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36199,"millis":0.036199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86700,"millis":0.0867,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":24599,"millis":0.024599,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c6fa88ab-e440-414b-a773-793c4ce6d8df'"}},{"result":{"nanos":8199,"millis":0.008199,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":1001853217,"millis":1001.853217,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":554096,"millis":0.554096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c6fa88ab-e440-414b-a773-793c4ce6d8df'"}},{"result":{"nanos":477296,"millis":0.477296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":435597,"millis":0.435597,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":447996,"millis":0.447996,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":559096,"millis":0.559096,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":481297,"millis":0.481297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27399,"millis":0.027399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":336298,"millis":0.336298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":323697,"millis":0.323697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":349497,"millis":0.349497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":109300,"millis":0.1093,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.453 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestuurlijkegrenzen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":793693,"millis":0.793693,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87799,"millis":0.087799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.454 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":644295,"millis":0.644295,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.455 [print] #notpresent \n"},{"result":{"nanos":28699,"millis":0.028699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":377997,"millis":0.377997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.455 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":475297,"millis":0.475297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.456 [print] Beheer PDOK \n"},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.456 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe24c2a7-b121-4177-887a-fa16d943729b#MD_DataIdentification \n"},{"result":{"nanos":951392,"millis":0.951392,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":847393,"millis":0.847393,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":440597,"millis":0.440597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c6fa88ab-e440-414b-a773-793c4ce6d8df\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":1011.920039,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c6fa88ab-e440-414b-a773-793c4ce6d8df","startTime":1632027542445,"refId":"[1.132:67]","endTime":1632027543458,"exampleData":{"datasetIdentifierCode":"c6fa88ab-e440-414b-a773-793c4ce6d8df"},"exampleIndex":131},{"sectionIndex":0,"stepResults":[{"result":{"nanos":36499,"millis":0.036499,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.754 karate.env system property was: null \n"},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":70399,"millis":0.070399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":240098,"millis":0.240098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":62899,"millis":0.062899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":349998,"millis":0.349998,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33899,"millis":0.033899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71200,"millis":0.0712,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17799,"millis":0.017799,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14499,"millis":0.014499,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865325934,"millis":865.325934,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":467596,"millis":0.467596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7a395a2-8673-4794-a5a6-fed6492cd580'"}},{"result":{"nanos":436696,"millis":0.436696,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":437397,"millis":0.437397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":435096,"millis":0.435096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":455296,"millis":0.455296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":502596,"millis":0.502596,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":62300,"millis":0.0623,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348997,"millis":0.348997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":328897,"millis":0.328897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":444597,"millis":0.444597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61999,"millis":0.061999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90299,"millis":0.090299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.625 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotocir\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":350898,"millis":0.350898,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.625 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":338597,"millis":0.338597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.626 [print] #notpresent \n"},{"result":{"nanos":27499,"millis":0.027499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68000,"millis":0.068,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.626 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":550195,"millis":0.550195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.627 [print] Beheer PDOK \n"},{"result":{"nanos":90499,"millis":0.090499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.627 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=1be28290-55fa-4486-b9d3-b9d147117863#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7c24ea89-074e-4c4f-91e3-d38e813e9cb6#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=7f5d7945-8fa8-4d36-be4c-2fdb3c7d613b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9ed6b8ed-254a-4745-a09a-3b57137d1b69#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4cfb1469-a152-4ba6-8fe9-4b627acd7ee0#MD_DataIdentification\"] \n"},{"result":{"nanos":431997,"millis":0.431997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":543295,"millis":0.543295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414897,"millis":0.414897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d7a395a2-8673-4794-a5a6-fed6492cd580\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.474867,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"d7a395a2-8673-4794-a5a6-fed6492cd580","startTime":1632027542753,"refId":"[1.133:67]","endTime":1632027543628,"exampleData":{"datasetIdentifierCode":"d7a395a2-8673-4794-a5a6-fed6492cd580"},"exampleIndex":132},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:02.928 karate.env system property was: null \n"},{"result":{"nanos":30099,"millis":0.030099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":107599,"millis":0.107599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":273698,"millis":0.273698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2871379,"millis":2.871379,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":226298,"millis":0.226298,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25499,"millis":0.025499,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851654247,"millis":851.654247,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":467696,"millis":0.467696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd414384-0bcb-4188-86e2-2843e12a579e'"}},{"result":{"nanos":439897,"millis":0.439897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":512896,"millis":0.512896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":411197,"millis":0.411197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":439296,"millis":0.439296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":376897,"millis":0.376897,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":279798,"millis":0.279798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":268798,"millis":0.268798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":299097,"millis":0.299097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82499,"millis":0.082499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":812794,"millis":0.812794,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:03.788 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossosgm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":306997,"millis":0.306997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:03.789 [print] #notpresent \n"},{"result":{"nanos":504096,"millis":0.504096,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58199,"millis":0.058199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:03.789 [print] OGC:WFS \n"},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":355997,"millis":0.355997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:03.790 [print] #notpresent \n"},{"result":{"nanos":420597,"millis":0.420597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96899,"millis":0.096899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:03.790 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":873793,"millis":0.873793,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:03.791 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":365697,"millis":0.365697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":563495,"millis":0.563495,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":312398,"millis":0.312398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dd414384-0bcb-4188-86e2-2843e12a579e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.835452,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"dd414384-0bcb-4188-86e2-2843e12a579e","startTime":1632027542927,"refId":"[1.134:67]","endTime":1632027543792,"exampleData":{"datasetIdentifierCode":"dd414384-0bcb-4188-86e2-2843e12a579e"},"exampleIndex":133},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.138 karate.env system property was: null \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69099,"millis":0.069099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":226499,"millis":0.226499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47599,"millis":0.047599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":382297,"millis":0.382297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":177298,"millis":0.177298,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":14199,"millis":0.014199,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":898570767,"millis":898.570767,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":800793,"millis":0.800793,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7b4a0b26-5885-45cd-a99d-27887cff68e5'"}},{"result":{"nanos":430797,"millis":0.430797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":403296,"millis":0.403296,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":416697,"millis":0.416697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":4018668,"millis":4.018668,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":503196,"millis":0.503196,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":99799,"millis":0.099799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":440596,"millis":0.440596,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":391197,"millis":0.391197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":396597,"millis":0.396597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":174399,"millis":0.174399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":199899,"millis":0.199899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.046 [print] https:\/\/www.broinspireservices.nl\/wms\/ossosgm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":386497,"millis":0.386497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":157898,"millis":0.157898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.047 [print] #notpresent \n"},{"result":{"nanos":376897,"millis":0.376897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":144399,"millis":0.144399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.047 [print] OGC:WMS \n"},{"result":{"nanos":100899,"millis":0.100899,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":123499,"millis":0.123499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.047 [print] #notpresent \n"},{"result":{"nanos":397097,"millis":0.397097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":150999,"millis":0.150999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.048 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":126899,"millis":0.126899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.048 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=a7fb2234-f7b4-4a03-b282-f10947f42fb1&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":385096,"millis":0.385096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":434797,"millis":0.434797,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":320397,"millis":0.320397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7b4a0b26-5885-45cd-a99d-27887cff68e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":911.126066,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7b4a0b26-5885-45cd-a99d-27887cff68e5","startTime":1632027543137,"refId":"[1.135:67]","endTime":1632027544049,"exampleData":{"datasetIdentifierCode":"7b4a0b26-5885-45cd-a99d-27887cff68e5"},"exampleIndex":134},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.460 karate.env system property was: null \n"},{"result":{"nanos":30499,"millis":0.030499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60999,"millis":0.060999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221299,"millis":0.221299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":358597,"millis":0.358597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":54999,"millis":0.054999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55499,"millis":0.055499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865857827,"millis":865.857827,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":576095,"millis":0.576095,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2650d49b-7d9a-49b5-b748-a0372cd9b5cf'"}},{"result":{"nanos":419097,"millis":0.419097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":378497,"millis":0.378497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":446096,"millis":0.446096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":610395,"millis":0.610395,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":469796,"millis":0.469796,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":364498,"millis":0.364498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":390697,"millis":0.390697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":396997,"millis":0.396997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121699,"millis":0.121699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":169299,"millis":0.169299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.332 [print] http:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wsdiensteninspire\\\/wms?request=getcapabilities&service=WMS \n"},{"result":{"nanos":429096,"millis":0.429096,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":168199,"millis":0.168199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.333 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":399297,"millis":0.399297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":123699,"millis":0.123699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.334 [print] #notpresent \n"},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":138799,"millis":0.138799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.334 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":480996,"millis":0.480996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":172198,"millis":0.172198,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.334 [print] Beheer PDOK \n"},{"result":{"nanos":184299,"millis":0.184299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.335 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification \n"},{"result":{"nanos":463696,"millis":0.463696,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1307990,"millis":1.30799,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":546296,"millis":0.546296,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2650d49b-7d9a-49b5-b748-a0372cd9b5cf\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.81425,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf","startTime":1632027543460,"refId":"[1.136:67]","endTime":1632027544337,"exampleData":{"datasetIdentifierCode":"2650d49b-7d9a-49b5-b748-a0372cd9b5cf"},"exampleIndex":135},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.631 karate.env system property was: null \n"},{"result":{"nanos":70999,"millis":0.070999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":118999,"millis":0.118999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56599,"millis":0.056599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275598,"millis":0.275598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42199,"millis":0.042199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377097,"millis":0.377097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":92899,"millis":0.092899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":79899,"millis":0.079899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867106517,"millis":867.106517,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":629595,"millis":0.629595,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fff9d7cf-9929-4dde-98b8-06ceda7e5610'"}},{"result":{"nanos":569596,"millis":0.569596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":441596,"millis":0.441596,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":546896,"millis":0.546896,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":741494,"millis":0.741494,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":598395,"millis":0.598395,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":114699,"millis":0.114699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":593995,"millis":0.593995,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":540196,"millis":0.540196,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":773894,"millis":0.773894,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":146298,"millis":0.146298,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":198099,"millis":0.198099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.506 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wcs?request=GetCapabilities&service=WCS \n"},{"result":{"nanos":621296,"millis":0.621296,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":196599,"millis":0.196599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.507 [print] #notpresent \n"},{"result":{"nanos":651895,"millis":0.651895,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":175399,"millis":0.175399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.508 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":147698,"millis":0.147698,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131299,"millis":0.131299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.508 [print] #notpresent \n"},{"result":{"nanos":553096,"millis":0.553096,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":1175790,"millis":1.17579,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.510 [print] Beheer PDOK \n"},{"result":{"nanos":556196,"millis":0.556196,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.511 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n"},{"result":{"nanos":673295,"millis":0.673295,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":571995,"millis":0.571995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":476996,"millis":0.476996,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fff9d7cf-9929-4dde-98b8-06ceda7e5610\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":880.153413,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"fff9d7cf-9929-4dde-98b8-06ceda7e5610","startTime":1632027543631,"refId":"[1.137:67]","endTime":1632027544513,"exampleData":{"datasetIdentifierCode":"fff9d7cf-9929-4dde-98b8-06ceda7e5610"},"exampleIndex":136},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:03.809 karate.env system property was: null \n"},{"result":{"nanos":44999,"millis":0.044999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":129799,"millis":0.129799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":143699,"millis":0.143699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":299997,"millis":0.299997,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":131399,"millis":0.131399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":717894,"millis":0.717894,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":142899,"millis":0.142899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":208199,"millis":0.208199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":66700,"millis":0.0667,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":880325812,"millis":880.325812,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":437296,"millis":0.437296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a5437cb4-98ef-4c8e-a5ed-000e7a82b774'"}},{"result":{"nanos":352197,"millis":0.352197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":331598,"millis":0.331598,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":317697,"millis":0.317697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":706994,"millis":0.706994,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":446397,"millis":0.446397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87999,"millis":0.087999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":379297,"millis":0.379297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339997,"millis":0.339997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":454496,"millis":0.454496,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":148699,"millis":0.148699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":257298,"millis":0.257298,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.696 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsvierkanten100mv2\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":772294,"millis":0.772294,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":164398,"millis":0.164398,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.697 [print] OGC:WFS \n"},{"result":{"nanos":421097,"millis":0.421097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":154299,"millis":0.154299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.698 [print] #notpresent \n"},{"result":{"nanos":149798,"millis":0.149798,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":158999,"millis":0.158999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.698 [print] OGC:WFS \n"},{"result":{"nanos":379697,"millis":0.379697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":122399,"millis":0.122399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.699 [print] Beheer PDOK \n"},{"result":{"nanos":192598,"millis":0.192598,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.699 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":535996,"millis":0.535996,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":686894,"millis":0.686894,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":433897,"millis":0.433897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a5437cb4-98ef-4c8e-a5ed-000e7a82b774\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":890.922128,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774","startTime":1632027543808,"refId":"[1.138:67]","endTime":1632027544701,"exampleData":{"datasetIdentifierCode":"a5437cb4-98ef-4c8e-a5ed-000e7a82b774"},"exampleIndex":137},{"sectionIndex":0,"stepResults":[{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.053 karate.env system property was: null \n"},{"result":{"nanos":49399,"millis":0.049399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":179099,"millis":0.179099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":328297,"millis":0.328297,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":443596,"millis":0.443596,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":162999,"millis":0.162999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":562996,"millis":0.562996,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":123899,"millis":0.123899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":151199,"millis":0.151199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49199,"millis":0.049199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":31699,"millis":0.031699,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":31199,"millis":0.031199,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":906084108,"millis":906.084108,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":702895,"millis":0.702895,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5f0c583a-101e-45ea-b684-a056713cf811'"}},{"result":{"nanos":691595,"millis":0.691595,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":422297,"millis":0.422297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":431197,"millis":0.431197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":398197,"millis":0.398197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":341497,"millis":0.341497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":292997,"millis":0.292997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":285798,"millis":0.285798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":268098,"millis":0.268098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":113799,"millis":0.113799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1028092,"millis":1.028092,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:04.966 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-baseline-feed.atom \n"},{"result":{"nanos":365998,"millis":0.365998,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":62999,"millis":0.062999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:04.967 [print] #notpresent \n"},{"result":{"nanos":769094,"millis":0.769094,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72299,"millis":0.072299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:04.968 [print] INSPIRE Atom \n"},{"result":{"nanos":32300,"millis":0.0323,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":328997,"millis":0.328997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:04.968 [print] #notpresent \n"},{"result":{"nanos":594195,"millis":0.594195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102599,"millis":0.102599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:04.969 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":595995,"millis":0.595995,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:04.970 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=1249746f-c2a6-4639-98f2-251676b3528e&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":383897,"millis":0.383897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":548996,"millis":0.548996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364997,"millis":0.364997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5f0c583a-101e-45ea-b684-a056713cf811\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":917.654717,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5f0c583a-101e-45ea-b684-a056713cf811","startTime":1632027544052,"refId":"[1.139:67]","endTime":1632027544971,"exampleData":{"datasetIdentifierCode":"5f0c583a-101e-45ea-b684-a056713cf811"},"exampleIndex":138},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.339 karate.env system property was: null \n"},{"result":{"nanos":41199,"millis":0.041199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122699,"millis":0.122699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113299,"millis":0.113299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":267698,"millis":0.267698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":114299,"millis":0.114299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":374197,"millis":0.374197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":83100,"millis":0.0831,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115800,"millis":0.1158,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32199,"millis":0.032199,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":59999,"millis":0.059999,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864480638,"millis":864.480638,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":464696,"millis":0.464696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42da491e-d8b9-47ba-af65-acb15ea8a055'"}},{"result":{"nanos":366997,"millis":0.366997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":331697,"millis":0.331697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":397197,"millis":0.397197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":504796,"millis":0.504796,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":411597,"millis":0.411597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":272898,"millis":0.272898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":286598,"millis":0.286598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":306497,"millis":0.306497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":140299,"millis":0.140299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":562295,"millis":0.562295,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.210 [print] https:\/\/www.broinspireservices.nl\/wms\/osamepl-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":809594,"millis":0.809594,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":62599,"millis":0.062599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.211 [print] #notpresent \n"},{"result":{"nanos":612395,"millis":0.612395,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.212 [print] OGC:WMS \n"},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":526895,"millis":0.526895,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.212 [print] #notpresent \n"},{"result":{"nanos":464397,"millis":0.464397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83200,"millis":0.0832,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.213 [print]  \n"},{"result":{"nanos":328597,"millis":0.328597,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.213 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=24de356e-ec4d-4a18-9903-6401d222b77c&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":753694,"millis":0.753694,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":689995,"millis":0.689995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":490496,"millis":0.490496,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"42da491e-d8b9-47ba-af65-acb15ea8a055\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.030156,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"42da491e-d8b9-47ba-af65-acb15ea8a055","startTime":1632027544339,"refId":"[1.140:67]","endTime":1632027545215,"exampleData":{"datasetIdentifierCode":"42da491e-d8b9-47ba-af65-acb15ea8a055"},"exampleIndex":139},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74899,"millis":0.074899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.515 karate.env system property was: null \n"},{"result":{"nanos":51399,"millis":0.051399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":133599,"millis":0.133599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":200698,"millis":0.200698,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":312498,"millis":0.312498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":179698,"millis":0.179698,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":630095,"millis":0.630095,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":157999,"millis":0.157999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":160099,"millis":0.160099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":302297,"millis":0.302297,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":32199,"millis":0.032199,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":52199,"millis":0.052199,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":869187400,"millis":869.1874,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":453897,"millis":0.453897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa'"}},{"result":{"nanos":335097,"millis":0.335097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":299597,"millis":0.299597,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":318898,"millis":0.318898,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":388097,"millis":0.388097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":347397,"millis":0.347397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":271798,"millis":0.271798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":268798,"millis":0.268798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":251598,"millis":0.251598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80699,"millis":0.080699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":134999,"millis":0.134999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.391 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":396697,"millis":0.396697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.392 [print] OGC:WMS \n"},{"result":{"nanos":382697,"millis":0.382697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.392 [print] #notpresent \n"},{"result":{"nanos":47199,"millis":0.047199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":216099,"millis":0.216099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.393 [print] OGC:WMS \n"},{"result":{"nanos":397097,"millis":0.397097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.393 [print] Beheer PDOK \n"},{"result":{"nanos":67399,"millis":0.067399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.393 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":349397,"millis":0.349397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":584896,"millis":0.584896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":378697,"millis":0.378697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.803632,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa","startTime":1632027544515,"refId":"[1.141:67]","endTime":1632027545394,"exampleData":{"datasetIdentifierCode":"bfe4f5c6-b6d2-4a63-a7b7-961dd9c9fcaa"},"exampleIndex":140},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19100,"millis":0.0191,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.707 karate.env system property was: null \n"},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54799,"millis":0.054799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":279598,"millis":0.279598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437797,"millis":0.437797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85599,"millis":0.085599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19999,"millis":0.019999,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'beb6dd70-7834-475f-9acc-954a809dfe87'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858746384,"millis":858.746384,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":430196,"millis":0.430196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'beb6dd70-7834-475f-9acc-954a809dfe87'"}},{"result":{"nanos":615395,"millis":0.615395,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":365797,"millis":0.365797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":454096,"millis":0.454096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":501096,"millis":0.501096,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":399397,"millis":0.399397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":308297,"millis":0.308297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":292898,"millis":0.292898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":292797,"millis":0.292797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":632695,"millis":0.632695,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":677795,"millis":0.677795,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.572 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/atom\/cbsgebiedsindelingen.xml \n"},{"result":{"nanos":324497,"millis":0.324497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":460296,"millis":0.460296,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.573 [print] INSPIRE Atom \n"},{"result":{"nanos":312998,"millis":0.312998,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":440196,"millis":0.440196,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.574 [print] #notpresent \n"},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":448196,"millis":0.448196,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.574 [print] INSPIRE Atom \n"},{"result":{"nanos":383797,"millis":0.383797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":369697,"millis":0.369697,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.575 [print] Beheer PDOK \n"},{"result":{"nanos":688495,"millis":0.688495,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.576 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":397796,"millis":0.397796,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":553896,"millis":0.553896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"beb6dd70-7834-475f-9acc-954a809dfe87\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":378597,"millis":0.378597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"beb6dd70-7834-475f-9acc-954a809dfe87\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.696696,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"beb6dd70-7834-475f-9acc-954a809dfe87","startTime":1632027544706,"refId":"[1.142:67]","endTime":1632027545577,"exampleData":{"datasetIdentifierCode":"beb6dd70-7834-475f-9acc-954a809dfe87"},"exampleIndex":141},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:04.973 karate.env system property was: null \n"},{"result":{"nanos":29099,"millis":0.029099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66399,"millis":0.066399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223699,"millis":0.223699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336397,"millis":0.336397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66099,"millis":0.066099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51699,"millis":0.051699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":824293257,"millis":824.293257,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":581795,"millis":0.581795,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3ac5737f-55ed-455d-8350-44af11b67fc3'"}},{"result":{"nanos":475596,"millis":0.475596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":453797,"millis":0.453797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":437497,"millis":0.437497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":538296,"millis":0.538296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":510096,"millis":0.510096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":355297,"millis":0.355297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":267298,"millis":0.267298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":316797,"millis":0.316797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118499,"millis":0.118499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":149599,"millis":0.149599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:05.803 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":389397,"millis":0.389397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87699,"millis":0.087699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:05.804 [print] OGC:WMS \n"},{"result":{"nanos":282398,"millis":0.282398,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78699,"millis":0.078699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:05.804 [print] #notpresent \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":57899,"millis":0.057899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:05.804 [print] OGC:WMS \n"},{"result":{"nanos":358197,"millis":0.358197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65100,"millis":0.0651,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:05.805 [print] Beheer PDOK \n"},{"result":{"nanos":69899,"millis":0.069899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:05.805 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":362297,"millis":0.362297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":639295,"millis":0.639295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316997,"millis":0.316997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3ac5737f-55ed-455d-8350-44af11b67fc3\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":832.259993,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3ac5737f-55ed-455d-8350-44af11b67fc3","startTime":1632027544973,"refId":"[1.143:67]","endTime":1632027545806,"exampleData":{"datasetIdentifierCode":"3ac5737f-55ed-455d-8350-44af11b67fc3"},"exampleIndex":142},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.217 karate.env system property was: null \n"},{"result":{"nanos":29299,"millis":0.029299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49200,"millis":0.0492,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":202699,"millis":0.202699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38999,"millis":0.038999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":347098,"millis":0.347098,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":80999,"millis":0.080999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81199,"millis":0.081199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":234398,"millis":0.234398,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857486494,"millis":857.486494,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":391397,"millis":0.391397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '027e3f15-3b58-4570-97bb-779ce3ca947e'"}},{"result":{"nanos":347797,"millis":0.347797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":345698,"millis":0.345698,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":291297,"millis":0.291297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":385297,"millis":0.385297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":328597,"millis":0.328597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":250498,"millis":0.250498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":269798,"millis":0.269798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":270698,"millis":0.270698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":109799,"millis":0.109799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":973192,"millis":0.973192,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.080 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2019\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":290597,"millis":0.290597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111599,"millis":0.111599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.081 [print] OGC:WFS \n"},{"result":{"nanos":512996,"millis":0.512996,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":910893,"millis":0.910893,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.082 [print] #notpresent \n"},{"result":{"nanos":102799,"millis":0.102799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":93899,"millis":0.093899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.082 [print] OGC:WFS \n"},{"result":{"nanos":506996,"millis":0.506996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148698,"millis":0.148698,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.084 [print] Beheer PDOK \n"},{"result":{"nanos":119299,"millis":0.119299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.084 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":437196,"millis":0.437196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":575395,"millis":0.575395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317798,"millis":0.317798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"027e3f15-3b58-4570-97bb-779ce3ca947e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.831018,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"027e3f15-3b58-4570-97bb-779ce3ca947e","startTime":1632027545217,"refId":"[1.144:67]","endTime":1632027546086,"exampleData":{"datasetIdentifierCode":"027e3f15-3b58-4570-97bb-779ce3ca947e"},"exampleIndex":143},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.396 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":84299,"millis":0.084299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236998,"millis":0.236998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43499,"millis":0.043499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":380797,"millis":0.380797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68999,"millis":0.068999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853094929,"millis":853.094929,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433297,"millis":0.433297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'db1e010a-96f8-453e-b63c-9c27d6273157'"}},{"result":{"nanos":433496,"millis":0.433496,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":393897,"millis":0.393897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":569196,"millis":0.569196,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":587595,"millis":0.587595,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":589195,"millis":0.589195,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":708194,"millis":0.708194,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":414097,"millis":0.414097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":462297,"millis":0.462297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97399,"millis":0.097399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":111499,"millis":0.111499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.256 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":527896,"millis":0.527896,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":64000,"millis":0.064,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.256 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":527396,"millis":0.527396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":101800,"millis":0.1018,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.257 [print] #notpresent \n"},{"result":{"nanos":29699,"millis":0.029699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":187399,"millis":0.187399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.257 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":616195,"millis":0.616195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80899,"millis":0.080899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.258 [print] Beheer PDOK \n"},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.258 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":636295,"millis":0.636295,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":617795,"millis":0.617795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":376497,"millis":0.376497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"db1e010a-96f8-453e-b63c-9c27d6273157\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.805454,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"db1e010a-96f8-453e-b63c-9c27d6273157","startTime":1632027545396,"refId":"[1.145:67]","endTime":1632027546260,"exampleData":{"datasetIdentifierCode":"db1e010a-96f8-453e-b63c-9c27d6273157"},"exampleIndex":144},{"sectionIndex":0,"stepResults":[{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.580 karate.env system property was: null \n"},{"result":{"nanos":32499,"millis":0.032499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54299,"millis":0.054299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":292198,"millis":0.292198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47599,"millis":0.047599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":444997,"millis":0.444997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":392097,"millis":0.392097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51299,"millis":0.051299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":866339623,"millis":866.339623,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":395097,"millis":0.395097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '539ec652-482d-4806-a830-0458cf8be477'"}},{"result":{"nanos":421496,"millis":0.421496,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":352598,"millis":0.352598,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":414497,"millis":0.414497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":447097,"millis":0.447097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":346298,"millis":0.346298,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31199,"millis":0.031199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":354298,"millis":0.354298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":322598,"millis":0.322598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":409096,"millis":0.409096,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81200,"millis":0.0812,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":253998,"millis":0.253998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.452 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/vs\/EF \n"},{"result":{"nanos":427497,"millis":0.427497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":59599,"millis":0.059599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.452 [print] #notpresent \n"},{"result":{"nanos":384197,"millis":0.384197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.453 [print] OGC:WMS \n"},{"result":{"nanos":28099,"millis":0.028099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67599,"millis":0.067599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.453 [print] #notpresent \n"},{"result":{"nanos":647195,"millis":0.647195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65899,"millis":0.065899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.454 [print] Informatiehuis Water \n"},{"result":{"nanos":74200,"millis":0.0742,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.454 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/nl\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full \n"},{"result":{"nanos":723994,"millis":0.723994,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619795,"millis":0.619795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":329197,"millis":0.329197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"539ec652-482d-4806-a830-0458cf8be477\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.140954,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"539ec652-482d-4806-a830-0458cf8be477","startTime":1632027545579,"refId":"[1.146:67]","endTime":1632027546455,"exampleData":{"datasetIdentifierCode":"539ec652-482d-4806-a830-0458cf8be477"},"exampleIndex":145},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17799,"millis":0.017799,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:05.809 karate.env system property was: null \n"},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50999,"millis":0.050999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":244898,"millis":0.244898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43400,"millis":0.0434,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375297,"millis":0.375297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33299,"millis":0.033299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":159599,"millis":0.159599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6199,"millis":0.006199,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":893091411,"millis":893.091411,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":568295,"millis":0.568295,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e08079df-6c19-486e-916e-5c9948cfafea'"}},{"result":{"nanos":486496,"millis":0.486496,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":479197,"millis":0.479197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":460697,"millis":0.460697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1218990,"millis":1.21899,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":535996,"millis":0.535996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26199,"millis":0.026199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":345998,"millis":0.345998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":349897,"millis":0.349897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":343897,"millis":0.343897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98299,"millis":0.098299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":131199,"millis":0.131199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.708 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":372597,"millis":0.372597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90099,"millis":0.090099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.709 [print] #notpresent \n"},{"result":{"nanos":494196,"millis":0.494196,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108999,"millis":0.108999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.709 [print] OGC:WFS \n"},{"result":{"nanos":75399,"millis":0.075399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":151299,"millis":0.151299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.710 [print] #notpresent \n"},{"result":{"nanos":466996,"millis":0.466996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.710 [print] Beheer PDOK \n"},{"result":{"nanos":82699,"millis":0.082699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.710 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":427297,"millis":0.427297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":540196,"millis":0.540196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301498,"millis":0.301498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e08079df-6c19-486e-916e-5c9948cfafea\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":902.490736,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e08079df-6c19-486e-916e-5c9948cfafea","startTime":1632027545808,"refId":"[1.147:67]","endTime":1632027546712,"exampleData":{"datasetIdentifierCode":"e08079df-6c19-486e-916e-5c9948cfafea"},"exampleIndex":146},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.088 karate.env system property was: null \n"},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49599,"millis":0.049599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":289498,"millis":0.289498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41699,"millis":0.041699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375297,"millis":0.375297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79899,"millis":0.079899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":90400,"millis":0.0904,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864802435,"millis":864.802435,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":454597,"millis":0.454597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '73286af2-d0f4-4a62-9455-86ffa45ef279'"}},{"result":{"nanos":378697,"millis":0.378697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":341098,"millis":0.341098,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":3773670,"millis":3.77367,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":507796,"millis":0.507796,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":366598,"millis":0.366598,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":297298,"millis":0.297298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1887285,"millis":1.887285,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370297,"millis":0.370297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":130599,"millis":0.130599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":128099,"millis":0.128099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:06.964 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wfs\/zoutvelden_en_productieputten?service=WFS&request=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":338698,"millis":0.338698,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":80999,"millis":0.080999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:06.964 [print] #notpresent \n"},{"result":{"nanos":310498,"millis":0.310498,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97400,"millis":0.0974,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:06.965 [print] OGC:WFS \n"},{"result":{"nanos":29199,"millis":0.029199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:06.965 [print] #notpresent \n"},{"result":{"nanos":423696,"millis":0.423696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":59700,"millis":0.0597,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:06.965 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":68699,"millis":0.068699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:06.965 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":365597,"millis":0.365597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":634195,"millis":0.634195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":293098,"millis":0.293098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"73286af2-d0f4-4a62-9455-86ffa45ef279\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.35434,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"73286af2-d0f4-4a62-9455-86ffa45ef279","startTime":1632027546088,"refId":"[1.148:67]","endTime":1632027546967,"exampleData":{"datasetIdentifierCode":"73286af2-d0f4-4a62-9455-86ffa45ef279"},"exampleIndex":147},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.262 karate.env system property was: null \n"},{"result":{"nanos":29699,"millis":0.029699,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50199,"millis":0.050199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":249498,"millis":0.249498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":423797,"millis":0.423797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32099,"millis":0.032099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104699,"millis":0.104699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":160899,"millis":0.160899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860617569,"millis":860.617569,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":685595,"millis":0.685595,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '88a93a3b-d522-4c5d-9b0f-c6c39a118442'"}},{"result":{"nanos":648995,"millis":0.648995,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":655194,"millis":0.655194,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":589196,"millis":0.589196,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":619895,"millis":0.619895,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":554295,"millis":0.554295,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":512096,"millis":0.512096,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":414896,"millis":0.414896,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":409797,"millis":0.409797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":102799,"millis":0.102799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1080891,"millis":1.080891,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.130 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/su-vector\/wms?&request=GetCapabilities&service=WMS \n"},{"result":{"nanos":420497,"millis":0.420497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":88199,"millis":0.088199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.131 [print] #notpresent \n"},{"result":{"nanos":662295,"millis":0.662295,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81899,"millis":0.081899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.132 [print] OGC:WMS \n"},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":59299,"millis":0.059299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.132 [print] #notpresent \n"},{"result":{"nanos":776494,"millis":0.776494,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99899,"millis":0.099899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.133 [print] Beheer PDOK \n"},{"result":{"nanos":982092,"millis":0.982092,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.134 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=10d1153e-778f-4995-9b6c-7c69b196cccb#MD_DataIdentification \n"},{"result":{"nanos":636395,"millis":0.636395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":652995,"millis":0.652995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330697,"millis":0.330697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"88a93a3b-d522-4c5d-9b0f-c6c39a118442\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.961469,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"88a93a3b-d522-4c5d-9b0f-c6c39a118442","startTime":1632027546262,"refId":"[1.149:67]","endTime":1632027547136,"exampleData":{"datasetIdentifierCode":"88a93a3b-d522-4c5d-9b0f-c6c39a118442"},"exampleIndex":148},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.458 karate.env system property was: null \n"},{"result":{"nanos":29599,"millis":0.029599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52799,"millis":0.052799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":269398,"millis":0.269398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41700,"millis":0.0417,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":467396,"millis":0.467396,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34099,"millis":0.034099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93800,"millis":0.0938,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":191798,"millis":0.191798,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858037489,"millis":858.037489,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":527996,"millis":0.527996,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '070014b4-1f63-4819-beea-000b7d5f8d86'"}},{"result":{"nanos":377097,"millis":0.377097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":521795,"millis":0.521795,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":550496,"millis":0.550496,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":379797,"millis":0.379797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":331297,"millis":0.331297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":329297,"millis":0.329297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":337697,"millis":0.337697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":264998,"millis":0.264998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":195999,"millis":0.195999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.322 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":482996,"millis":0.482996,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":93300,"millis":0.0933,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.323 [print] #notpresent \n"},{"result":{"nanos":582096,"millis":0.582096,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":68899,"millis":0.068899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.324 [print] INSPIRE Atom \n"},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":397597,"millis":0.397597,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.324 [print] #notpresent \n"},{"result":{"nanos":357097,"millis":0.357097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104599,"millis":0.104599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.325 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":128699,"millis":0.128699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.325 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":379597,"millis":0.379597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":597295,"millis":0.597295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":497896,"millis":0.497896,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"070014b4-1f63-4819-beea-000b7d5f8d86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.008318,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"070014b4-1f63-4819-beea-000b7d5f8d86","startTime":1632027546458,"refId":"[1.150:67]","endTime":1632027547328,"exampleData":{"datasetIdentifierCode":"070014b4-1f63-4819-beea-000b7d5f8d86"},"exampleIndex":149},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.713 karate.env system property was: null \n"},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46899,"millis":0.046899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":196198,"millis":0.196198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":57200,"millis":0.0572,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":386297,"millis":0.386297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":96199,"millis":0.096199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85100,"millis":0.0851,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849338658,"millis":849.338658,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":480796,"millis":0.480796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e5ef707f-6458-4567-8d2c-d24fe88ab5e9'"}},{"result":{"nanos":473296,"millis":0.473296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":500696,"millis":0.500696,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":510996,"millis":0.510996,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":500596,"millis":0.500596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":433097,"millis":0.433097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":309198,"millis":0.309198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":284897,"millis":0.284897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1194091,"millis":1.194091,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":400297,"millis":0.400297,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":296698,"millis":0.296698,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.570 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/zoutvelden_en_productieputten?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":428997,"millis":0.428997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":258098,"millis":0.258098,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.570 [print] #notpresent \n"},{"result":{"nanos":394097,"millis":0.394097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":290298,"millis":0.290298,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.571 [print] OGC:WMS \n"},{"result":{"nanos":37199,"millis":0.037199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":166799,"millis":0.166799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.571 [print] #notpresent \n"},{"result":{"nanos":459296,"millis":0.459296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":157699,"millis":0.157699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.572 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":146299,"millis":0.146299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.572 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=e3b0da1e-0664-4025-b3f5-a54d74a26450&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":474297,"millis":0.474297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":772093,"millis":0.772093,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328898,"millis":0.328898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e5ef707f-6458-4567-8d2c-d24fe88ab5e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.728879,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9","startTime":1632027546713,"refId":"[1.151:67]","endTime":1632027547574,"exampleData":{"datasetIdentifierCode":"e5ef707f-6458-4567-8d2c-d24fe88ab5e9"},"exampleIndex":150},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:06.969 karate.env system property was: null \n"},{"result":{"nanos":29599,"millis":0.029599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66599,"millis":0.066599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":226398,"millis":0.226398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":347297,"millis":0.347297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69399,"millis":0.069399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49499,"millis":0.049499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853864822,"millis":853.864822,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":507296,"millis":0.507296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '77971fa3-f869-4726-969a-482e0b1a8c5d'"}},{"result":{"nanos":418397,"millis":0.418397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":313998,"millis":0.313998,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":315097,"millis":0.315097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":370797,"millis":0.370797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":335598,"millis":0.335598,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25299,"millis":0.025299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":267398,"millis":0.267398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":262298,"millis":0.262298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":255698,"millis":0.255698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79599,"millis":0.079599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":649195,"millis":0.649195,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.827 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":391997,"millis":0.391997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72299,"millis":0.072299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.828 [print] INSPIRE Atom \n"},{"result":{"nanos":428197,"millis":0.428197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.829 [print] #notpresent \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":89699,"millis":0.089699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:07.829 [print] INSPIRE Atom \n"},{"result":{"nanos":486596,"millis":0.486596,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104299,"millis":0.104299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:07.830 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":82999,"millis":0.082999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:07.830 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":755694,"millis":0.755694,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":895993,"millis":0.895993,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":444196,"millis":0.444196,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"77971fa3-f869-4726-969a-482e0b1a8c5d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.506152,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"77971fa3-f869-4726-969a-482e0b1a8c5d","startTime":1632027546969,"refId":"[1.152:67]","endTime":1632027547832,"exampleData":{"datasetIdentifierCode":"77971fa3-f869-4726-969a-482e0b1a8c5d"},"exampleIndex":151},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.138 karate.env system property was: null \n"},{"result":{"nanos":49800,"millis":0.0498,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51199,"millis":0.051199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":268398,"millis":0.268398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":437496,"millis":0.437496,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":80100,"millis":0.0801,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":109300,"millis":0.1093,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15299,"millis":0.015299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":56499,"millis":0.056499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855096412,"millis":855.096412,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":406097,"millis":0.406097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4485d59-a945-4940-a2f5-3ce7de6a947b'"}},{"result":{"nanos":363897,"millis":0.363897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":328097,"millis":0.328097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":345598,"millis":0.345598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":389097,"millis":0.389097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":342198,"millis":0.342198,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":272198,"millis":0.272198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":265398,"millis":0.265398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":283998,"millis":0.283998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89500,"millis":0.0895,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":550395,"millis":0.550395,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:07.998 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":319898,"millis":0.319898,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84599,"millis":0.084599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:07.999 [print] #notpresent \n"},{"result":{"nanos":547496,"millis":0.547496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:07.999 [print] OGC:WFS \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":460796,"millis":0.460796,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.000 [print] #notpresent \n"},{"result":{"nanos":422996,"millis":0.422996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65300,"millis":0.0653,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.000 [print] RIVM \n"},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.000 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b3f66964-a8c1-456f-9799-9cafca2cb7b1 \n"},{"result":{"nanos":877693,"millis":0.877693,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":637395,"millis":0.637395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":468997,"millis":0.468997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4485d59-a945-4940-a2f5-3ce7de6a947b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.030446,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b4485d59-a945-4940-a2f5-3ce7de6a947b","startTime":1632027547137,"refId":"[1.153:67]","endTime":1632027548002,"exampleData":{"datasetIdentifierCode":"b4485d59-a945-4940-a2f5-3ce7de6a947b"},"exampleIndex":152},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.330 karate.env system property was: null \n"},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50199,"millis":0.050199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":198698,"millis":0.198698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52500,"millis":0.0525,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":359597,"millis":0.359597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":66999,"millis":0.066999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31199,"millis":0.031199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":564595,"millis":0.564595,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852081036,"millis":852.081036,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":473796,"millis":0.473796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5'"}},{"result":{"nanos":349197,"millis":0.349197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":339498,"millis":0.339498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":331597,"millis":0.331597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":396797,"millis":0.396797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":484797,"millis":0.484797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26299,"millis":0.026299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":340798,"millis":0.340798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":368598,"millis":0.368598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":425897,"millis":0.425897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":58299,"millis":0.058299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":417097,"millis":0.417097,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.188 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":382097,"millis":0.382097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":227898,"millis":0.227898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.189 [print] OGC:WFS \n"},{"result":{"nanos":328697,"millis":0.328697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108499,"millis":0.108499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.189 [print] INSPIRE Atom \n"},{"result":{"nanos":48999,"millis":0.048999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":159499,"millis":0.159499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.190 [print] OGC:WFS \n"},{"result":{"nanos":359997,"millis":0.359997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":78599,"millis":0.078599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.190 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.190 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e1e99000-ec47-4e9f-84a5-adad24fef0dc#MD_DataIdentification \n"},{"result":{"nanos":551396,"millis":0.551396,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":651694,"millis":0.651694,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":294598,"millis":0.294598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.874766,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5","startTime":1632027547330,"refId":"[1.154:67]","endTime":1632027548192,"exampleData":{"datasetIdentifierCode":"5d3fc8f8-5cb4-42e2-8f9b-62c147f36cc5"},"exampleIndex":153},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.576 karate.env system property was: null \n"},{"result":{"nanos":31699,"millis":0.031699,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89799,"millis":0.089799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":252898,"millis":0.252898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":60399,"millis":0.060399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":438997,"millis":0.438997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":212799,"millis":0.212799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17499,"millis":0.017499,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847347273,"millis":847.347273,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":448597,"millis":0.448597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9fd2324b-9e02-4eab-bd4a-8e2be4fcd545'"}},{"result":{"nanos":380397,"millis":0.380397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":503296,"millis":0.503296,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":338398,"millis":0.338398,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":419796,"millis":0.419796,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":335697,"millis":0.335697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":393297,"millis":0.393297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":290397,"millis":0.290397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":281998,"millis":0.281998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":409597,"millis":0.409597,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":214598,"millis":0.214598,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.429 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wfs? \n"},{"result":{"nanos":307397,"millis":0.307397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102200,"millis":0.1022,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.430 [print] #notpresent \n"},{"result":{"nanos":316498,"millis":0.316498,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97899,"millis":0.097899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.430 [print] OGC:WFS \n"},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78899,"millis":0.078899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.430 [print] #notpresent \n"},{"result":{"nanos":376697,"millis":0.376697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102999,"millis":0.102999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.431 [print] RIVM \n"},{"result":{"nanos":113499,"millis":0.113499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.431 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":397997,"millis":0.397997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":939592,"millis":0.939592,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":303798,"millis":0.303798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.877006,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545","startTime":1632027547576,"refId":"[1.155:67]","endTime":1632027548433,"exampleData":{"datasetIdentifierCode":"9fd2324b-9e02-4eab-bd4a-8e2be4fcd545"},"exampleIndex":154},{"sectionIndex":0,"stepResults":[{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:07.834 karate.env system property was: null \n"},{"result":{"nanos":32100,"millis":0.0321,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":57399,"millis":0.057399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":333697,"millis":0.333697,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":407397,"millis":0.407397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":121199,"millis":0.121199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":115699,"millis":0.115699,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10000,"millis":0.01,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54499,"millis":0.054499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849252259,"millis":849.252259,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":462496,"millis":0.462496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dda53ebc-bee7-4765-8f1f-6ac59b0aec39'"}},{"result":{"nanos":507296,"millis":0.507296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":327197,"millis":0.327197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":330297,"millis":0.330297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":376697,"millis":0.376697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":362697,"millis":0.362697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":285198,"millis":0.285198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":263198,"millis":0.263198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":417696,"millis":0.417696,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85299,"millis":0.085299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":693195,"millis":0.693195,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.689 [print] https:\/\/www.broinspireservices.nl\/wms\/ossobor-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":302897,"millis":0.302897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.690 [print] #notpresent \n"},{"result":{"nanos":500396,"millis":0.500396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62399,"millis":0.062399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.691 [print] OGC:WMS \n"},{"result":{"nanos":233198,"millis":0.233198,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.691 [print] #notpresent \n"},{"result":{"nanos":559795,"millis":0.559795,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.692 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":292497,"millis":0.292497,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.692 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":799694,"millis":0.799694,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":562595,"millis":0.562595,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":310398,"millis":0.310398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dda53ebc-bee7-4765-8f1f-6ac59b0aec39\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.541284,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39","startTime":1632027547834,"refId":"[1.156:67]","endTime":1632027548694,"exampleData":{"datasetIdentifierCode":"dda53ebc-bee7-4765-8f1f-6ac59b0aec39"},"exampleIndex":155},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.004 karate.env system property was: null \n"},{"result":{"nanos":30099,"millis":0.030099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50599,"millis":0.050599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243998,"millis":0.243998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":377397,"millis":0.377397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68699,"millis":0.068699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74799,"millis":0.074799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66299,"millis":0.066299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842738310,"millis":842.73831,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2600,"millis":0.0026,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":682494,"millis":0.682494,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a299a4af-ccd8-4d32-b1fb-ffab77b32e0e'"}},{"result":{"nanos":467997,"millis":0.467997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":546095,"millis":0.546095,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":474896,"millis":0.474896,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":445797,"millis":0.445797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":441496,"millis":0.441496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":295997,"millis":0.295997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":265398,"millis":0.265398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":274698,"millis":0.274698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":98799,"millis":0.098799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90799,"millis":0.090799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:08.853 [print] https:\/\/www.broinspireservices.nl\/wfs\/osgegmw-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":939693,"millis":0.939693,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85299,"millis":0.085299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:08.854 [print] #notpresent \n"},{"result":{"nanos":640095,"millis":0.640095,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":95299,"millis":0.095299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:08.855 [print] OGC:WFS \n"},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":392297,"millis":0.392297,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:08.855 [print] #notpresent \n"},{"result":{"nanos":450297,"millis":0.450297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83299,"millis":0.083299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:08.856 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":468496,"millis":0.468496,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:08.856 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=f99e915a-75e5-4c36-97f2-61eff692d85b&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":873893,"millis":0.873893,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":559796,"millis":0.559796,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":410696,"millis":0.410696,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":853.050626,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e","startTime":1632027548004,"refId":"[1.157:67]","endTime":1632027548858,"exampleData":{"datasetIdentifierCode":"a299a4af-ccd8-4d32-b1fb-ffab77b32e0e"},"exampleIndex":156},{"sectionIndex":0,"stepResults":[{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.196 karate.env system property was: null \n"},{"result":{"nanos":63899,"millis":0.063899,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66899,"millis":0.066899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":322098,"millis":0.322098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43799,"millis":0.043799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":458097,"millis":0.458097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":67399,"millis":0.067399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74899,"millis":0.074899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":428396,"millis":0.428396,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":10400,"millis":0.0104,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849323558,"millis":849.323558,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2100,"millis":0.0021,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":507296,"millis":0.507296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '018a28a5-1019-4747-b031-f66ffc1c6ae7'"}},{"result":{"nanos":530295,"millis":0.530295,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":591796,"millis":0.591796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":551595,"millis":0.551595,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":570295,"millis":0.570295,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":478997,"millis":0.478997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25799,"millis":0.025799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":345697,"millis":0.345697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":355798,"millis":0.355798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":400597,"millis":0.400597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79500,"millis":0.0795,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127499,"millis":0.127499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.052 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-ro\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1059792,"millis":1.059792,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":157099,"millis":0.157099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.053 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":934593,"millis":0.934593,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93099,"millis":0.093099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.054 [print] #notpresent \n"},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":462897,"millis":0.462897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.055 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1031992,"millis":1.031992,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94900,"millis":0.0949,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.056 [print] Beheer PDOK \n"},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.056 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-cb527d-f6db-4835-b0cd-deb245241254#MD_DataIdentification \n"},{"result":{"nanos":1302890,"millis":1.30289,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":639594,"millis":0.639594,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339198,"millis":0.339198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"018a28a5-1019-4747-b031-f66ffc1c6ae7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.799262,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"018a28a5-1019-4747-b031-f66ffc1c6ae7","startTime":1632027548195,"refId":"[1.158:67]","endTime":1632027549058,"exampleData":{"datasetIdentifierCode":"018a28a5-1019-4747-b031-f66ffc1c6ae7"},"exampleIndex":157},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.434 karate.env system property was: null \n"},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49999,"millis":0.049999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":200198,"millis":0.200198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368697,"millis":0.368697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32499,"millis":0.032499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":78800,"millis":0.0788,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":92800,"millis":0.0928,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64999,"millis":0.064999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845090892,"millis":845.090892,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":470397,"millis":0.470397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5471a93b-cf18-43f5-9ddb-71987857435d'"}},{"result":{"nanos":427397,"millis":0.427397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":399297,"millis":0.399297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":364497,"millis":0.364497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":455696,"millis":0.455696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":364197,"millis":0.364197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":349497,"millis":0.349497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":349097,"millis":0.349097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":310498,"millis":0.310498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83999,"millis":0.083999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":148999,"millis":0.148999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.285 [print] https:\/\/www.broinspireservices.nl\/wfs\/oshhgqm-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":2000384,"millis":2.000384,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":124999,"millis":0.124999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.287 [print] #notpresent \n"},{"result":{"nanos":434097,"millis":0.434097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":88799,"millis":0.088799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.287 [print] OGC:WFS \n"},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83499,"millis":0.083499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.288 [print] #notpresent \n"},{"result":{"nanos":584095,"millis":0.584095,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77900,"millis":0.0779,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.288 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":79199,"millis":0.079199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.288 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":424497,"millis":0.424497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":855694,"millis":0.855694,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":437596,"millis":0.437596,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5471a93b-cf18-43f5-9ddb-71987857435d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.129314,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"5471a93b-cf18-43f5-9ddb-71987857435d","startTime":1632027548434,"refId":"[1.159:67]","endTime":1632027549290,"exampleData":{"datasetIdentifierCode":"5471a93b-cf18-43f5-9ddb-71987857435d"},"exampleIndex":158},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.696 karate.env system property was: null \n"},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48199,"millis":0.048199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":203098,"millis":0.203098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371497,"millis":0.371497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32199,"millis":0.032199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":55100,"millis":0.0551,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":261398,"millis":0.261398,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52700,"millis":0.0527,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857522593,"millis":857.522593,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433797,"millis":0.433797,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e264c1e4-90fe-4968-bbf2-7019f6095348'"}},{"result":{"nanos":411097,"millis":0.411097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":352497,"millis":0.352497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":360497,"millis":0.360497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":409096,"millis":0.409096,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":506396,"millis":0.506396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":374297,"millis":0.374297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":298897,"millis":0.298897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":399797,"millis":0.399797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":103899,"millis":0.103899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":259198,"millis":0.259198,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.559 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegenetmaal\/v1\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":500896,"millis":0.500896,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":134999,"millis":0.134999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.560 [print] OGC:WFS \n"},{"result":{"nanos":350797,"millis":0.350797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75599,"millis":0.075599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.560 [print] #notpresent \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":110699,"millis":0.110699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.560 [print] OGC:WFS \n"},{"result":{"nanos":590095,"millis":0.590095,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80899,"millis":0.080899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.561 [print] Beheer PDOK \n"},{"result":{"nanos":102000,"millis":0.102,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.561 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c3c004ad-5387-4b00-a225-9afbcaa5d31b#MD_DataIdentification \n"},{"result":{"nanos":470297,"millis":0.470297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":638495,"millis":0.638495,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2512181,"millis":2.512181,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e264c1e4-90fe-4968-bbf2-7019f6095348\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.310109,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"e264c1e4-90fe-4968-bbf2-7019f6095348","startTime":1632027548695,"refId":"[1.160:67]","endTime":1632027549565,"exampleData":{"datasetIdentifierCode":"e264c1e4-90fe-4968-bbf2-7019f6095348"},"exampleIndex":159},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35599,"millis":0.035599,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:08.860 karate.env system property was: null \n"},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49400,"millis":0.0494,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65899,"millis":0.065899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":206898,"millis":0.206898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336697,"millis":0.336697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79299,"millis":0.079299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51799,"millis":0.051799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847960569,"millis":847.960569,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1558488,"millis":1.558488,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49ff0584-a173-4098-824c-119edf8447f7'"}},{"result":{"nanos":652895,"millis":0.652895,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":463297,"millis":0.463297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":382797,"millis":0.382797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":607395,"millis":0.607395,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":495296,"millis":0.495296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":99300,"millis":0.0993,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390996,"millis":0.390996,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":396897,"millis":0.396897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":479396,"millis":0.479396,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121299,"millis":0.121299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":213599,"millis":0.213599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.716 [print] https:\\\/\\\/services.rce.geovoorziening.nl\\\/rce\\\/wms? \n"},{"result":{"nanos":833494,"millis":0.833494,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":157698,"millis":0.157698,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.717 [print] #notpresent \n"},{"result":{"nanos":747394,"millis":0.747394,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":154999,"millis":0.154999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.718 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":393497,"millis":0.393497,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":164299,"millis":0.164299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.719 [print] #notpresent \n"},{"result":{"nanos":743294,"millis":0.743294,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":196599,"millis":0.196599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.720 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":937692,"millis":0.937692,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.721 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":1848485,"millis":1.848485,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":538296,"millis":0.538296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":407597,"millis":0.407597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"49ff0584-a173-4098-824c-119edf8447f7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.929959,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"49ff0584-a173-4098-824c-119edf8447f7","startTime":1632027548860,"refId":"[1.161:67]","endTime":1632027549724,"exampleData":{"datasetIdentifierCode":"49ff0584-a173-4098-824c-119edf8447f7"},"exampleIndex":160},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.061 karate.env system property was: null \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64099,"millis":0.064099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68199,"millis":0.068199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":215899,"millis":0.215899,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42899,"millis":0.042899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":427897,"millis":0.427897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49099,"millis":0.049099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70200,"millis":0.0702,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16599,"millis":0.016599,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a914681-61bd-4f67-902b-45037a00c469'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":840108632,"millis":840.108632,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1501588,"millis":1.501588,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a914681-61bd-4f67-902b-45037a00c469'"}},{"result":{"nanos":681895,"millis":0.681895,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":482896,"millis":0.482896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":415797,"millis":0.415797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":768994,"millis":0.768994,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":588496,"millis":0.588496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":91099,"millis":0.091099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":489996,"millis":0.489996,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":485296,"millis":0.485296,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":440196,"millis":0.440196,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118399,"millis":0.118399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":206399,"millis":0.206399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:09.909 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn2\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":855793,"millis":0.855793,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":188698,"millis":0.188698,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:09.910 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":536296,"millis":0.536296,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":115899,"millis":0.115899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:09.910 [print] #notpresent \n"},{"result":{"nanos":78899,"millis":0.078899,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":154599,"millis":0.154599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:09.911 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":433496,"millis":0.433496,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":117199,"millis":0.117199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:09.911 [print] Beheer PDOK \n"},{"result":{"nanos":151299,"millis":0.151299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:09.911 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=7939fd42-cf88-42c5-ab3b-232cf232a3ac#MD_DataIdentification \n"},{"result":{"nanos":651395,"millis":0.651395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":619295,"millis":0.619295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":472196,"millis":0.472196,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7a914681-61bd-4f67-902b-45037a00c469\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":851.852038,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"7a914681-61bd-4f67-902b-45037a00c469","startTime":1632027549060,"refId":"[1.162:67]","endTime":1632027549913,"exampleData":{"datasetIdentifierCode":"7a914681-61bd-4f67-902b-45037a00c469"},"exampleIndex":161},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18100,"millis":0.0181,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.292 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59999,"millis":0.059999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311997,"millis":0.311997,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":556595,"millis":0.556595,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":89999,"millis":0.089999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17199,"millis":0.017199,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":84500,"millis":0.0845,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845277991,"millis":845.277991,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":650395,"millis":0.650395,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7681eb19-a914-4dc7-9208-c2a131dca06d'"}},{"result":{"nanos":472596,"millis":0.472596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":441397,"millis":0.441397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":511496,"millis":0.511496,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":690494,"millis":0.690494,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":573995,"millis":0.573995,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390396,"millis":0.390396,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":463897,"millis":0.463897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":431696,"millis":0.431696,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":130499,"millis":0.130499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":474196,"millis":0.474196,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.145 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/kaderrichtlijnwater2015\\\/wms\\\/v1_0?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":624195,"millis":0.624195,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":250898,"millis":0.250898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.146 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":483996,"millis":0.483996,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":210398,"millis":0.210398,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.146 [print] #notpresent \n"},{"result":{"nanos":84000,"millis":0.084,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":183898,"millis":0.183898,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.147 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":438597,"millis":0.438597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":197498,"millis":0.197498,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.147 [print] Beheer PDOK \n"},{"result":{"nanos":294698,"millis":0.294698,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.148 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":465297,"millis":0.465297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":434896,"millis":0.434896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308998,"millis":0.308998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7681eb19-a914-4dc7-9208-c2a131dca06d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.920806,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7681eb19-a914-4dc7-9208-c2a131dca06d","startTime":1632027549292,"refId":"[1.163:67]","endTime":1632027550149,"exampleData":{"datasetIdentifierCode":"7681eb19-a914-4dc7-9208-c2a131dca06d"},"exampleIndex":162},{"sectionIndex":0,"stepResults":[{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.569 karate.env system property was: null \n"},{"result":{"nanos":33299,"millis":0.033299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68599,"millis":0.068599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243098,"millis":0.243098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":339297,"millis":0.339297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":4717362,"millis":4.717362,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70899,"millis":0.070899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":882204297,"millis":882.204297,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":575096,"millis":0.575096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd69fee4a-e3ff-47d4-919d-e55276a3fad9'"}},{"result":{"nanos":434697,"millis":0.434697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":485796,"millis":0.485796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":501096,"millis":0.501096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":638795,"millis":0.638795,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":859393,"millis":0.859393,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84299,"millis":0.084299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":393597,"millis":0.393597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":380297,"millis":0.380297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":395097,"millis":0.395097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":117099,"millis":0.117099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":165998,"millis":0.165998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.482 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":570096,"millis":0.570096,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":413596,"millis":0.413596,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.483 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":495796,"millis":0.495796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":207899,"millis":0.207899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.483 [print] #notpresent \n"},{"result":{"nanos":88300,"millis":0.0883,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":211398,"millis":0.211398,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.484 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":484796,"millis":0.484796,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":124099,"millis":0.124099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.484 [print] Beheer PDOK \n"},{"result":{"nanos":167699,"millis":0.167699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.485 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n"},{"result":{"nanos":432096,"millis":0.432096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":475296,"millis":0.475296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":379597,"millis":0.379597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d69fee4a-e3ff-47d4-919d-e55276a3fad9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":896.995279,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d69fee4a-e3ff-47d4-919d-e55276a3fad9","startTime":1632027549568,"refId":"[1.164:67]","endTime":1632027550486,"exampleData":{"datasetIdentifierCode":"d69fee4a-e3ff-47d4-919d-e55276a3fad9"},"exampleIndex":163},{"sectionIndex":0,"stepResults":[{"result":{"nanos":82500,"millis":0.0825,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.727 karate.env system property was: null \n"},{"result":{"nanos":43799,"millis":0.043799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":218399,"millis":0.218399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":154699,"millis":0.154699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286998,"millis":0.286998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":163498,"millis":0.163498,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396397,"millis":0.396397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":95499,"millis":0.095499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":175199,"millis":0.175199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":56399,"millis":0.056399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30900,"millis":0.0309,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29699,"millis":0.029699,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":44399,"millis":0.044399,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":867300416,"millis":867.300416,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":410496,"millis":0.410496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2dd6c9df-bb47-40eb-af39-2d17f09b9bb9'"}},{"result":{"nanos":396797,"millis":0.396797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":326397,"millis":0.326397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":309798,"millis":0.309798,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":360897,"millis":0.360897,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":317497,"millis":0.317497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":249598,"millis":0.249598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":254398,"millis":0.254398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":264698,"millis":0.264698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64199,"millis":0.064199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":596695,"millis":0.596695,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.600 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/oppervlaktegeologie?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":292298,"millis":0.292298,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83499,"millis":0.083499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.601 [print] #notpresent \n"},{"result":{"nanos":567795,"millis":0.567795,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1609288,"millis":1.609288,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.603 [print] OGC:WMS \n"},{"result":{"nanos":57099,"millis":0.057099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":421697,"millis":0.421697,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.603 [print] #notpresent \n"},{"result":{"nanos":610895,"millis":0.610895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87600,"millis":0.0876,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.604 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":628395,"millis":0.628395,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.605 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=80630ee7-3a15-4ea0-bdc0-a8aebfa2f204&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":337297,"millis":0.337297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":569295,"millis":0.569295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":330898,"millis":0.330898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.369327,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9","startTime":1632027549726,"refId":"[1.165:67]","endTime":1632027550606,"exampleData":{"datasetIdentifierCode":"2dd6c9df-bb47-40eb-af39-2d17f09b9bb9"},"exampleIndex":164},{"sectionIndex":0,"stepResults":[{"result":{"nanos":74500,"millis":0.0745,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:09.916 karate.env system property was: null \n"},{"result":{"nanos":42299,"millis":0.042299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138599,"millis":0.138599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":113199,"millis":0.113199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":289298,"millis":0.289298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":109299,"millis":0.109299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385797,"millis":0.385797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":80399,"millis":0.080399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":175499,"millis":0.175499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":72699,"millis":0.072699,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":33499,"millis":0.033499,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":28699,"millis":0.028699,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871638181,"millis":871.638181,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1543387,"millis":1.543387,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '55cf16e8-1c04-462c-b78a-e0d28823dd2e'"}},{"result":{"nanos":628795,"millis":0.628795,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":456497,"millis":0.456497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":462696,"millis":0.462696,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":829693,"millis":0.829693,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":736194,"millis":0.736194,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":424996,"millis":0.424996,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":404897,"millis":0.404897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":343697,"millis":0.343697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":127599,"millis":0.127599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":936193,"millis":0.936193,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:10.797 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":377297,"millis":0.377297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116899,"millis":0.116899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:10.798 [print] #notpresent \n"},{"result":{"nanos":424097,"millis":0.424097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94599,"millis":0.094599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:10.799 [print] #notpresent \n"},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":90299,"millis":0.090299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:10.799 [print] #notpresent \n"},{"result":{"nanos":428797,"millis":0.428797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":116999,"millis":0.116999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:10.800 [print] KNMI \n"},{"result":{"nanos":92599,"millis":0.092599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:10.800 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":434297,"millis":0.434297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":535995,"millis":0.535995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":305298,"millis":0.305298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"55cf16e8-1c04-462c-b78a-e0d28823dd2e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":883.318787,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"55cf16e8-1c04-462c-b78a-e0d28823dd2e","startTime":1632027549916,"refId":"[1.166:67]","endTime":1632027550802,"exampleData":{"datasetIdentifierCode":"55cf16e8-1c04-462c-b78a-e0d28823dd2e"},"exampleIndex":165},{"sectionIndex":0,"stepResults":[{"result":{"nanos":69300,"millis":0.0693,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.151 karate.env system property was: null \n"},{"result":{"nanos":38799,"millis":0.038799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116899,"millis":0.116899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108399,"millis":0.108399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":252198,"millis":0.252198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107399,"millis":0.107399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":364497,"millis":0.364497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":116899,"millis":0.116899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":59999,"millis":0.059999,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38600,"millis":0.0386,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bm72cf8_'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27899,"millis":0.027899,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850770647,"millis":850.770647,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":527696,"millis":0.527696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bm72cf8_'"}},{"result":{"nanos":344397,"millis":0.344397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":323797,"millis":0.323797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":318998,"millis":0.318998,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1172891,"millis":1.172891,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":523896,"millis":0.523896,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":370397,"millis":0.370397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":285597,"millis":0.285597,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":287798,"millis":0.287798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83599,"millis":0.083599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":761194,"millis":0.761194,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.009 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.504afbe6-0069-411b-b69b-2aae3728f735_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":329997,"millis":0.329997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83600,"millis":0.0836,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.010 [print] #notpresent \n"},{"result":{"nanos":667194,"millis":0.667194,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75700,"millis":0.0757,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.010 [print] #notpresent \n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":270898,"millis":0.270898,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.011 [print] #notpresent \n"},{"result":{"nanos":681195,"millis":0.681195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85399,"millis":0.085399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.012 [print] Rijkswaterstaat \n"},{"result":{"nanos":620295,"millis":0.620295,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.012 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":351297,"millis":0.351297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":518196,"millis":0.518196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bm72cf8_\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":286097,"millis":0.286097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bm72cf8_\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.292063,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-83730-e750-485a-9c0c-39bf9bm72cf8_","startTime":1632027550151,"refId":"[1.167:67]","endTime":1632027551013,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bm72cf8_"},"exampleIndex":166},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53799,"millis":0.053799,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.488 karate.env system property was: null \n"},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":138199,"millis":0.138199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":133099,"millis":0.133099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":264498,"millis":0.264498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":140399,"millis":0.140399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":382197,"millis":0.382197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":174899,"millis":0.174899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":182298,"millis":0.182298,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":85399,"millis":0.085399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":118099,"millis":0.118099,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":39199,"millis":0.039199,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858319766,"millis":858.319766,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":531496,"millis":0.531496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c3ee15e4-38bf-4d54-9c0b-cfe0e609d448'"}},{"result":{"nanos":749395,"millis":0.749395,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":506196,"millis":0.506196,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":730995,"millis":0.730995,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":602596,"millis":0.602596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":494497,"millis":0.494497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":344697,"millis":0.344697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":341898,"millis":0.341898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":353597,"millis":0.353597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":154899,"millis":0.154899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.354 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn1\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":418597,"millis":0.418597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.354 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":405397,"millis":0.405397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":111099,"millis":0.111099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.355 [print] #notpresent \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":59199,"millis":0.059199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.355 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":486697,"millis":0.486697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85999,"millis":0.085999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.356 [print] Beheer PDOK \n"},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.356 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n"},{"result":{"nanos":497296,"millis":0.497296,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":512096,"millis":0.512096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":287698,"millis":0.287698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.162795,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448","startTime":1632027550488,"refId":"[1.168:67]","endTime":1632027551357,"exampleData":{"datasetIdentifierCode":"c3ee15e4-38bf-4d54-9c0b-cfe0e609d448"},"exampleIndex":167},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.608 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44799,"millis":0.044799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":214798,"millis":0.214798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":76299,"millis":0.076299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2530280,"millis":2.53028,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":292897,"millis":0.292897,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":107100,"millis":0.1071,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feabca04-e3fd-4802-96f2-583d328e30ad'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852560012,"millis":852.560012,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":378997,"millis":0.378997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feabca04-e3fd-4802-96f2-583d328e30ad'"}},{"result":{"nanos":501097,"millis":0.501097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":382397,"millis":0.382397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":365897,"millis":0.365897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":352498,"millis":0.352498,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1542189,"millis":1.542189,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":36199,"millis":0.036199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":297898,"millis":0.297898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281398,"millis":0.281398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":257498,"millis":0.257498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":121399,"millis":0.121399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":102300,"millis":0.1023,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.469 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2018\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":271698,"millis":0.271698,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85799,"millis":0.085799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.470 [print] OGC:WFS \n"},{"result":{"nanos":375097,"millis":0.375097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84299,"millis":0.084299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.470 [print] #notpresent \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.470 [print] OGC:WFS \n"},{"result":{"nanos":565196,"millis":0.565196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":95100,"millis":0.0951,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.471 [print] Beheer PDOK \n"},{"result":{"nanos":61799,"millis":0.061799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.471 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":387597,"millis":0.387597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":499897,"millis":0.499897,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":287098,"millis":0.287098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"feabca04-e3fd-4802-96f2-583d328e30ad\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.458032,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"feabca04-e3fd-4802-96f2-583d328e30ad","startTime":1632027550608,"refId":"[1.169:67]","endTime":1632027551472,"exampleData":{"datasetIdentifierCode":"feabca04-e3fd-4802-96f2-583d328e30ad"},"exampleIndex":168},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:10.804 karate.env system property was: null \n"},{"result":{"nanos":40299,"millis":0.040299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":55300,"millis":0.0553,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62599,"millis":0.062599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":255598,"millis":0.255598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":811294,"millis":0.811294,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74299,"millis":0.074299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":82099,"millis":0.082099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851405388,"millis":851.405388,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2500,"millis":0.0025,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":410397,"millis":0.410397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f57bdee7-4027-4aa2-8312-4051b854be3c'"}},{"result":{"nanos":508196,"millis":0.508196,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":398897,"millis":0.398897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":301498,"millis":0.301498,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":347198,"millis":0.347198,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":324397,"millis":0.324397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":236998,"millis":0.236998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":233599,"millis":0.233599,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":242498,"millis":0.242498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":81799,"millis":0.081799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":297298,"millis":0.297298,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.661 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":340598,"millis":0.340598,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":142699,"millis":0.142699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.661 [print] OGC:WMS \n"},{"result":{"nanos":422497,"millis":0.422497,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":60900,"millis":0.0609,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.662 [print] #notpresent \n"},{"result":{"nanos":28199,"millis":0.028199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":69799,"millis":0.069799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.662 [print] OGC:WMS \n"},{"result":{"nanos":543196,"millis":0.543196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77800,"millis":0.0778,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.663 [print] Beheer PDOK \n"},{"result":{"nanos":210598,"millis":0.210598,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.663 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":750495,"millis":0.750495,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":584896,"millis":0.584896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":308197,"millis":0.308197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f57bdee7-4027-4aa2-8312-4051b854be3c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.931025,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f57bdee7-4027-4aa2-8312-4051b854be3c","startTime":1632027550803,"refId":"[1.170:67]","endTime":1632027551665,"exampleData":{"datasetIdentifierCode":"f57bdee7-4027-4aa2-8312-4051b854be3c"},"exampleIndex":169},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.015 karate.env system property was: null \n"},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49199,"millis":0.049199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":197799,"millis":0.197799,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":86599,"millis":0.086599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":569895,"millis":0.569895,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106799,"millis":0.106799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22699,"millis":0.022699,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853488856,"millis":853.488856,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":490897,"millis":0.490897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7e4bc31-60c1-4b78-bef1-eed768ceafa0'"}},{"result":{"nanos":401998,"millis":0.401998,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":391197,"millis":0.391197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":397497,"millis":0.397497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":409897,"millis":0.409897,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":377097,"millis":0.377097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":287098,"millis":0.287098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":306798,"millis":0.306798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":297998,"millis":0.297998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64800,"millis":0.0648,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":121399,"millis":0.121399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:11.874 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":428197,"millis":0.428197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":84699,"millis":0.084699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:11.874 [print] #notpresent \n"},{"result":{"nanos":491796,"millis":0.491796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":131599,"millis":0.131599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:11.875 [print] #notpresent \n"},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":253998,"millis":0.253998,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:11.875 [print] #notpresent \n"},{"result":{"nanos":535096,"millis":0.535096,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:11.876 [print] KNMI \n"},{"result":{"nanos":102300,"millis":0.1023,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:11.876 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":505896,"millis":0.505896,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532996,"millis":0.532996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":375697,"millis":0.375697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a7e4bc31-60c1-4b78-bef1-eed768ceafa0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.928996,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0","startTime":1632027551015,"refId":"[1.171:67]","endTime":1632027551878,"exampleData":{"datasetIdentifierCode":"a7e4bc31-60c1-4b78-bef1-eed768ceafa0"},"exampleIndex":170},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.359 karate.env system property was: null \n"},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42399,"millis":0.042399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":191599,"millis":0.191599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":486597,"millis":0.486597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":54099,"millis":0.054099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64900,"millis":0.0649,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":91899,"millis":0.091899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":861312409,"millis":861.312409,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":573596,"millis":0.573596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '914a6e0c-2aae-42f8-8425-2a047c245dab'"}},{"result":{"nanos":447397,"millis":0.447397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":411997,"millis":0.411997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":462197,"millis":0.462197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":596296,"millis":0.596296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":414798,"millis":0.414798,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":317898,"millis":0.317898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":313198,"millis":0.313198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":317797,"millis":0.317797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":86100,"millis":0.0861,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":926793,"millis":0.926793,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.226 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":338898,"millis":0.338898,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":80899,"millis":0.080899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.227 [print] #notpresent \n"},{"result":{"nanos":614796,"millis":0.614796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81800,"millis":0.0818,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.228 [print] #notpresent \n"},{"result":{"nanos":308598,"millis":0.308598,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98299,"millis":0.098299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.228 [print] #notpresent \n"},{"result":{"nanos":560596,"millis":0.560596,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85800,"millis":0.0858,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.229 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":638696,"millis":0.638696,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.230 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":398097,"millis":0.398097,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":557996,"millis":0.557996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":299798,"millis":0.299798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"914a6e0c-2aae-42f8-8425-2a047c245dab\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.430042,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"914a6e0c-2aae-42f8-8425-2a047c245dab","startTime":1632027551359,"refId":"[1.172:67]","endTime":1632027552231,"exampleData":{"datasetIdentifierCode":"914a6e0c-2aae-42f8-8425-2a047c245dab"},"exampleIndex":171},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15499,"millis":0.015499,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.474 karate.env system property was: null \n"},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65499,"millis":0.065499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":206499,"millis":0.206499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36600,"millis":0.0366,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":335698,"millis":0.335698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73499,"millis":0.073499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54299,"millis":0.054299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845258423,"millis":845.258423,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":3700,"millis":0.0037,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":638896,"millis":0.638896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1e01d173-96f4-40b1-8236-c6a9cfdac252'"}},{"result":{"nanos":424797,"millis":0.424797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":355997,"millis":0.355997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":349298,"millis":0.349298,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":479896,"millis":0.479896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":366197,"millis":0.366197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":278198,"millis":0.278198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":274498,"millis":0.274498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309598,"millis":0.309598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":527596,"millis":0.527596,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":530296,"millis":0.530296,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.325 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":317398,"millis":0.317398,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":318298,"millis":0.318298,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.326 [print] #notpresent \n"},{"result":{"nanos":304497,"millis":0.304497,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":313798,"millis":0.313798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.326 [print] #notpresent \n"},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":299298,"millis":0.299298,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.327 [print] #notpresent \n"},{"result":{"nanos":353097,"millis":0.353097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":309798,"millis":0.309798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.327 [print] KNMI \n"},{"result":{"nanos":451497,"millis":0.451497,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.328 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.512633c0-2899-4f9d-b2d1-1bd51cb2315a\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":344597,"millis":0.344597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":508897,"millis":0.508897,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":303298,"millis":0.303298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1e01d173-96f4-40b1-8236-c6a9cfdac252\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.615656,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1e01d173-96f4-40b1-8236-c6a9cfdac252","startTime":1632027551474,"refId":"[1.173:67]","endTime":1632027552329,"exampleData":{"datasetIdentifierCode":"1e01d173-96f4-40b1-8236-c6a9cfdac252"},"exampleIndex":172},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.667 karate.env system property was: null \n"},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50099,"millis":0.050099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":210699,"millis":0.210699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37799,"millis":0.037799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":367698,"millis":0.367698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31799,"millis":0.031799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6299,"millis":0.006299,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":125499,"millis":0.125499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858570129,"millis":858.570129,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":477697,"millis":0.477697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a6098c24-4caf-4528-954c-672b9ec6cf78'"}},{"result":{"nanos":420697,"millis":0.420697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":412297,"millis":0.412297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":437397,"millis":0.437397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":495896,"millis":0.495896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":408897,"millis":0.408897,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":339898,"millis":0.339898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374998,"millis":0.374998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":402797,"millis":0.402797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":464296,"millis":0.464296,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":615396,"millis":0.615396,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.532 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":427997,"millis":0.427997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":340597,"millis":0.340597,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.532 [print] OGC:WMS \n"},{"result":{"nanos":537396,"millis":0.537396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":418297,"millis":0.418297,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.533 [print] #notpresent \n"},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":341897,"millis":0.341897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.534 [print] OGC:WMS \n"},{"result":{"nanos":494197,"millis":0.494197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":408597,"millis":0.408597,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.535 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":543496,"millis":0.543496,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.535 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=32a21114-8694-40ce-ab76-9dcd885c7861#MD_DataIdentification \n"},{"result":{"nanos":536196,"millis":0.536196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":544296,"millis":0.544296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":337698,"millis":0.337698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a6098c24-4caf-4528-954c-672b9ec6cf78\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.421251,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a6098c24-4caf-4528-954c-672b9ec6cf78","startTime":1632027551666,"refId":"[1.174:67]","endTime":1632027552537,"exampleData":{"datasetIdentifierCode":"a6098c24-4caf-4528-954c-672b9ec6cf78"},"exampleIndex":173},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:11.880 karate.env system property was: null \n"},{"result":{"nanos":28099,"millis":0.028099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":193698,"millis":0.193698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":318798,"millis":0.318798,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29099,"millis":0.029099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":126599,"millis":0.126599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd0b60508-5bf5-4360-b34a-875f10a9a711'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848771798,"millis":848.771798,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":658595,"millis":0.658595,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd0b60508-5bf5-4360-b34a-875f10a9a711'"}},{"result":{"nanos":294398,"millis":0.294398,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":395497,"millis":0.395497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":332198,"millis":0.332198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":483496,"millis":0.483496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":412497,"millis":0.412497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":263798,"millis":0.263798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":251298,"millis":0.251298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":268298,"millis":0.268298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":84499,"millis":0.084499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":245799,"millis":0.245799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:12.734 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":346697,"millis":0.346697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":122699,"millis":0.122699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:12.734 [print] INSPIRE Atom \n"},{"result":{"nanos":385497,"millis":0.385497,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:12.735 [print] #notpresent \n"},{"result":{"nanos":44599,"millis":0.044599,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:12.735 [print] INSPIRE Atom \n"},{"result":{"nanos":380597,"millis":0.380597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:12.735 [print] Beheer PDOK \n"},{"result":{"nanos":69699,"millis":0.069699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:12.735 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":339498,"millis":0.339498,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":688095,"millis":0.688095,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":434997,"millis":0.434997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d0b60508-5bf5-4360-b34a-875f10a9a711\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.447242,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d0b60508-5bf5-4360-b34a-875f10a9a711","startTime":1632027551880,"refId":"[1.175:67]","endTime":1632027552737,"exampleData":{"datasetIdentifierCode":"d0b60508-5bf5-4360-b34a-875f10a9a711"},"exampleIndex":174},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.233 karate.env system property was: null \n"},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51799,"millis":0.051799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":219999,"millis":0.219999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39099,"millis":0.039099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336398,"millis":0.336398,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68599,"millis":0.068599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":93299,"millis":0.093299,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":30099,"millis":0.030099,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853793563,"millis":853.793563,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":447597,"millis":0.447597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a301ddc7-c26f-42d8-b367-509ae5ae47d0'"}},{"result":{"nanos":419097,"millis":0.419097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":514096,"millis":0.514096,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":481897,"millis":0.481897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":447297,"millis":0.447297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":416597,"millis":0.416597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24199,"millis":0.024199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":309198,"millis":0.309198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":324298,"millis":0.324298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":348897,"millis":0.348897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68500,"millis":0.0685,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":141599,"millis":0.141599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.093 [print] https:\\\/\\\/service.pdok.nl\\\/hwh\\\/luchtfotorgb\\\/wms\\\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":699395,"millis":0.699395,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99999,"millis":0.099999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.093 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":421297,"millis":0.421297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":96399,"millis":0.096399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.094 [print] #notpresent \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":73599,"millis":0.073599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.094 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":588896,"millis":0.588896,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60699,"millis":0.060699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.095 [print] Beheer PDOK \n"},{"result":{"nanos":80600,"millis":0.0806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.095 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=74aca3eb-c38b-4214-9537-e0abc69e11b5#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5b274449-b6c2-4672-a32f-e0bd40975a53#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=df15af6e-0d21-4437-a69f-802be3479bba#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=64ff8561-5c56-4cc1-ae0e-94366fb70b7e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4e2bb25e-a5a9-43a7-986a-40e7aea32e38#MD_DataIdentification\"] \n"},{"result":{"nanos":442297,"millis":0.442297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":626195,"millis":0.626195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":357198,"millis":0.357198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a301ddc7-c26f-42d8-b367-509ae5ae47d0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.370701,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a301ddc7-c26f-42d8-b367-509ae5ae47d0","startTime":1632027552233,"refId":"[1.176:67]","endTime":1632027553096,"exampleData":{"datasetIdentifierCode":"a301ddc7-c26f-42d8-b367-509ae5ae47d0"},"exampleIndex":175},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.331 karate.env system property was: null \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":64799,"millis":0.064799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":124999,"millis":0.124999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":234199,"millis":0.234199,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":342998,"millis":0.342998,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29199,"millis":0.029199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":317298,"millis":0.317298,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66799,"millis":0.066799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860508115,"millis":860.508115,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2399,"millis":0.002399,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":426497,"millis":0.426497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '171b28f6-7ee7-46f9-b3b3-06d0baaa33db'"}},{"result":{"nanos":373898,"millis":0.373898,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":415198,"millis":0.415198,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":444497,"millis":0.444497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":393097,"millis":0.393097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":401898,"millis":0.401898,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26399,"millis":0.026399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":293198,"millis":0.293198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":362298,"millis":0.362298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":411198,"millis":0.411198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60399,"millis":0.060399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":150199,"millis":0.150199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.197 [print] https:\\\/\\\/service.pdok.nl\\\/cbs\\\/pd\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":365797,"millis":0.365797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":278898,"millis":0.278898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.198 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":468497,"millis":0.468497,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":159599,"millis":0.159599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.199 [print] #notpresent \n"},{"result":{"nanos":33099,"millis":0.033099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":144699,"millis":0.144699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.199 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":405897,"millis":0.405897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":245399,"millis":0.245399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.200 [print] Beheer PDOK \n"},{"result":{"nanos":232898,"millis":0.232898,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.200 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":456797,"millis":0.456797,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":716795,"millis":0.716795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":403697,"millis":0.403697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"171b28f6-7ee7-46f9-b3b3-06d0baaa33db\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.503553,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db","startTime":1632027552331,"refId":"[1.177:67]","endTime":1632027553201,"exampleData":{"datasetIdentifierCode":"171b28f6-7ee7-46f9-b3b3-06d0baaa33db"},"exampleIndex":176},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.539 karate.env system property was: null \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43099,"millis":0.043099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":199198,"millis":0.199198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":380897,"millis":0.380897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":339798,"millis":0.339798,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":879586979,"millis":879.586979,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2400,"millis":0.0024,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":469897,"millis":0.469897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97312a37-4ebf-4526-94e6-b29e90c2944a'"}},{"result":{"nanos":367297,"millis":0.367297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":343698,"millis":0.343698,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":344997,"millis":0.344997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":433897,"millis":0.433897,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":561496,"millis":0.561496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":341497,"millis":0.341497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":279898,"millis":0.279898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":282298,"millis":0.282298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":163999,"millis":0.163999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":136499,"millis":0.136499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.424 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":325697,"millis":0.325697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74300,"millis":0.0743,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.424 [print] #notpresent \n"},{"result":{"nanos":297498,"millis":0.297498,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75499,"millis":0.075499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.425 [print] #notpresent \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53899,"millis":0.053899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.425 [print] #notpresent \n"},{"result":{"nanos":490897,"millis":0.490897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83099,"millis":0.083099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.425 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.426 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.42282e73-5afb-424d-993a-9e0a0cd3eeca\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":468396,"millis":0.468396,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":678295,"millis":0.678295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":367398,"millis":0.367398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97312a37-4ebf-4526-94e6-b29e90c2944a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.583922,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"97312a37-4ebf-4526-94e6-b29e90c2944a","startTime":1632027552538,"refId":"[1.178:67]","endTime":1632027553427,"exampleData":{"datasetIdentifierCode":"97312a37-4ebf-4526-94e6-b29e90c2944a"},"exampleIndex":177},{"sectionIndex":0,"stepResults":[{"result":{"nanos":20200,"millis":0.0202,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:12.739 karate.env system property was: null \n"},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":82300,"millis":0.0823,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53399,"millis":0.053399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275298,"millis":0.275298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":365397,"millis":0.365397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":79299,"millis":0.079299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847029510,"millis":847.02951,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2300,"millis":0.0023,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":421697,"millis":0.421697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '257b960c-ece6-4e0f-b893-77b219c6133f'"}},{"result":{"nanos":364997,"millis":0.364997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":349798,"millis":0.349798,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":345197,"millis":0.345197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":392698,"millis":0.392698,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":379898,"millis":0.379898,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44099,"millis":0.044099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":315498,"millis":0.315498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":297398,"millis":0.297398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":280398,"millis":0.280398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":101299,"millis":0.101299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":485397,"millis":0.485397,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.591 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":558196,"millis":0.558196,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":225199,"millis":0.225199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.592 [print] #notpresent \n"},{"result":{"nanos":319098,"millis":0.319098,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":228198,"millis":0.228198,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.593 [print] #notpresent \n"},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":190898,"millis":0.190898,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.593 [print] #notpresent \n"},{"result":{"nanos":416897,"millis":0.416897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":224198,"millis":0.224198,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.594 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":196499,"millis":0.196499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.594 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":368697,"millis":0.368697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":489597,"millis":0.489597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":291598,"millis":0.291598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"257b960c-ece6-4e0f-b893-77b219c6133f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.461952,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"257b960c-ece6-4e0f-b893-77b219c6133f","startTime":1632027552739,"refId":"[1.179:67]","endTime":1632027553595,"exampleData":{"datasetIdentifierCode":"257b960c-ece6-4e0f-b893-77b219c6133f"},"exampleIndex":178},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.098 karate.env system property was: null \n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41900,"millis":0.0419,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47199,"millis":0.047199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":191599,"millis":0.191599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":338097,"millis":0.338097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":76499,"millis":0.076499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":83999,"millis":0.083999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865503479,"millis":865.503479,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2200,"millis":0.0022,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":532996,"millis":0.532996,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '24055de7-dcff-487a-8f9a-7aee4f0d8351'"}},{"result":{"nanos":461897,"millis":0.461897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":337097,"millis":0.337097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":330698,"millis":0.330698,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":393397,"millis":0.393397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":353097,"millis":0.353097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":301898,"millis":0.301898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":284298,"millis":0.284298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":302498,"millis":0.302498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":147799,"millis":0.147799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127099,"millis":0.127099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:13.969 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1163091,"millis":1.163091,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":66000,"millis":0.066,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:13.970 [print] #notpresent \n"},{"result":{"nanos":563696,"millis":0.563696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61999,"millis":0.061999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:13.971 [print] #notpresent \n"},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":370797,"millis":0.370797,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:13.971 [print] #notpresent \n"},{"result":{"nanos":364598,"millis":0.364598,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":63599,"millis":0.063599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:13.972 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:13.972 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":921793,"millis":0.921793,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":511697,"millis":0.511697,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":285298,"millis":0.285298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"24055de7-dcff-487a-8f9a-7aee4f0d8351\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.476814,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"24055de7-dcff-487a-8f9a-7aee4f0d8351","startTime":1632027553098,"refId":"[1.180:67]","endTime":1632027553973,"exampleData":{"datasetIdentifierCode":"24055de7-dcff-487a-8f9a-7aee4f0d8351"},"exampleIndex":179},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.203 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":71099,"millis":0.071099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52400,"millis":0.0524,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236998,"millis":0.236998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":367797,"millis":0.367797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":130199,"millis":0.130199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16899,"millis":0.016899,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5599,"millis":0.005599,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847602906,"millis":847.602906,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":548396,"millis":0.548396,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":467697,"millis":0.467697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b81f9ce3-f612-4761-ba37-4c8afda9033a'"}},{"result":{"nanos":567996,"millis":0.567996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":589995,"millis":0.589995,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":427997,"millis":0.427997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":457697,"millis":0.457697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":637995,"millis":0.637995,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":3793473,"millis":3.793473,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":324998,"millis":0.324998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":295498,"millis":0.295498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100299,"millis":0.100299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":883794,"millis":0.883794,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.061 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":353897,"millis":0.353897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95999,"millis":0.095999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.062 [print] #notpresent \n"},{"result":{"nanos":322797,"millis":0.322797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108600,"millis":0.1086,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.063 [print] #notpresent \n"},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":82200,"millis":0.0822,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.063 [print] #notpresent \n"},{"result":{"nanos":438397,"millis":0.438397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104699,"millis":0.104699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.064 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":92600,"millis":0.0926,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.064 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.6f95c52b-e32a-43d5-a057-bac1f7ba2a42\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":418997,"millis":0.418997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":423797,"millis":0.423797,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":285898,"millis":0.285898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b81f9ce3-f612-4761-ba37-4c8afda9033a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.570713,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b81f9ce3-f612-4761-ba37-4c8afda9033a","startTime":1632027553203,"refId":"[1.181:67]","endTime":1632027554066,"exampleData":{"datasetIdentifierCode":"b81f9ce3-f612-4761-ba37-4c8afda9033a"},"exampleIndex":180},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.429 karate.env system property was: null \n"},{"result":{"nanos":87900,"millis":0.0879,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51800,"millis":0.0518,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":255198,"millis":0.255198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2050185,"millis":2.050185,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":90600,"millis":0.0906,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75299,"millis":0.075299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858948025,"millis":858.948025,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":764795,"millis":0.764795,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '664862cb-d426-4ee4-97ac-14c12b903b54'"}},{"result":{"nanos":505696,"millis":0.505696,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":464897,"millis":0.464897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":349497,"millis":0.349497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":392398,"millis":0.392398,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":356398,"millis":0.356398,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":286098,"millis":0.286098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":268898,"millis":0.268898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":277298,"millis":0.277298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":105499,"millis":0.105499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":516496,"millis":0.516496,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.296 [print] https:\/\/www.broinspireservices.nl\/wms\/oshhgqm-a-v1.0?request=GetCapabilities \n"},{"result":{"nanos":435297,"millis":0.435297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90599,"millis":0.090599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.296 [print] #notpresent \n"},{"result":{"nanos":431197,"millis":0.431197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":94900,"millis":0.0949,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.297 [print] OGC:WMS \n"},{"result":{"nanos":112799,"millis":0.112799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":182899,"millis":0.182899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.297 [print] #notpresent \n"},{"result":{"nanos":500497,"millis":0.500497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94999,"millis":0.094999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.298 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":205599,"millis":0.205599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.298 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=6050578f-0010-4bfa-b013-c8617b80ba62&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":489296,"millis":0.489296,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":788695,"millis":0.788695,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328198,"millis":0.328198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"664862cb-d426-4ee4-97ac-14c12b903b54\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.863652,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"664862cb-d426-4ee4-97ac-14c12b903b54","startTime":1632027553429,"refId":"[1.182:67]","endTime":1632027554300,"exampleData":{"datasetIdentifierCode":"664862cb-d426-4ee4-97ac-14c12b903b54"},"exampleIndex":181},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.597 karate.env system property was: null \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43100,"millis":0.0431,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48299,"millis":0.048299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":205299,"millis":0.205299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35699,"millis":0.035699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":384698,"millis":0.384698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29399,"millis":0.029399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52499,"millis":0.052499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865252881,"millis":865.252881,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":487497,"millis":0.487497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3e65fa1b-9bb1-41bd-9760-76962751b839'"}},{"result":{"nanos":463696,"millis":0.463696,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":463197,"millis":0.463197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":410897,"millis":0.410897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":438597,"millis":0.438597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":403697,"millis":0.403697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":298297,"millis":0.298297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":291498,"millis":0.291498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":315798,"millis":0.315798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61299,"millis":0.061299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":121800,"millis":0.1218,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.468 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wms\\\/v2_0?service=WMS&request=getcapabilities \n"},{"result":{"nanos":372797,"millis":0.372797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90299,"millis":0.090299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.468 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":344998,"millis":0.344998,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":52899,"millis":0.052899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.468 [print] #notpresent \n"},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":67299,"millis":0.067299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.469 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":451097,"millis":0.451097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.469 [print] Beheer PDOK \n"},{"result":{"nanos":62299,"millis":0.062299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.469 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":453497,"millis":0.453497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":567996,"millis":0.567996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":316598,"millis":0.316598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3e65fa1b-9bb1-41bd-9760-76962751b839\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.867726,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"3e65fa1b-9bb1-41bd-9760-76962751b839","startTime":1632027553597,"refId":"[1.183:67]","endTime":1632027554471,"exampleData":{"datasetIdentifierCode":"3e65fa1b-9bb1-41bd-9760-76962751b839"},"exampleIndex":182},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:13.975 karate.env system property was: null \n"},{"result":{"nanos":66999,"millis":0.066999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51499,"millis":0.051499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":207599,"millis":0.207599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":312797,"millis":0.312797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16099,"millis":0.016099,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":303598,"millis":0.303598,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":8700,"millis":0.0087,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849030396,"millis":849.030396,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1699,"millis":0.001699,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":522797,"millis":0.522797,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a84f9836-9111-4e45-a311-3dab39019e15'"}},{"result":{"nanos":459696,"millis":0.459696,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":464597,"millis":0.464597,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":436597,"millis":0.436597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":495796,"millis":0.495796,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":465097,"millis":0.465097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":329797,"millis":0.329797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":362998,"millis":0.362998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":495596,"millis":0.495596,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":190098,"millis":0.190098,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.831 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/tn-w\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":789995,"millis":0.789995,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.832 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":608096,"millis":0.608096,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78499,"millis":0.078499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.832 [print] #notpresent \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":415997,"millis":0.415997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.833 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":538996,"millis":0.538996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81899,"millis":0.081899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.833 [print] Beheer PDOK \n"},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.833 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":1153792,"millis":1.153792,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":874393,"millis":0.874393,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":421697,"millis":0.421697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a84f9836-9111-4e45-a311-3dab39019e15\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.646619,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"a84f9836-9111-4e45-a311-3dab39019e15","startTime":1632027553975,"refId":"[1.184:67]","endTime":1632027554836,"exampleData":{"datasetIdentifierCode":"a84f9836-9111-4e45-a311-3dab39019e15"},"exampleIndex":183},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.068 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59599,"millis":0.059599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":244498,"millis":0.244498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373097,"millis":0.373097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":53599,"millis":0.053599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":103800,"millis":0.1038,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85599,"millis":0.085599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855133952,"millis":855.133952,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":668795,"millis":0.668795,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'fbe544b6-6e6f-43a0-80b9-ced1df78c434'"}},{"result":{"nanos":491597,"millis":0.491597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":422697,"millis":0.422697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":492596,"millis":0.492596,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":468097,"millis":0.468097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":419897,"millis":0.419897,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":315397,"millis":0.315397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":295698,"millis":0.295698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":432297,"millis":0.432297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":363297,"millis":0.363297,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:14.929 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":350297,"millis":0.350297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":229799,"millis":0.229799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:14.930 [print] OGC:WFS \n"},{"result":{"nanos":353197,"millis":0.353197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":230698,"millis":0.230698,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:14.931 [print] INSPIRE Atom \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":183499,"millis":0.183499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:14.931 [print] OGC:WFS \n"},{"result":{"nanos":404497,"millis":0.404497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":225798,"millis":0.225798,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:14.932 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":188499,"millis":0.188499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:14.932 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ad6caa40-89ab-47e3-85ab-3f8e32024a71#MD_DataIdentification \n"},{"result":{"nanos":406497,"millis":0.406497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":462597,"millis":0.462597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":293797,"millis":0.293797,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"fbe544b6-6e6f-43a0-80b9-ced1df78c434\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.068587,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"fbe544b6-6e6f-43a0-80b9-ced1df78c434","startTime":1632027554068,"refId":"[1.185:67]","endTime":1632027554933,"exampleData":{"datasetIdentifierCode":"fbe544b6-6e6f-43a0-80b9-ced1df78c434"},"exampleIndex":184},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.302 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46099,"millis":0.046099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85800,"millis":0.0858,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":250298,"millis":0.250298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":372097,"millis":0.372097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52799,"millis":0.052799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51999,"millis":0.051999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":881228268,"millis":881.228268,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":460697,"millis":0.460697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82fa284e-8218-40e4-a593-c2f8a832c3d5'"}},{"result":{"nanos":356397,"millis":0.356397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":309598,"millis":0.309598,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":301098,"millis":0.301098,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":370797,"millis":0.370797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":361297,"millis":0.361297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25800,"millis":0.0258,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":402497,"millis":0.402497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":332398,"millis":0.332398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":259399,"millis":0.259399,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68199,"millis":0.068199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":86099,"millis":0.086099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.188 [print] https:\/\/www.gdngeoservices.nl\/inspire\/wms\/olie_en_gasvelden?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":1326991,"millis":1.326991,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87199,"millis":0.087199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.189 [print] #notpresent \n"},{"result":{"nanos":600696,"millis":0.600696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71699,"millis":0.071699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.190 [print] OGC:WMS \n"},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":380797,"millis":0.380797,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.190 [print] #notpresent \n"},{"result":{"nanos":361498,"millis":0.361498,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":56999,"millis":0.056999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.191 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.191 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=b61a773c-ecad-4e60-93e9-0a4caac0b52f&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":1234391,"millis":1.234391,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":616496,"millis":0.616496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":291798,"millis":0.291798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"82fa284e-8218-40e4-a593-c2f8a832c3d5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":890.6898,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"82fa284e-8218-40e4-a593-c2f8a832c3d5","startTime":1632027554301,"refId":"[1.186:67]","endTime":1632027555193,"exampleData":{"datasetIdentifierCode":"82fa284e-8218-40e4-a593-c2f8a832c3d5"},"exampleIndex":185},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.472 karate.env system property was: null \n"},{"result":{"nanos":28999,"millis":0.028999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230399,"millis":0.230399,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37399,"millis":0.037399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373398,"millis":0.373398,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30999,"millis":0.030999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20900,"millis":0.0209,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47700,"millis":0.0477,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856961739,"millis":856.961739,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":510097,"millis":0.510097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '87a382da-c6dc-403c-a006-2379eb6daaa6'"}},{"result":{"nanos":344597,"millis":0.344597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":318798,"millis":0.318798,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":299198,"millis":0.299198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":444196,"millis":0.444196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":378198,"millis":0.378198,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":74499,"millis":0.074499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":313798,"millis":0.313798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":306098,"millis":0.306098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":315397,"millis":0.315397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":117799,"millis":0.117799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":357398,"millis":0.357398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.335 [print] https:\/\/inspire.caris.nl\/gs5\/pssa_nl\/ows?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":448797,"millis":0.448797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":154299,"millis":0.154299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.335 [print] OGC:WMS \n"},{"result":{"nanos":451097,"millis":0.451097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":117899,"millis":0.117899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.336 [print] #notpresent \n"},{"result":{"nanos":201699,"millis":0.201699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":135799,"millis":0.135799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.336 [print] OGC:WMS \n"},{"result":{"nanos":426297,"millis":0.426297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":132400,"millis":0.1324,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.337 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":264499,"millis":0.264499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.337 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=f1d27179-36eb-4376-8048-f51d2eb23a09&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":343198,"millis":0.343198,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":436696,"millis":0.436696,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":327298,"millis":0.327298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"87a382da-c6dc-403c-a006-2379eb6daaa6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.181484,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"87a382da-c6dc-403c-a006-2379eb6daaa6","startTime":1632027554472,"refId":"[1.187:67]","endTime":1632027555338,"exampleData":{"datasetIdentifierCode":"87a382da-c6dc-403c-a006-2379eb6daaa6"},"exampleIndex":186},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.838 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":84199,"millis":0.084199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":195698,"millis":0.195698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":304098,"millis":0.304098,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66699,"millis":0.066699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":297298,"millis":0.297298,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":8900,"millis":0.0089,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":908866473,"millis":908.866473,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":630195,"millis":0.630195,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'aaf53e6f-fe99-4a86-a61c-50b128412d80'"}},{"result":{"nanos":444597,"millis":0.444597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":422597,"millis":0.422597,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":472096,"millis":0.472096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":596196,"millis":0.596196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":545396,"millis":0.545396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":117199,"millis":0.117199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":521497,"millis":0.521497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":364198,"millis":0.364198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":416797,"millis":0.416797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":170599,"millis":0.170599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":257398,"millis":0.257398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.753 [print] https:\/\/geodata.nationaalgeoregister.nl\/mosselenoesterhabitats\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":686395,"millis":0.686395,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":208498,"millis":0.208498,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.754 [print] OGC:WFS \n"},{"result":{"nanos":784594,"millis":0.784594,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":244299,"millis":0.244299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.755 [print] #notpresent \n"},{"result":{"nanos":262798,"millis":0.262798,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":257299,"millis":0.257299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.756 [print] OGC:WFS \n"},{"result":{"nanos":599395,"millis":0.599395,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":187199,"millis":0.187199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.757 [print] Beheer PDOK \n"},{"result":{"nanos":936193,"millis":0.936193,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.758 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3d59fd06-9aec-4744-91e7-65e119f74569#MD_DataIdentification \n"},{"result":{"nanos":657995,"millis":0.657995,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":627596,"millis":0.627596,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":322998,"millis":0.322998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"aaf53e6f-fe99-4a86-a61c-50b128412d80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":920.766989,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"aaf53e6f-fe99-4a86-a61c-50b128412d80","startTime":1632027554837,"refId":"[1.188:67]","endTime":1632027555759,"exampleData":{"datasetIdentifierCode":"aaf53e6f-fe99-4a86-a61c-50b128412d80"},"exampleIndex":187},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:14.935 karate.env system property was: null \n"},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47999,"millis":0.047999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":229999,"millis":0.229999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":482797,"millis":0.482797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42999,"millis":0.042999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":1433590,"millis":1.43359,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":880236775,"millis":880.236775,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":416697,"millis":0.416697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'caeb52a3-cbaa-4e9b-a23e-d4dc0335b506'"}},{"result":{"nanos":305898,"millis":0.305898,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":288198,"millis":0.288198,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":287998,"millis":0.287998,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":393898,"millis":0.393898,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":423797,"millis":0.423797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71700,"millis":0.0717,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":343897,"millis":0.343897,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":338798,"millis":0.338798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":315098,"millis":0.315098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":455396,"millis":0.455396,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":550496,"millis":0.550496,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:15.822 [print] https:\/\/geodata.nationaalgeoregister.nl\/wijkenbuurten2020\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":429397,"millis":0.429397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":445897,"millis":0.445897,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:15.823 [print] OGC:WFS \n"},{"result":{"nanos":347698,"millis":0.347698,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":150899,"millis":0.150899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:15.824 [print] #notpresent \n"},{"result":{"nanos":385398,"millis":0.385398,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":113599,"millis":0.113599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:15.824 [print] OGC:WFS \n"},{"result":{"nanos":735794,"millis":0.735794,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":159399,"millis":0.159399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:15.825 [print] Beheer PDOK \n"},{"result":{"nanos":833894,"millis":0.833894,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:15.825 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f1859b4d-93be-4fc8-9e91-0ecc2fa0f3b3#MD_DataIdentification \n"},{"result":{"nanos":315998,"millis":0.315998,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":390197,"millis":0.390197,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":312998,"millis":0.312998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.535498,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506","startTime":1632027554934,"refId":"[1.189:67]","endTime":1632027555827,"exampleData":{"datasetIdentifierCode":"caeb52a3-cbaa-4e9b-a23e-d4dc0335b506"},"exampleIndex":188},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33599,"millis":0.033599,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.195 karate.env system property was: null \n"},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51199,"millis":0.051199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":197399,"millis":0.197399,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":339897,"millis":0.339897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65699,"millis":0.065699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":260598,"millis":0.260598,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":882297261,"millis":882.297261,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1620888,"millis":1.620888,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '82541a1f-2e4e-459f-ab2f-e97cac3ad040'"}},{"result":{"nanos":1714488,"millis":1.714488,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":2275784,"millis":2.275784,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1951586,"millis":1.951586,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":2191685,"millis":2.191685,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1791388,"millis":1.791388,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":88499,"millis":0.088499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1086192,"millis":1.086192,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1051493,"millis":1.051493,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1127492,"millis":1.127492,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":225598,"millis":0.225598,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":174399,"millis":0.174399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.094 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsgebiedtypen\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1566889,"millis":1.566889,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120799,"millis":0.120799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.096 [print] #notpresent \n"},{"result":{"nanos":1383890,"millis":1.38389,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":152799,"millis":0.152799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.097 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1252091,"millis":1.252091,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":553497,"millis":0.553497,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.099 [print] #notpresent \n"},{"result":{"nanos":2071185,"millis":2.071185,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":156599,"millis":0.156599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.101 [print] Beheer PDOK \n"},{"result":{"nanos":335497,"millis":0.335497,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.102 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=03671a9e-6aaf-464d-be99-9aad25cef9e3 \n"},{"result":{"nanos":2252284,"millis":2.252284,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":407997,"millis":0.407997,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":334998,"millis":0.334998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"82541a1f-2e4e-459f-ab2f-e97cac3ad040\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":909.382869,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"82541a1f-2e4e-459f-ab2f-e97cac3ad040","startTime":1632027555194,"refId":"[1.190:67]","endTime":1632027556105,"exampleData":{"datasetIdentifierCode":"82541a1f-2e4e-459f-ab2f-e97cac3ad040"},"exampleIndex":189},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.341 karate.env system property was: null \n"},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":169798,"millis":0.169798,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112799,"millis":0.112799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286998,"millis":0.286998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104800,"millis":0.1048,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":362098,"millis":0.362098,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76499,"millis":0.076499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":104000,"millis":0.104,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":86300,"millis":0.0863,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26999,"millis":0.026999,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856610242,"millis":856.610242,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":775094,"millis":0.775094,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '23aa5150-fcc7-46ea-ae63-a7f198d8bc18'"}},{"result":{"nanos":475997,"millis":0.475997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":390897,"millis":0.390897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":415797,"millis":0.415797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":415097,"millis":0.415097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":388197,"millis":0.388197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":264598,"millis":0.264598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":313098,"millis":0.313098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":459696,"millis":0.459696,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":104900,"millis":0.1049,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":157999,"millis":0.157999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.204 [print] https:\/\/inspire.rivm.nl\/geoserver\/airq\/wms? \n"},{"result":{"nanos":335897,"millis":0.335897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.205 [print] #notpresent \n"},{"result":{"nanos":538496,"millis":0.538496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":53199,"millis":0.053199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.205 [print] OGC:WMS \n"},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":380897,"millis":0.380897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.206 [print] #notpresent \n"},{"result":{"nanos":529696,"millis":0.529696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92900,"millis":0.0929,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.206 [print] RIVM \n"},{"result":{"nanos":59599,"millis":0.059599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.206 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2cc2c30c-91b8-412a-a060-e84d25272581 \n"},{"result":{"nanos":1000193,"millis":1.000193,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":840794,"millis":0.840794,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":356798,"millis":0.356798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"23aa5150-fcc7-46ea-ae63-a7f198d8bc18\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.670372,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18","startTime":1632027555340,"refId":"[1.191:67]","endTime":1632027556209,"exampleData":{"datasetIdentifierCode":"23aa5150-fcc7-46ea-ae63-a7f198d8bc18"},"exampleIndex":190},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56500,"millis":0.0565,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.762 karate.env system property was: null \n"},{"result":{"nanos":40999,"millis":0.040999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":146599,"millis":0.146599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":106899,"millis":0.106899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":264898,"millis":0.264898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":107800,"millis":0.1078,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385497,"millis":0.385497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":93899,"millis":0.093899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":169499,"millis":0.169499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":314298,"millis":0.314298,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":84399,"millis":0.084399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":118799,"millis":0.118799,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":33899,"millis":0.033899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850618784,"millis":850.618784,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":476597,"millis":0.476597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ac3a9efe-2154-4a4c-aae3-ea269044945d'"}},{"result":{"nanos":375898,"millis":0.375898,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":399797,"millis":0.399797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":373097,"millis":0.373097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":413197,"millis":0.413197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":375198,"millis":0.375198,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":262298,"millis":0.262298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":286698,"millis":0.286698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":318298,"millis":0.318298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":292198,"millis":0.292198,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":253498,"millis":0.253498,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.619 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/wms\/v1_0?request=GetCapabilities&service=wms \n"},{"result":{"nanos":381897,"millis":0.381897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.619 [print] OGC:WMS \n"},{"result":{"nanos":420897,"millis":0.420897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81500,"millis":0.0815,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.620 [print] #notpresent \n"},{"result":{"nanos":155999,"millis":0.155999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":230799,"millis":0.230799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.620 [print] OGC:WMS \n"},{"result":{"nanos":450196,"millis":0.450196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.621 [print] Beheer PDOK \n"},{"result":{"nanos":73299,"millis":0.073299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.621 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":519697,"millis":0.519697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":531496,"millis":0.531496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302898,"millis":0.302898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ac3a9efe-2154-4a4c-aae3-ea269044945d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.761221,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ac3a9efe-2154-4a4c-aae3-ea269044945d","startTime":1632027555761,"refId":"[1.192:67]","endTime":1632027556622,"exampleData":{"datasetIdentifierCode":"ac3a9efe-2154-4a4c-aae3-ea269044945d"},"exampleIndex":191},{"sectionIndex":0,"stepResults":[{"result":{"nanos":72900,"millis":0.0729,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:15.829 karate.env system property was: null \n"},{"result":{"nanos":37499,"millis":0.037499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":108800,"millis":0.1088,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":109800,"millis":0.1098,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":246198,"millis":0.246198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105699,"millis":0.105699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":364297,"millis":0.364297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77500,"millis":0.0775,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":393097,"millis":0.393097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34499,"millis":0.034499,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":28799,"millis":0.028799,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854027761,"millis":854.027761,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":465697,"millis":0.465697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5856173c-e58d-4b4c-8f9b-046ee1f20c1c'"}},{"result":{"nanos":529996,"millis":0.529996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":402797,"millis":0.402797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":401497,"millis":0.401497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":431097,"millis":0.431097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":438197,"millis":0.438197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":314298,"millis":0.314298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":304497,"millis":0.304497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":337698,"millis":0.337698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":52499,"millis":0.052499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96500,"millis":0.0965,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.689 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/wko\\\/wfs?service=WFS&request=Getcapabilities \n"},{"result":{"nanos":448397,"millis":0.448397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.690 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":437697,"millis":0.437697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":53499,"millis":0.053499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.690 [print] #notpresent \n"},{"result":{"nanos":81300,"millis":0.0813,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121099,"millis":0.121099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.690 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":503796,"millis":0.503796,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60200,"millis":0.0602,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.691 [print] Beheer PDOK \n"},{"result":{"nanos":118999,"millis":0.118999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.691 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dc5b522e-3e14-4738-9e8e-2401e1b19ef2#MD_DataIdentification \n"},{"result":{"nanos":520596,"millis":0.520596,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":524896,"millis":0.524896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":282198,"millis":0.282198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5856173c-e58d-4b4c-8f9b-046ee1f20c1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.784699,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c","startTime":1632027555828,"refId":"[1.193:67]","endTime":1632027556693,"exampleData":{"datasetIdentifierCode":"5856173c-e58d-4b4c-8f9b-046ee1f20c1c"},"exampleIndex":192},{"sectionIndex":0,"stepResults":[{"result":{"nanos":90300,"millis":0.0903,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.107 karate.env system property was: null \n"},{"result":{"nanos":59800,"millis":0.0598,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":142199,"millis":0.142199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":179699,"millis":0.179699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254898,"millis":0.254898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":103900,"millis":0.1039,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":354097,"millis":0.354097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75299,"millis":0.075299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":106700,"millis":0.1067,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40199,"millis":0.040199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":266098,"millis":0.266098,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859897619,"millis":859.897619,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":434197,"millis":0.434197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f0c6fbfe-a172-4223-8af3-58f6a28c881d'"}},{"result":{"nanos":360897,"millis":0.360897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":328598,"millis":0.328598,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":321497,"millis":0.321497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":371098,"millis":0.371098,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":359297,"millis":0.359297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":348697,"millis":0.348697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":304598,"millis":0.304598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":313898,"millis":0.313898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":494297,"millis":0.494297,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":447897,"millis":0.447897,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:16.974 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":335397,"millis":0.335397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":362698,"millis":0.362698,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:16.975 [print] OGC:WMS \n"},{"result":{"nanos":294798,"millis":0.294798,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":366798,"millis":0.366798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:16.975 [print] #notpresent \n"},{"result":{"nanos":49399,"millis":0.049399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":329498,"millis":0.329498,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:16.976 [print] OGC:WMS \n"},{"result":{"nanos":405597,"millis":0.405597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":374497,"millis":0.374497,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:16.976 [print] Beheer PDOK \n"},{"result":{"nanos":782095,"millis":0.782095,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:16.977 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":378897,"millis":0.378897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":545196,"millis":0.545196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":313998,"millis":0.313998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f0c6fbfe-a172-4223-8af3-58f6a28c881d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.376347,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f0c6fbfe-a172-4223-8af3-58f6a28c881d","startTime":1632027556107,"refId":"[1.194:67]","endTime":1632027556979,"exampleData":{"datasetIdentifierCode":"f0c6fbfe-a172-4223-8af3-58f6a28c881d"},"exampleIndex":193},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14899,"millis":0.014899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.210 karate.env system property was: null \n"},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40900,"millis":0.0409,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47099,"millis":0.047099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":184999,"millis":0.184999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":299698,"millis":0.299698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":52899,"millis":0.052899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":605196,"millis":0.605196,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19099,"millis":0.019099,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":6999,"millis":0.006999,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858465829,"millis":858.465829,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":697095,"millis":0.697095,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ce74355-763a-481d-b9d7-aaafbf0d7d53'"}},{"result":{"nanos":876994,"millis":0.876994,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":906793,"millis":0.906793,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1101193,"millis":1.101193,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1161591,"millis":1.161591,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1138292,"millis":1.138292,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":841594,"millis":0.841594,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1000692,"millis":1.000692,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":956794,"millis":0.956794,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":255598,"millis":0.255598,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":636495,"millis":0.636495,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.080 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingsoorten\\\/v2\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":727095,"millis":0.727095,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":724995,"millis":0.724995,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.082 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":785394,"millis":0.785394,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73699,"millis":0.073699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.083 [print] #notpresent \n"},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":202899,"millis":0.202899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.083 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1100292,"millis":1.100292,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75799,"millis":0.075799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.084 [print] Beheer PDOK \n"},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.084 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=28c4780a-1a44-4376-b283-14a50a481729#MD_DataIdentification \n"},{"result":{"nanos":1350890,"millis":1.35089,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":697895,"millis":0.697895,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326898,"millis":0.326898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1ce74355-763a-481d-b9d7-aaafbf0d7d53\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.638104,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1ce74355-763a-481d-b9d7-aaafbf0d7d53","startTime":1632027556210,"refId":"[1.195:67]","endTime":1632027557087,"exampleData":{"datasetIdentifierCode":"1ce74355-763a-481d-b9d7-aaafbf0d7d53"},"exampleIndex":194},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.625 karate.env system property was: null \n"},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":196399,"millis":0.196399,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":308698,"millis":0.308698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":93500,"millis":0.0935,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":91799,"millis":0.091799,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47599,"millis":0.047599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857158038,"millis":857.158038,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":464197,"millis":0.464197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3dc373ae-fcf6-49c9-b315-9a2178bffe4a'"}},{"result":{"nanos":390597,"millis":0.390597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":368097,"millis":0.368097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":364498,"millis":0.364498,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":419497,"millis":0.419497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":391397,"millis":0.391397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":287897,"millis":0.287897,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":289298,"millis":0.289298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":289298,"millis":0.289298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":83799,"millis":0.083799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.487 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":478297,"millis":0.478297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75199,"millis":0.075199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.487 [print] OGC:WMS \n"},{"result":{"nanos":457297,"millis":0.457297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91699,"millis":0.091699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.488 [print] #notpresent \n"},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":167799,"millis":0.167799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.488 [print] OGC:WMS \n"},{"result":{"nanos":467496,"millis":0.467496,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":55900,"millis":0.0559,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.489 [print] Beheer PDOK \n"},{"result":{"nanos":29099,"millis":0.029099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.489 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":532797,"millis":0.532797,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1280991,"millis":1.280991,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":333998,"millis":0.333998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3dc373ae-fcf6-49c9-b315-9a2178bffe4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.56878,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a","startTime":1632027556624,"refId":"[1.196:67]","endTime":1632027557491,"exampleData":{"datasetIdentifierCode":"3dc373ae-fcf6-49c9-b315-9a2178bffe4a"},"exampleIndex":195},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.694 karate.env system property was: null \n"},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54100,"millis":0.0541,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":226698,"millis":0.226698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":321698,"millis":0.321698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":88099,"millis":0.088099,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":85799,"millis":0.085799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851632977,"millis":851.632977,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":432997,"millis":0.432997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a2724dae-ebad-4a07-9405-49bddfde3368'"}},{"result":{"nanos":2613182,"millis":2.613182,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":456096,"millis":0.456096,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":407797,"millis":0.407797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":453997,"millis":0.453997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":648595,"millis":0.648595,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":481397,"millis":0.481397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":354197,"millis":0.354197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":480597,"millis":0.480597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":126099,"millis":0.126099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":164099,"millis":0.164099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.554 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/verkeersscheidingsstelsel\\\/wfs\\\/v2_0?service=WFS&request=getcapabilities \n"},{"result":{"nanos":718695,"millis":0.718695,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.555 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":446196,"millis":0.446196,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71100,"millis":0.0711,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.556 [print] #notpresent \n"},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":151098,"millis":0.151098,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.556 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":501497,"millis":0.501497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67899,"millis":0.067899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.556 [print] Beheer PDOK \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.556 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5996e444-f7f3-40d2-b485-8b9af6e8aa89#MD_DataIdentification \n"},{"result":{"nanos":636395,"millis":0.636395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":642896,"millis":0.642896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":291998,"millis":0.291998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a2724dae-ebad-4a07-9405-49bddfde3368\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.979098,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"a2724dae-ebad-4a07-9405-49bddfde3368","startTime":1632027556694,"refId":"[1.197:67]","endTime":1632027557558,"exampleData":{"datasetIdentifierCode":"a2724dae-ebad-4a07-9405-49bddfde3368"},"exampleIndex":196},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:16.981 karate.env system property was: null \n"},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45499,"millis":0.045499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":204798,"millis":0.204798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368797,"millis":0.368797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":87099,"millis":0.087099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":6599,"millis":0.006599,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854432458,"millis":854.432458,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":472897,"millis":0.472897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '364c5d7a-d6ec-11ea-87d0-0242ac130003'"}},{"result":{"nanos":365997,"millis":0.365997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":326098,"millis":0.326098,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":346697,"millis":0.346697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":399298,"millis":0.399298,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":318098,"millis":0.318098,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":240898,"millis":0.240898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":253298,"millis":0.253298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":245898,"millis":0.245898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93100,"millis":0.0931,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":171198,"millis":0.171198,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.840 [print] #notpresent \n"},{"result":{"nanos":422397,"millis":0.422397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79200,"millis":0.0792,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.841 [print] #notpresent \n"},{"result":{"nanos":270998,"millis":0.270998,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75499,"millis":0.075499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.841 [print] #notpresent \n"},{"result":{"nanos":46900,"millis":0.0469,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":56099,"millis":0.056099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.841 [print] #notpresent \n"},{"result":{"nanos":367398,"millis":0.367398,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74699,"millis":0.074699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.841 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.842 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=2a379cc6-d16e-11ea-87d0-0242ac130003&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":336998,"millis":0.336998,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":526296,"millis":0.526296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":272098,"millis":0.272098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"364c5d7a-d6ec-11ea-87d0-0242ac130003\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.261209,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"364c5d7a-d6ec-11ea-87d0-0242ac130003","startTime":1632027556981,"refId":"[1.198:67]","endTime":1632027557843,"exampleData":{"datasetIdentifierCode":"364c5d7a-d6ec-11ea-87d0-0242ac130003"},"exampleIndex":197},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.089 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48300,"millis":0.0483,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52799,"millis":0.052799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":301598,"millis":0.301598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":516196,"millis":0.516196,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":74299,"millis":0.074299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114699,"millis":0.114699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":52999,"millis":0.052999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":865118782,"millis":865.118782,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":396297,"millis":0.396297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7dc30aed-0940-4e69-b34c-9f24b34078eb'"}},{"result":{"nanos":521396,"millis":0.521396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":564096,"millis":0.564096,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":387698,"millis":0.387698,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":388798,"millis":0.388798,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":444397,"millis":0.444397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":343298,"millis":0.343298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":261798,"millis":0.261798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":265498,"millis":0.265498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61799,"millis":0.061799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96600,"millis":0.0966,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:17.959 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":344597,"millis":0.344597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98199,"millis":0.098199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:17.960 [print] #notpresent \n"},{"result":{"nanos":292098,"millis":0.292098,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:17.960 [print] OGC:WMS \n"},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:17.960 [print] #notpresent \n"},{"result":{"nanos":481497,"millis":0.481497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":55700,"millis":0.0557,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:17.961 [print] RIVM \n"},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:17.961 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":375597,"millis":0.375597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":676795,"millis":0.676795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":360497,"millis":0.360497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7dc30aed-0940-4e69-b34c-9f24b34078eb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.092127,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7dc30aed-0940-4e69-b34c-9f24b34078eb","startTime":1632027557088,"refId":"[1.199:67]","endTime":1632027557962,"exampleData":{"datasetIdentifierCode":"7dc30aed-0940-4e69-b34c-9f24b34078eb"},"exampleIndex":198},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16199,"millis":0.016199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.493 karate.env system property was: null \n"},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48599,"millis":0.048599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":198399,"millis":0.198399,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":396997,"millis":0.396997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67399,"millis":0.067399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4699,"millis":0.004699,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":294998,"millis":0.294998,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846689112,"millis":846.689112,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":426497,"millis":0.426497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '3d01c1ca-973c-4652-baa5-39458bb9e181'"}},{"result":{"nanos":380397,"millis":0.380397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":352398,"millis":0.352398,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":359597,"millis":0.359597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":404597,"millis":0.404597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":395497,"millis":0.395497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":283898,"millis":0.283898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":287898,"millis":0.287898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":283098,"millis":0.283098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63299,"millis":0.063299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113800,"millis":0.1138,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.345 [print] https:\/\/geodata.nationaalgeoregister.nl\/schelpdierenpercelen\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":963493,"millis":0.963493,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":68799,"millis":0.068799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.346 [print] OGC:WMS \n"},{"result":{"nanos":513496,"millis":0.513496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":67700,"millis":0.0677,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.347 [print] #notpresent \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":421397,"millis":0.421397,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.347 [print] OGC:WMS \n"},{"result":{"nanos":434696,"millis":0.434696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":114200,"millis":0.1142,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.348 [print] Beheer PDOK \n"},{"result":{"nanos":724494,"millis":0.724494,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.348 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe0e1e5f-512f-4bb1-bbf8-4028d3dfa24f#MD_DataIdentification \n"},{"result":{"nanos":483997,"millis":0.483997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":542096,"millis":0.542096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":281198,"millis":0.281198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"3d01c1ca-973c-4652-baa5-39458bb9e181\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.940344,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"3d01c1ca-973c-4652-baa5-39458bb9e181","startTime":1632027557493,"refId":"[1.200:67]","endTime":1632027558350,"exampleData":{"datasetIdentifierCode":"3d01c1ca-973c-4652-baa5-39458bb9e181"},"exampleIndex":199},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16699,"millis":0.016699,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.560 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48899,"millis":0.048899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":242799,"millis":0.242799,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35799,"millis":0.035799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":295398,"millis":0.295398,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":127499,"millis":0.127499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851306980,"millis":851.30698,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":365197,"millis":0.365197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5255c080-5f4e-4f7a-8a2c-6ac9d0103288'"}},{"result":{"nanos":374797,"millis":0.374797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":335498,"millis":0.335498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":307398,"millis":0.307398,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":371998,"millis":0.371998,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":362097,"millis":0.362097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":253298,"millis":0.253298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":263698,"millis":0.263698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":256698,"millis":0.256698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":53000,"millis":0.053,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127499,"millis":0.127499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.415 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":300598,"millis":0.300598,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":101299,"millis":0.101299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.416 [print] #notpresent \n"},{"result":{"nanos":389797,"millis":0.389797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.416 [print] OGC:WFS \n"},{"result":{"nanos":60399,"millis":0.060399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98799,"millis":0.098799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.417 [print] #notpresent \n"},{"result":{"nanos":353698,"millis":0.353698,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61699,"millis":0.061699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.417 [print] RIVM \n"},{"result":{"nanos":67900,"millis":0.0679,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.417 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f8d840bc-18df-4449-b797-b9adcb81d3ec \n"},{"result":{"nanos":341997,"millis":0.341997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":403697,"millis":0.403697,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":314698,"millis":0.314698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5255c080-5f4e-4f7a-8a2c-6ac9d0103288\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.905132,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288","startTime":1632027557559,"refId":"[1.201:67]","endTime":1632027558418,"exampleData":{"datasetIdentifierCode":"5255c080-5f4e-4f7a-8a2c-6ac9d0103288"},"exampleIndex":200},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.844 karate.env system property was: null \n"},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48599,"millis":0.048599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208699,"millis":0.208699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104999,"millis":0.104999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":416997,"millis":0.416997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72499,"millis":0.072499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47299,"millis":0.047299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '97a7d966-7261-49d4-bc08-c4900981f092'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848962396,"millis":848.962396,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":554596,"millis":0.554596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '97a7d966-7261-49d4-bc08-c4900981f092'"}},{"result":{"nanos":536696,"millis":0.536696,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":479597,"millis":0.479597,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":505996,"millis":0.505996,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":644596,"millis":0.644596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":624396,"millis":0.624396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":467996,"millis":0.467996,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":473697,"millis":0.473697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":386297,"millis":0.386297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":124299,"millis":0.124299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":142399,"millis":0.142399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.700 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/tn-a\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1024093,"millis":1.024093,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99699,"millis":0.099699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.701 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":734995,"millis":0.734995,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.702 [print] #notpresent \n"},{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":327498,"millis":0.327498,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.702 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":527996,"millis":0.527996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":107999,"millis":0.107999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.703 [print] Beheer PDOK \n"},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.703 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=31de946d-85d4-4c93-bb97-e25f4ef1401a#MD_DataIdentification \n"},{"result":{"nanos":687395,"millis":0.687395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":637696,"millis":0.637696,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":350597,"millis":0.350597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"97a7d966-7261-49d4-bc08-c4900981f092\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.659121,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"97a7d966-7261-49d4-bc08-c4900981f092","startTime":1632027557844,"refId":"[1.202:67]","endTime":1632027558705,"exampleData":{"datasetIdentifierCode":"97a7d966-7261-49d4-bc08-c4900981f092"},"exampleIndex":201},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16199,"millis":0.016199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:17.964 karate.env system property was: null \n"},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42700,"millis":0.0427,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50299,"millis":0.050299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208899,"millis":0.208899,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":342297,"millis":0.342297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29000,"millis":0.029,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115099,"millis":0.115099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66699,"millis":0.066699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '635bdc85-c596-4afb-ab07-de20c662310c'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853482764,"millis":853.482764,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":516796,"millis":0.516796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '635bdc85-c596-4afb-ab07-de20c662310c'"}},{"result":{"nanos":502497,"millis":0.502497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":458896,"millis":0.458896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":451097,"millis":0.451097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":628896,"millis":0.628896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":599996,"millis":0.599996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":507896,"millis":0.507896,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":546896,"millis":0.546896,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":683695,"millis":0.683695,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100799,"millis":0.100799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120199,"millis":0.120199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:18.824 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/sr\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1147592,"millis":1.147592,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":156499,"millis":0.156499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:18.826 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":764394,"millis":0.764394,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97500,"millis":0.0975,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:18.827 [print] #notpresent \n"},{"result":{"nanos":48599,"millis":0.048599,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":429497,"millis":0.429497,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:18.827 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":525996,"millis":0.525996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94200,"millis":0.0942,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:18.828 [print] Beheer PDOK \n"},{"result":{"nanos":86499,"millis":0.086499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:18.828 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=791adbe3-772f-42cb-a3be-5a617bcecef0#MD_DataIdentification \n"},{"result":{"nanos":1129092,"millis":1.129092,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":604996,"millis":0.604996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"635bdc85-c596-4afb-ab07-de20c662310c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":364898,"millis":0.364898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"635bdc85-c596-4afb-ab07-de20c662310c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.066681,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"635bdc85-c596-4afb-ab07-de20c662310c","startTime":1632027557964,"refId":"[1.203:67]","endTime":1632027558830,"exampleData":{"datasetIdentifierCode":"635bdc85-c596-4afb-ab07-de20c662310c"},"exampleIndex":202},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.352 karate.env system property was: null \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43899,"millis":0.043899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":191699,"millis":0.191699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35699,"millis":0.035699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":300198,"millis":0.300198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11999,"millis":0.011999,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":273998,"millis":0.273998,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846834862,"millis":846.834862,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":497596,"millis":0.497596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '745968a3-37af-4406-988e-ec595f58c7fe'"}},{"result":{"nanos":410796,"millis":0.410796,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":430897,"millis":0.430897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":389597,"millis":0.389597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":491096,"millis":0.491096,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":373997,"millis":0.373997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":284798,"millis":0.284798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":295597,"millis":0.295597,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347297,"millis":0.347297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":118999,"millis":0.118999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":642395,"millis":0.642395,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.204 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms? \n"},{"result":{"nanos":334997,"millis":0.334997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98899,"millis":0.098899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.205 [print] #notpresent \n"},{"result":{"nanos":304698,"millis":0.304698,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":113399,"millis":0.113399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.206 [print] OGC:WMS \n"},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":94699,"millis":0.094699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.206 [print] #notpresent \n"},{"result":{"nanos":599995,"millis":0.599995,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":117199,"millis":0.117199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.207 [print] RIVM \n"},{"result":{"nanos":80600,"millis":0.0806,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.207 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d24ccb35-e9d2-41bf-b231-43083fc0c76d \n"},{"result":{"nanos":772493,"millis":0.772493,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":589395,"millis":0.589395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":463697,"millis":0.463697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"745968a3-37af-4406-988e-ec595f58c7fe\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.81249,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"745968a3-37af-4406-988e-ec595f58c7fe","startTime":1632027558351,"refId":"[1.204:67]","endTime":1632027559209,"exampleData":{"datasetIdentifierCode":"745968a3-37af-4406-988e-ec595f58c7fe"},"exampleIndex":203},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.420 karate.env system property was: null \n"},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":194598,"millis":0.194598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":355397,"millis":0.355397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":198799,"millis":0.198799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58900,"millis":0.0589,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844062115,"millis":844.062115,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":343397,"millis":0.343397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bc0b75c6-3eef-49de-aca2-8483024903c1'"}},{"result":{"nanos":416496,"millis":0.416496,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":672595,"millis":0.672595,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":604395,"millis":0.604395,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":500396,"millis":0.500396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":554595,"millis":0.554595,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":377497,"millis":0.377497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":378797,"millis":0.378797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":633294,"millis":0.633294,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":95500,"millis":0.0955,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":92500,"millis":0.0925,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.270 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-wl\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":441596,"millis":0.441596,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":97499,"millis":0.097499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.270 [print] OGC:WFS \n"},{"result":{"nanos":511796,"millis":0.511796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":132299,"millis":0.132299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.271 [print] #notpresent \n"},{"result":{"nanos":52099,"millis":0.052099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74199,"millis":0.074199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.271 [print] OGC:WFS \n"},{"result":{"nanos":515696,"millis":0.515696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":139599,"millis":0.139599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.272 [print] Beheer PDOK \n"},{"result":{"nanos":51399,"millis":0.051399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.272 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=19165027-a13a-4c19-9013-ec1fd191019d#MD_DataIdentification \n"},{"result":{"nanos":482296,"millis":0.482296,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":473896,"millis":0.473896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":387597,"millis":0.387597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bc0b75c6-3eef-49de-aca2-8483024903c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":853.190942,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"bc0b75c6-3eef-49de-aca2-8483024903c1","startTime":1632027558419,"refId":"[1.205:67]","endTime":1632027559273,"exampleData":{"datasetIdentifierCode":"bc0b75c6-3eef-49de-aca2-8483024903c1"},"exampleIndex":204},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.707 karate.env system property was: null \n"},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54799,"millis":0.054799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220999,"millis":0.220999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40399,"millis":0.040399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":394598,"millis":0.394598,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":33699,"millis":0.033699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73900,"millis":0.0739,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17599,"millis":0.017599,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":91100,"millis":0.0911,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":8000,"millis":0.008,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860933580,"millis":860.93358,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":514496,"millis":0.514496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8129296b-b9c1-489f-990a-df4a879e12b2'"}},{"result":{"nanos":353797,"millis":0.353797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":382397,"millis":0.382397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":343398,"millis":0.343398,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":406896,"millis":0.406896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":351597,"millis":0.351597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":281798,"millis":0.281798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":386897,"millis":0.386897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":466596,"millis":0.466596,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":97700,"millis":0.0977,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":183399,"millis":0.183399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.573 [print] https:\/\/service.pdok.nl\/cbs\/hh\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":957192,"millis":0.957192,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89299,"millis":0.089299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.574 [print] OGC:WFS \n"},{"result":{"nanos":549496,"millis":0.549496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90099,"millis":0.090099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.575 [print] #notpresent \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":289897,"millis":0.289897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.575 [print] OGC:WFS \n"},{"result":{"nanos":722194,"millis":0.722194,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94300,"millis":0.0943,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.576 [print] Beheer PDOK \n"},{"result":{"nanos":725195,"millis":0.725195,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.577 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":480697,"millis":0.480697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":625094,"millis":0.625094,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":276298,"millis":0.276298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8129296b-b9c1-489f-990a-df4a879e12b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.740505,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"8129296b-b9c1-489f-990a-df4a879e12b2","startTime":1632027558707,"refId":"[1.206:67]","endTime":1632027559578,"exampleData":{"datasetIdentifierCode":"8129296b-b9c1-489f-990a-df4a879e12b2"},"exampleIndex":205},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:18.832 karate.env system property was: null \n"},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45399,"millis":0.045399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":249898,"millis":0.249898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":349197,"millis":0.349197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":68999,"millis":0.068999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":144899,"millis":0.144899,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70099,"millis":0.070099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849346044,"millis":849.346044,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":514095,"millis":0.514095,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a931e334-b752-4935-8a98-00eddc443789'"}},{"result":{"nanos":389597,"millis":0.389597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":333897,"millis":0.333897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":321698,"millis":0.321698,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":385397,"millis":0.385397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":347398,"millis":0.347398,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":29899,"millis":0.029899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":266798,"millis":0.266798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":261598,"millis":0.261598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":272798,"millis":0.272798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":52199,"millis":0.052199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":125399,"millis":0.125399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:19.687 [print] https:\\\/\\\/inspire.rivm.nl\\\/geoserver\\\/wfs?request=GetCapabilities \n"},{"result":{"nanos":314997,"millis":0.314997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74600,"millis":0.0746,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:19.687 [print] OGC:WFS \n"},{"result":{"nanos":307997,"millis":0.307997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:19.688 [print] INSPIRE Atom \n"},{"result":{"nanos":26799,"millis":0.026799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":69600,"millis":0.0696,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:19.688 [print] OGC:WFS \n"},{"result":{"nanos":391896,"millis":0.391896,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":51000,"millis":0.051,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:19.688 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":70199,"millis":0.070199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:19.688 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":377197,"millis":0.377197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":556296,"millis":0.556296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":295297,"millis":0.295297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a931e334-b752-4935-8a98-00eddc443789\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.376086,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a931e334-b752-4935-8a98-00eddc443789","startTime":1632027558832,"refId":"[1.207:67]","endTime":1632027559689,"exampleData":{"datasetIdentifierCode":"a931e334-b752-4935-8a98-00eddc443789"},"exampleIndex":206},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.211 karate.env system property was: null \n"},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61499,"millis":0.061499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":80699,"millis":0.080699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":200699,"millis":0.200699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36599,"millis":0.036599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":329198,"millis":0.329198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28399,"millis":0.028399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":248698,"millis":0.248698,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":22999,"millis":0.022999,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":68500,"millis":0.0685,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":7000,"millis":0.007,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855421864,"millis":855.421864,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433397,"millis":0.433397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'feeae7d3-7485-4a39-895c-ed65e945ced0'"}},{"result":{"nanos":361497,"millis":0.361497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":370897,"millis":0.370897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":376197,"millis":0.376197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":446897,"millis":0.446897,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":370097,"millis":0.370097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25799,"millis":0.025799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":262298,"millis":0.262298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":270498,"millis":0.270498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":270698,"millis":0.270698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":541395,"millis":0.541395,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":736994,"millis":0.736994,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.073 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_regis_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":338797,"millis":0.338797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":425197,"millis":0.425197,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.074 [print] #notpresent \n"},{"result":{"nanos":423396,"millis":0.423396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":400097,"millis":0.400097,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.075 [print] OGC:WMS \n"},{"result":{"nanos":54799,"millis":0.054799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":405197,"millis":0.405197,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.075 [print] #notpresent \n"},{"result":{"nanos":367397,"millis":0.367397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":146999,"millis":0.146999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.076 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":100700,"millis":0.1007,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.076 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":473396,"millis":0.473396,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":880293,"millis":0.880293,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":390397,"millis":0.390397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"feeae7d3-7485-4a39-895c-ed65e945ced0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.514483,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"feeae7d3-7485-4a39-895c-ed65e945ced0","startTime":1632027559211,"refId":"[1.208:67]","endTime":1632027560077,"exampleData":{"datasetIdentifierCode":"feeae7d3-7485-4a39-895c-ed65e945ced0"},"exampleIndex":207},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.275 karate.env system property was: null \n"},{"result":{"nanos":46999,"millis":0.046999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":66499,"millis":0.066499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223798,"millis":0.223798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39300,"millis":0.0393,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434396,"millis":0.434396,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12700,"millis":0.0127,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29899,"millis":0.029899,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":6499,"millis":0.006499,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":841746175,"millis":841.746175,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":412697,"millis":0.412697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '76342a6d-452e-4e21-b5c0-81ff7b1be90e'"}},{"result":{"nanos":624995,"millis":0.624995,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":506196,"millis":0.506196,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":603595,"millis":0.603595,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":531596,"millis":0.531596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":448496,"millis":0.448496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":363497,"millis":0.363497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":384297,"millis":0.384297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":301598,"millis":0.301598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79899,"millis":0.079899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":734594,"millis":0.734594,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.124 [print] https:\/\/www.broinspireservices.nl\/wfs\/ossobor-a-v1.0?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":382297,"millis":0.382297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74999,"millis":0.074999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.124 [print] OGC:WFS \n"},{"result":{"nanos":522396,"millis":0.522396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75899,"millis":0.075899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.125 [print] #notpresent \n"},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":372897,"millis":0.372897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.125 [print] OGC:WFS \n"},{"result":{"nanos":408396,"millis":0.408396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.126 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.126 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=9dd9bf30-36e6-45ae-b368-bdef2720bdde&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":946192,"millis":0.946192,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":587996,"millis":0.587996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":358798,"millis":0.358798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"76342a6d-452e-4e21-b5c0-81ff7b1be90e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":851.780195,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"76342a6d-452e-4e21-b5c0-81ff7b1be90e","startTime":1632027559275,"refId":"[1.209:67]","endTime":1632027560128,"exampleData":{"datasetIdentifierCode":"76342a6d-452e-4e21-b5c0-81ff7b1be90e"},"exampleIndex":208},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.580 karate.env system property was: null \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69399,"millis":0.069399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":204398,"millis":0.204398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":436396,"millis":0.436396,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":131699,"millis":0.131699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":84199,"millis":0.084199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":207499,"millis":0.207499,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53099,"millis":0.053099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":6700,"millis":0.0067,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":840002989,"millis":840.002989,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":496396,"millis":0.496396,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '17ad94f6-4961-448b-a6f5-5368b7870409'"}},{"result":{"nanos":503296,"millis":0.503296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":376197,"millis":0.376197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":371397,"millis":0.371397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":443097,"millis":0.443097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":387097,"millis":0.387097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25899,"millis":0.025899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":314398,"millis":0.314398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":297297,"millis":0.297297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":290298,"millis":0.290298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":84299,"millis":0.084299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":83899,"millis":0.083899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.426 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wms?request=GetCapabilities \n"},{"result":{"nanos":926693,"millis":0.926693,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87799,"millis":0.087799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.427 [print] OGC:WMS \n"},{"result":{"nanos":326897,"millis":0.326897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.428 [print] #notpresent \n"},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.428 [print] OGC:WMS \n"},{"result":{"nanos":713694,"millis":0.713694,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81799,"millis":0.081799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.428 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.429 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/xml.metadata.get?uuid=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":386697,"millis":0.386697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":613895,"millis":0.613895,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":745294,"millis":0.745294,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"17ad94f6-4961-448b-a6f5-5368b7870409\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":849.173216,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"17ad94f6-4961-448b-a6f5-5368b7870409","startTime":1632027559580,"refId":"[1.210:67]","endTime":1632027560430,"exampleData":{"datasetIdentifierCode":"17ad94f6-4961-448b-a6f5-5368b7870409"},"exampleIndex":209},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:19.691 karate.env system property was: null \n"},{"result":{"nanos":45999,"millis":0.045999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65999,"millis":0.065999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278197,"millis":0.278197,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":337997,"millis":0.337997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66899,"millis":0.066899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48599,"millis":0.048599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858030143,"millis":858.030143,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433496,"millis":0.433496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f5660ac6-8031-4acc-832c-1d1b82b062ba'"}},{"result":{"nanos":401297,"millis":0.401297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":523596,"millis":0.523596,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":505296,"millis":0.505296,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":397397,"millis":0.397397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":365297,"millis":0.365297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":291797,"millis":0.291797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281398,"millis":0.281398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":302497,"millis":0.302497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90999,"millis":0.090999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.554 [print] https:\/\/www.gdngeoservices.nl\/inspire\/downloads\/services.atom \n"},{"result":{"nanos":546995,"millis":0.546995,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":82599,"millis":0.082599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.555 [print] INSPIRE Atom \n"},{"result":{"nanos":446397,"millis":0.446397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.556 [print] #notpresent \n"},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":201498,"millis":0.201498,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.556 [print] INSPIRE Atom \n"},{"result":{"nanos":559095,"millis":0.559095,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87700,"millis":0.0877,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.556 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":30299,"millis":0.030299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.556 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=11a292bd-9022-4a9f-b1bf-02f5c89ad74a&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":871793,"millis":0.871793,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":719894,"millis":0.719894,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":490896,"millis":0.490896,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f5660ac6-8031-4acc-832c-1d1b82b062ba\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.895969,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f5660ac6-8031-4acc-832c-1d1b82b062ba","startTime":1632027559691,"refId":"[1.211:67]","endTime":1632027560559,"exampleData":{"datasetIdentifierCode":"f5660ac6-8031-4acc-832c-1d1b82b062ba"},"exampleIndex":210},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17500,"millis":0.0175,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.080 karate.env system property was: null \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47299,"millis":0.047299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236898,"millis":0.236898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36499,"millis":0.036499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":350497,"millis":0.350497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":149399,"millis":0.149399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858681137,"millis":858.681137,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":635695,"millis":0.635695,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '280cee65-1b66-4973-a569-75122e0b745b'"}},{"result":{"nanos":417197,"millis":0.417197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":396596,"millis":0.396596,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":434197,"millis":0.434197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":604495,"millis":0.604495,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":456896,"millis":0.456896,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98399,"millis":0.098399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":513196,"millis":0.513196,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":528095,"millis":0.528095,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":479896,"millis":0.479896,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":248898,"millis":0.248898,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":276598,"millis":0.276598,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:20.945 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rws\\\/richtlijnstedelijkafvalwater2015\\\/wfs\\\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":411696,"millis":0.411696,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":234398,"millis":0.234398,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:20.946 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":461997,"millis":0.461997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":477596,"millis":0.477596,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:20.947 [print] #notpresent \n"},{"result":{"nanos":116399,"millis":0.116399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":450696,"millis":0.450696,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:20.948 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":485696,"millis":0.485696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":491596,"millis":0.491596,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:20.949 [print] Beheer PDOK \n"},{"result":{"nanos":1329489,"millis":1.329489,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:20.950 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":575695,"millis":0.575695,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":483596,"millis":0.483596,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":357897,"millis":0.357897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"280cee65-1b66-4973-a569-75122e0b745b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.704838,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"280cee65-1b66-4973-a569-75122e0b745b","startTime":1632027560079,"refId":"[1.212:67]","endTime":1632027560952,"exampleData":{"datasetIdentifierCode":"280cee65-1b66-4973-a569-75122e0b745b"},"exampleIndex":211},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.130 karate.env system property was: null \n"},{"result":{"nanos":29899,"millis":0.029899,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":52099,"millis":0.052099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":233698,"millis":0.233698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":313697,"millis":0.313697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27700,"millis":0.0277,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12699,"millis":0.012699,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":327697,"millis":0.327697,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872684424,"millis":872.684424,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":459196,"millis":0.459196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '26e2e9f4-be88-4c8c-bdef-94edfa93bde9'"}},{"result":{"nanos":395397,"millis":0.395397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1162691,"millis":1.162691,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":520795,"millis":0.520795,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":692595,"millis":0.692595,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":536296,"millis":0.536296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":87199,"millis":0.087199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":513396,"millis":0.513396,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":461596,"millis":0.461596,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":490596,"millis":0.490596,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":629495,"millis":0.629495,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":522696,"millis":0.522696,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.011 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":362597,"millis":0.362597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":412596,"millis":0.412596,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.011 [print] OGC:WMS \n"},{"result":{"nanos":374797,"millis":0.374797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":414196,"millis":0.414196,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.012 [print] #notpresent \n"},{"result":{"nanos":397997,"millis":0.397997,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":116299,"millis":0.116299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.013 [print] OGC:WMS \n"},{"result":{"nanos":481596,"millis":0.481596,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":153099,"millis":0.153099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.013 [print] Beheer PDOK \n"},{"result":{"nanos":307497,"millis":0.307497,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.014 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":349497,"millis":0.349497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":427697,"millis":0.427697,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":294997,"millis":0.294997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"26e2e9f4-be88-4c8c-bdef-94edfa93bde9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":884.448626,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9","startTime":1632027560129,"refId":"[1.213:67]","endTime":1632027561015,"exampleData":{"datasetIdentifierCode":"26e2e9f4-be88-4c8c-bdef-94edfa93bde9"},"exampleIndex":212},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.433 karate.env system property was: null \n"},{"result":{"nanos":57999,"millis":0.057999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66200,"millis":0.0662,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":130099,"millis":0.130099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":266697,"millis":0.266697,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":65400,"millis":0.0654,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":458696,"millis":0.458696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":49899,"millis":0.049899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":740194,"millis":0.740194,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":70499,"millis":0.070499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852008091,"millis":852.008091,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":551496,"millis":0.551496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '5523cfd7-a72c-409e-a0c7-89b858aafa64'"}},{"result":{"nanos":474796,"millis":0.474796,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":362797,"millis":0.362797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":300897,"millis":0.300897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":489496,"millis":0.489496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":444596,"millis":0.444596,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77800,"millis":0.0778,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":363797,"millis":0.363797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":347697,"millis":0.347697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":687994,"millis":0.687994,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":184999,"millis":0.184999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":1030192,"millis":1.030192,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.293 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":359297,"millis":0.359297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":153999,"millis":0.153999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.293 [print] OGC:WMS \n"},{"result":{"nanos":355197,"millis":0.355197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":155698,"millis":0.155698,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.294 [print] #notpresent \n"},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":122799,"millis":0.122799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.294 [print] OGC:WMS \n"},{"result":{"nanos":401296,"millis":0.401296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":148499,"millis":0.148499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.294 [print] Beheer PDOK \n"},{"result":{"nanos":164999,"millis":0.164999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.295 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":456396,"millis":0.456396,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":460896,"millis":0.460896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":393797,"millis":0.393797,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"5523cfd7-a72c-409e-a0c7-89b858aafa64\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.566104,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"5523cfd7-a72c-409e-a0c7-89b858aafa64","startTime":1632027560432,"refId":"[1.214:67]","endTime":1632027561296,"exampleData":{"datasetIdentifierCode":"5523cfd7-a72c-409e-a0c7-89b858aafa64"},"exampleIndex":213},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.561 karate.env system property was: null \n"},{"result":{"nanos":31699,"millis":0.031699,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69899,"millis":0.069899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":367097,"millis":0.367097,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":472696,"millis":0.472696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31300,"millis":0.0313,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40599,"millis":0.040599,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":166998,"millis":0.166998,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857689546,"millis":857.689546,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":545496,"millis":0.545496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '598c4109-21d2-4a6c-b083-9975a6736849'"}},{"result":{"nanos":418497,"millis":0.418497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":385097,"millis":0.385097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":444396,"millis":0.444396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":529896,"millis":0.529896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":459096,"millis":0.459096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75100,"millis":0.0751,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":367597,"millis":0.367597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":374097,"millis":0.374097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":388097,"millis":0.388097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110499,"millis":0.110499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":150599,"millis":0.150599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.425 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbvaarwegen\\\/wms?request=getCapabilities&service=WMS \n"},{"result":{"nanos":405297,"millis":0.405297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":149498,"millis":0.149498,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.425 [print] #notpresent \n"},{"result":{"nanos":424997,"millis":0.424997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":115699,"millis":0.115699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.426 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":76799,"millis":0.076799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":231198,"millis":0.231198,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.426 [print] #notpresent \n"},{"result":{"nanos":556096,"millis":0.556096,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":163298,"millis":0.163298,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.427 [print] Beheer PDOK \n"},{"result":{"nanos":133299,"millis":0.133299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.427 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification \n"},{"result":{"nanos":502896,"millis":0.502896,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":433396,"millis":0.433396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":306398,"millis":0.306398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"598c4109-21d2-4a6c-b083-9975a6736849\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.895372,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"598c4109-21d2-4a6c-b083-9975a6736849","startTime":1632027560561,"refId":"[1.215:67]","endTime":1632027561429,"exampleData":{"datasetIdentifierCode":"598c4109-21d2-4a6c-b083-9975a6736849"},"exampleIndex":214},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:20.955 karate.env system property was: null \n"},{"result":{"nanos":42499,"millis":0.042499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":124299,"millis":0.124299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":121499,"millis":0.121499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":315098,"millis":0.315098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":126099,"millis":0.126099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":447097,"millis":0.447097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":109100,"millis":0.1091,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":468396,"millis":0.468396,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55799,"millis":0.055799,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42500,"millis":0.0425,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30699,"millis":0.030699,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":28599,"millis":0.028599,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855089267,"millis":855.089267,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":478896,"millis":0.478896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd293204f-6581-4b0a-811b-1dcce97adedd'"}},{"result":{"nanos":393797,"millis":0.393797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":977192,"millis":0.977192,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":519095,"millis":0.519095,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":670395,"millis":0.670395,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":571495,"millis":0.571495,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":330997,"millis":0.330997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":542096,"millis":0.542096,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335698,"millis":0.335698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":85999,"millis":0.085999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120899,"millis":0.120899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.818 [print] https:\/\/geodata.nationaalgeoregister.nl\/publiekrechtelijkebeperking\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":449196,"millis":0.449196,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":65199,"millis":0.065199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.819 [print] OGC:WMS \n"},{"result":{"nanos":859893,"millis":0.859893,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.820 [print] #notpresent \n"},{"result":{"nanos":339397,"millis":0.339397,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68499,"millis":0.068499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.820 [print] OGC:WMS \n"},{"result":{"nanos":746594,"millis":0.746594,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":74499,"millis":0.074499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.821 [print] Beheer PDOK \n"},{"result":{"nanos":279798,"millis":0.279798,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.822 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification \n"},{"result":{"nanos":960192,"millis":0.960192,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":638395,"millis":0.638395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":307697,"millis":0.307697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d293204f-6581-4b0a-811b-1dcce97adedd\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.075269,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d293204f-6581-4b0a-811b-1dcce97adedd","startTime":1632027560954,"refId":"[1.216:67]","endTime":1632027561823,"exampleData":{"datasetIdentifierCode":"d293204f-6581-4b0a-811b-1dcce97adedd"},"exampleIndex":215},{"sectionIndex":0,"stepResults":[{"result":{"nanos":70699,"millis":0.070699,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.018 karate.env system property was: null \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":181098,"millis":0.181098,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":123999,"millis":0.123999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":403397,"millis":0.403397,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":183898,"millis":0.183898,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":481096,"millis":0.481096,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":82099,"millis":0.082099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":188799,"millis":0.188799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":70899,"millis":0.070899,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":27299,"millis":0.027299,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860082526,"millis":860.082526,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":325497,"millis":0.325497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7af7b20d-3f8a-4d7f-8124-73980535a4f6'"}},{"result":{"nanos":354697,"millis":0.354697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":338098,"millis":0.338098,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":313098,"millis":0.313098,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":452496,"millis":0.452496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":579895,"millis":0.579895,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":320597,"millis":0.320597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":282798,"millis":0.282798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":333098,"millis":0.333098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":114599,"millis":0.114599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":990892,"millis":0.990892,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:21.884 [print] https:\/\/www.broinspireservices.nl\/arcgis\/services\/inspire\/inspire_dgm_rd\/MapServer\/WMSServer?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":470596,"millis":0.470596,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":115599,"millis":0.115599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:21.885 [print] #notpresent \n"},{"result":{"nanos":802593,"millis":0.802593,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105599,"millis":0.105599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:21.886 [print] OGC:WMS \n"},{"result":{"nanos":31200,"millis":0.0312,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":53399,"millis":0.053399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:21.887 [print] #notpresent \n"},{"result":{"nanos":378897,"millis":0.378897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70000,"millis":0.07,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:21.887 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:21.887 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=F646DFB9-5BF6-EAB9-042B-CAB6FF2DC275&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":343397,"millis":0.343397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1195690,"millis":1.19569,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":339798,"millis":0.339798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7af7b20d-3f8a-4d7f-8124-73980535a4f6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.507642,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7af7b20d-3f8a-4d7f-8124-73980535a4f6","startTime":1632027561017,"refId":"[1.217:67]","endTime":1632027561889,"exampleData":{"datasetIdentifierCode":"7af7b20d-3f8a-4d7f-8124-73980535a4f6"},"exampleIndex":216},{"sectionIndex":0,"stepResults":[{"result":{"nanos":54499,"millis":0.054499,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.298 karate.env system property was: null \n"},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":211598,"millis":0.211598,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":141399,"millis":0.141399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":366797,"millis":0.366797,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":111299,"millis":0.111299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433996,"millis":0.433996,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":78000,"millis":0.078,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":135899,"millis":0.135899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28599,"millis":0.028599,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9940c446-6fd4-4ab3-a4de-7d0ee028a8d1'"}},{"result":{"nanos":26699,"millis":0.026699,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":861111618,"millis":861.111618,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":662494,"millis":0.662494,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9940c446-6fd4-4ab3-a4de-7d0ee028a8d1'"}},{"result":{"nanos":546396,"millis":0.546396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":820794,"millis":0.820794,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":627395,"millis":0.627395,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":590295,"millis":0.590295,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":569395,"millis":0.569395,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":917992,"millis":0.917992,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":686994,"millis":0.686994,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":566396,"millis":0.566396,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":135999,"millis":0.135999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":197399,"millis":0.197399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.168 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ecotopen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":534095,"millis":0.534095,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":85200,"millis":0.0852,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.169 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":490696,"millis":0.490696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":51600,"millis":0.0516,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.169 [print] #notpresent \n"},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":91599,"millis":0.091599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.170 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":666094,"millis":0.666094,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":165899,"millis":0.165899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.170 [print] Beheer PDOK \n"},{"result":{"nanos":77899,"millis":0.077899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.171 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=2220c0dd-3720-4e39-a130-171531c1e694#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=78d31ab4-4116-45b7-bcf5-e14960916b0f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=b250f3a4-ed78-4c85-8cd5-f1af43841c6e#MD_DataIdentification\"] \n"},{"result":{"nanos":680795,"millis":0.680795,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":636995,"millis":0.636995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":376397,"millis":0.376397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.146621,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1","startTime":1632027561298,"refId":"[1.218:67]","endTime":1632027562172,"exampleData":{"datasetIdentifierCode":"9940c446-6fd4-4ab3-a4de-7d0ee028a8d1"},"exampleIndex":217},{"sectionIndex":0,"stepResults":[{"result":{"nanos":56700,"millis":0.0567,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.432 karate.env system property was: null \n"},{"result":{"nanos":42199,"millis":0.042199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":188199,"millis":0.188199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":144598,"millis":0.144598,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":334798,"millis":0.334798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":140299,"millis":0.140299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368697,"millis":0.368697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":115499,"millis":0.115499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":136499,"millis":0.136499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":38399,"millis":0.038399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":30199,"millis":0.030199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843993957,"millis":843.993957,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1599,"millis":0.001599,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":618695,"millis":0.618695,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1bd24d1e-aa13-4395-809e-893570f7c651'"}},{"result":{"nanos":576396,"millis":0.576396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":514395,"millis":0.514395,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":522096,"millis":0.522096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":737594,"millis":0.737594,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":463296,"millis":0.463296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":313197,"millis":0.313197,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":303398,"millis":0.303398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":353698,"millis":0.353698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":151799,"millis":0.151799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":744594,"millis":0.744594,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.283 [print] https:\/\/geodata.nationaalgeoregister.nl\/overheidsdiensten\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":336597,"millis":0.336597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":476696,"millis":0.476696,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.284 [print] OGC:WMS \n"},{"result":{"nanos":434897,"millis":0.434897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86899,"millis":0.086899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.285 [print] #notpresent \n"},{"result":{"nanos":359597,"millis":0.359597,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":52899,"millis":0.052899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.285 [print] OGC:WMS \n"},{"result":{"nanos":792294,"millis":0.792294,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77699,"millis":0.077699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.286 [print] Beheer PDOK \n"},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.286 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification \n"},{"result":{"nanos":1202290,"millis":1.20229,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":581695,"millis":0.581695,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":306498,"millis":0.306498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1bd24d1e-aa13-4395-809e-893570f7c651\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.819861,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1bd24d1e-aa13-4395-809e-893570f7c651","startTime":1632027561431,"refId":"[1.219:67]","endTime":1632027562288,"exampleData":{"datasetIdentifierCode":"1bd24d1e-aa13-4395-809e-893570f7c651"},"exampleIndex":218},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18699,"millis":0.018699,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.825 karate.env system property was: null \n"},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45799,"millis":0.045799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53500,"millis":0.0535,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":214998,"millis":0.214998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":345797,"millis":0.345797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64400,"millis":0.0644,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5399,"millis":0.005399,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":841271079,"millis":841.271079,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":454296,"millis":0.454296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f'"}},{"result":{"nanos":375797,"millis":0.375797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":381097,"millis":0.381097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":364597,"millis":0.364597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":437396,"millis":0.437396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":343798,"millis":0.343798,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43000,"millis":0.043,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":268298,"millis":0.268298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":302797,"millis":0.302797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":343097,"millis":0.343097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83500,"millis":0.0835,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":164399,"millis":0.164399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.672 [print] https:\/\/inspire.caris.nl\/gs5\/ProspectingAndMiningPermitArea\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":1174291,"millis":1.174291,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":67000,"millis":0.067,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.674 [print] OGC:WMS \n"},{"result":{"nanos":422796,"millis":0.422796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.674 [print] #notpresent \n"},{"result":{"nanos":48699,"millis":0.048699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":177199,"millis":0.177199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.674 [print] OGC:WMS \n"},{"result":{"nanos":536895,"millis":0.536895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":104100,"millis":0.1041,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.675 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":64099,"millis":0.064099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.675 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c2225e5d-b46f-4e38-8445-ab10fd40c0dc#MD_DataIdentification \n"},{"result":{"nanos":589495,"millis":0.589495,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":610795,"millis":0.610795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":298798,"millis":0.298798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":849.94321,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f","startTime":1632027561825,"refId":"[1.220:67]","endTime":1632027562677,"exampleData":{"datasetIdentifierCode":"c35c7421-f3ef-4bfb-afcc-ca15d03b8e6f"},"exampleIndex":219},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17700,"millis":0.0177,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:21.891 karate.env system property was: null \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61099,"millis":0.061099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51200,"millis":0.0512,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":198398,"millis":0.198398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":340397,"millis":0.340397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32199,"millis":0.032199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12400,"millis":0.0124,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50199,"millis":0.050199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":861511015,"millis":861.511015,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":430196,"millis":0.430196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ac78-851b619f357f'"}},{"result":{"nanos":404397,"millis":0.404397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1661186,"millis":1.661186,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":341497,"millis":0.341497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":380497,"millis":0.380497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":398797,"millis":0.398797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26299,"millis":0.026299,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":298198,"millis":0.298198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":272798,"millis":0.272798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":262897,"millis":0.262897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108099,"millis":0.108099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":773994,"millis":0.773994,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:22.759 [print] https:\/\/services.rce.geovoorziening.nl\/www\/download\/nl.xml \n"},{"result":{"nanos":358697,"millis":0.358697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":428997,"millis":0.428997,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:22.760 [print] #notpresent \n"},{"result":{"nanos":439097,"millis":0.439097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":358997,"millis":0.358997,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:22.761 [print] INSPIRE Atom \n"},{"result":{"nanos":34200,"millis":0.0342,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":75399,"millis":0.075399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:22.761 [print] #notpresent \n"},{"result":{"nanos":591495,"millis":0.591495,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":106099,"millis":0.106099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:22.762 [print] Rijksdienst voor het Cultureel Erfgoed \n"},{"result":{"nanos":421197,"millis":0.421197,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:22.762 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=6f84efeb-fc1d-4565-a721-80735ea57dbd&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=dfe5b146-354f-4bc7-99b1-6713817afac9&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=4e2ef670-cddd-11dd-ad8b-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=88a3c1ae-902e-4efa-8663-ddd836101929&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":1359789,"millis":1.359789,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":783094,"millis":0.783094,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385797,"millis":0.385797,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ac78-851b619f357f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.12422,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ef2a7962-8bb4-483f-ac78-851b619f357f","startTime":1632027561890,"refId":"[1.221:67]","endTime":1632027562765,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ac78-851b619f357f"},"exampleIndex":220},{"sectionIndex":0,"stepResults":[{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.174 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":83499,"millis":0.083499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50100,"millis":0.0501,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":301197,"millis":0.301197,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419597,"millis":0.419597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30199,"millis":0.030199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66999,"millis":0.066999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854945568,"millis":854.945568,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1140191,"millis":1.140191,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2b9da196-422e-4b0e-a5ba-ba41ade308e9'"}},{"result":{"nanos":1449488,"millis":1.449488,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1392488,"millis":1.392488,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1769786,"millis":1.769786,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1402589,"millis":1.402589,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1524288,"millis":1.524288,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":910192,"millis":0.910192,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1148491,"millis":1.148491,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":925692,"millis":0.925692,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":153699,"millis":0.153699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":110299,"millis":0.110299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.043 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":980092,"millis":0.980092,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.044 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":941593,"millis":0.941593,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":72899,"millis":0.072899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.045 [print] #notpresent \n"},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72999,"millis":0.072999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.045 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2229582,"millis":2.229582,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":85699,"millis":0.085699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.047 [print] Beheer PDOK \n"},{"result":{"nanos":53800,"millis":0.0538,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.048 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":1895884,"millis":1.895884,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":558496,"millis":0.558496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":280297,"millis":0.280297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2b9da196-422e-4b0e-a5ba-ba41ade308e9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.320003,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"2b9da196-422e-4b0e-a5ba-ba41ade308e9","startTime":1632027562174,"refId":"[1.222:67]","endTime":1632027563050,"exampleData":{"datasetIdentifierCode":"2b9da196-422e-4b0e-a5ba-ba41ade308e9"},"exampleIndex":221},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.290 karate.env system property was: null \n"},{"result":{"nanos":40799,"millis":0.040799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53300,"millis":0.0533,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50699,"millis":0.050699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":249898,"millis":0.249898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":386497,"millis":0.386497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29599,"millis":0.029599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16299,"millis":0.016299,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55099,"millis":0.055099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":837972006,"millis":837.972006,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":561595,"millis":0.561595,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '008d85d1-460d-46f6-9af4-98afdedbc4dc'"}},{"result":{"nanos":380297,"millis":0.380297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":367797,"millis":0.367797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":441896,"millis":0.441896,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":511096,"millis":0.511096,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":575395,"millis":0.575395,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":344498,"millis":0.344498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":381196,"millis":0.381196,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":319598,"millis":0.319598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":794793,"millis":0.794793,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":736394,"millis":0.736394,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.136 [print] https:\/\/service.pdok.nl\/cbs\/pd\/wfs\/v1_0?service=WFS&request=GetCapabilities&service=wfs \n"},{"result":{"nanos":358597,"millis":0.358597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":487896,"millis":0.487896,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.137 [print] OGC:WFS \n"},{"result":{"nanos":341297,"millis":0.341297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":623395,"millis":0.623395,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.138 [print] #notpresent \n"},{"result":{"nanos":72299,"millis":0.072299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":493796,"millis":0.493796,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.138 [print] OGC:WFS \n"},{"result":{"nanos":469096,"millis":0.469096,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77900,"millis":0.0779,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.139 [print] Beheer PDOK \n"},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.139 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":1154291,"millis":1.154291,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":579395,"millis":0.579395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":312197,"millis":0.312197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"008d85d1-460d-46f6-9af4-98afdedbc4dc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":849.51391,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"008d85d1-460d-46f6-9af4-98afdedbc4dc","startTime":1632027562290,"refId":"[1.223:67]","endTime":1632027563141,"exampleData":{"datasetIdentifierCode":"008d85d1-460d-46f6-9af4-98afdedbc4dc"},"exampleIndex":222},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.678 karate.env system property was: null \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45499,"millis":0.045499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50700,"millis":0.0507,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276297,"millis":0.276297,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":375497,"millis":0.375497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44899,"millis":0.044899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63400,"millis":0.0634,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":139599,"millis":0.139599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":880119564,"millis":880.119564,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":438497,"millis":0.438497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93a9571d-1754-47ee-a8f9-92633abfab3a'"}},{"result":{"nanos":339397,"millis":0.339397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":303397,"millis":0.303397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":296198,"millis":0.296198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":371397,"millis":0.371397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":491696,"millis":0.491696,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":61699,"millis":0.061699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":264298,"millis":0.264298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":302497,"millis":0.302497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":258598,"millis":0.258598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":224898,"millis":0.224898,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":272298,"millis":0.272298,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.564 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/invasieve-exoten\/wfs\/v1_0?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":333097,"millis":0.333097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":147899,"millis":0.147899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.564 [print] OGC:WFS \n"},{"result":{"nanos":303697,"millis":0.303697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":115099,"millis":0.115099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.565 [print] #notpresent \n"},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72999,"millis":0.072999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.565 [print] OGC:WFS \n"},{"result":{"nanos":408597,"millis":0.408597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":84599,"millis":0.084599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.565 [print] Beheer PDOK \n"},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.565 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3703b249-a0eb-484e-ba7a-10e31a55bcec&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":348497,"millis":0.348497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":532395,"millis":0.532395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":272998,"millis":0.272998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"93a9571d-1754-47ee-a8f9-92633abfab3a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.594402,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"93a9571d-1754-47ee-a8f9-92633abfab3a","startTime":1632027562678,"refId":"[1.224:67]","endTime":1632027563567,"exampleData":{"datasetIdentifierCode":"93a9571d-1754-47ee-a8f9-92633abfab3a"},"exampleIndex":223},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:22.767 karate.env system property was: null \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":84099,"millis":0.084099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":265798,"millis":0.265798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":41400,"millis":0.0414,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":478496,"millis":0.478496,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31299,"millis":0.031299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":109899,"millis":0.109899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":273898,"millis":0.273898,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51199,"millis":0.051199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849534712,"millis":849.534712,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":477296,"millis":0.477296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '578f993f-4d0b-4c4a-a08b-dfa9e1d1376e'"}},{"result":{"nanos":573695,"millis":0.573695,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":620595,"millis":0.620595,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":466396,"millis":0.466396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":412797,"millis":0.412797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":382097,"millis":0.382097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23999,"millis":0.023999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":291598,"millis":0.291598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":283998,"millis":0.283998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":295098,"millis":0.295098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":70500,"millis":0.0705,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.622 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nhi\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":313197,"millis":0.313197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":181799,"millis":0.181799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.623 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":495196,"millis":0.495196,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":53699,"millis":0.053699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.623 [print] #notpresent \n"},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":83999,"millis":0.083999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.624 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":432797,"millis":0.432797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.624 [print] Beheer PDOK \n"},{"result":{"nanos":61099,"millis":0.061099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.624 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification \n"},{"result":{"nanos":364397,"millis":0.364397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":377497,"millis":0.377497,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":304898,"millis":0.304898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.712347,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e","startTime":1632027562766,"refId":"[1.225:67]","endTime":1632027563625,"exampleData":{"datasetIdentifierCode":"578f993f-4d0b-4c4a-a08b-dfa9e1d1376e"},"exampleIndex":224},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.052 karate.env system property was: null \n"},{"result":{"nanos":48899,"millis":0.048899,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66400,"millis":0.0664,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51999,"millis":0.051999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":240798,"millis":0.240798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":350397,"millis":0.350397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62699,"millis":0.062699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32800,"millis":0.0328,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":7600,"millis":0.0076,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842383169,"millis":842.383169,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":485396,"millis":0.485396,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd7d19437-f875-45b3-86cd-2fa3335479ec'"}},{"result":{"nanos":398097,"millis":0.398097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":356297,"millis":0.356297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":349797,"millis":0.349797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":390297,"millis":0.390297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":356097,"millis":0.356097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":271997,"millis":0.271997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":271098,"millis":0.271098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":274498,"millis":0.274498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61799,"millis":0.061799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":74400,"millis":0.0744,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:23.899 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-rvo-np\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":312798,"millis":0.312798,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79899,"millis":0.079899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:23.900 [print] OGC:WFS \n"},{"result":{"nanos":290398,"millis":0.290398,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66399,"millis":0.066399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:23.900 [print] #notpresent \n"},{"result":{"nanos":56100,"millis":0.0561,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":90599,"millis":0.090599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:23.900 [print] OGC:WFS \n"},{"result":{"nanos":399697,"millis":0.399697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100700,"millis":0.1007,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:23.901 [print] Beheer PDOK \n"},{"result":{"nanos":55499,"millis":0.055499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:23.901 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=247a1d15-0a67-40ce-85be-1403c08f15a8#MD_DataIdentification \n"},{"result":{"nanos":407597,"millis":0.407597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":553795,"millis":0.553795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":310098,"millis":0.310098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d7d19437-f875-45b3-86cd-2fa3335479ec\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":849.478513,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d7d19437-f875-45b3-86cd-2fa3335479ec","startTime":1632027563052,"refId":"[1.226:67]","endTime":1632027563902,"exampleData":{"datasetIdentifierCode":"d7d19437-f875-45b3-86cd-2fa3335479ec"},"exampleIndex":225},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17699,"millis":0.017699,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.143 karate.env system property was: null \n"},{"result":{"nanos":64400,"millis":0.0644,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48299,"millis":0.048299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53400,"millis":0.0534,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":227598,"millis":0.227598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":39000,"millis":0.039,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":382896,"millis":0.382896,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":63699,"millis":0.063699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":333497,"millis":0.333497,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":8200,"millis":0.0082,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860522423,"millis":860.522423,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":392197,"millis":0.392197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0606e8cb-fa51-402c-a3be-19fd724b0a10'"}},{"result":{"nanos":341697,"millis":0.341697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":315498,"millis":0.315498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":478296,"millis":0.478296,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":381697,"millis":0.381697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":331298,"millis":0.331298,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23499,"millis":0.023499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":285998,"millis":0.285998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":263898,"millis":0.263898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":268697,"millis":0.268697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":391997,"millis":0.391997,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":397397,"millis":0.397397,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.009 [print] https:\/\/inspire.rivm.nl\/geoserver\/wfs? \n"},{"result":{"nanos":287898,"millis":0.287898,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":351898,"millis":0.351898,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.010 [print] #notpresent \n"},{"result":{"nanos":331997,"millis":0.331997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":338497,"millis":0.338497,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.010 [print] OGC:WFS \n"},{"result":{"nanos":32200,"millis":0.0322,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":315697,"millis":0.315697,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.011 [print] #notpresent \n"},{"result":{"nanos":351697,"millis":0.351697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":302598,"millis":0.302598,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.012 [print] RIVM \n"},{"result":{"nanos":835993,"millis":0.835993,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.012 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f2f86edf-ac3a-48e8-9292-0544da2d7645 \n"},{"result":{"nanos":381497,"millis":0.381497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":538695,"millis":0.538695,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":272898,"millis":0.272898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0606e8cb-fa51-402c-a3be-19fd724b0a10\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.085245,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"0606e8cb-fa51-402c-a3be-19fd724b0a10","startTime":1632027563142,"refId":"[1.227:67]","endTime":1632027564014,"exampleData":{"datasetIdentifierCode":"0606e8cb-fa51-402c-a3be-19fd724b0a10"},"exampleIndex":226},{"sectionIndex":0,"stepResults":[{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.569 karate.env system property was: null \n"},{"result":{"nanos":182798,"millis":0.182798,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53099,"millis":0.053099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":209499,"millis":0.209499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":304698,"millis":0.304698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27699,"millis":0.027699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":122999,"millis":0.122999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49699,"millis":0.049699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":882118448,"millis":882.118448,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":503496,"millis":0.503496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bfcc588f-9393-4c70-b989-d9e92ac2f493'"}},{"result":{"nanos":465897,"millis":0.465897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":571896,"millis":0.571896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":862893,"millis":0.862893,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":652594,"millis":0.652594,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":459597,"millis":0.459597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":408597,"millis":0.408597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":332297,"millis":0.332297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":342397,"millis":0.342397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127099,"millis":0.127099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.457 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wcs?&service=wcs&request=GetCapabilities \n"},{"result":{"nanos":535896,"millis":0.535896,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.458 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":458796,"millis":0.458796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":84200,"millis":0.0842,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.458 [print] #notpresent \n"},{"result":{"nanos":24799,"millis":0.024799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":159699,"millis":0.159699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.458 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":514896,"millis":0.514896,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75699,"millis":0.075699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.459 [print] Beheer PDOK \n"},{"result":{"nanos":177799,"millis":0.177799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.459 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification\"] \n"},{"result":{"nanos":603595,"millis":0.603595,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":680694,"millis":0.680694,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":501596,"millis":0.501596,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bfcc588f-9393-4c70-b989-d9e92ac2f493\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.925471,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"bfcc588f-9393-4c70-b989-d9e92ac2f493","startTime":1632027563568,"refId":"[1.228:67]","endTime":1632027564461,"exampleData":{"datasetIdentifierCode":"bfcc588f-9393-4c70-b989-d9e92ac2f493"},"exampleIndex":227},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.627 karate.env system property was: null \n"},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44599,"millis":0.044599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":86900,"millis":0.0869,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":215299,"millis":0.215299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":419696,"millis":0.419696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":72799,"millis":0.072799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":30500,"millis":0.0305,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47899,"millis":0.047899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838504901,"millis":838.504901,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":341198,"millis":0.341198,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4074b3c3-ca85-45ad-bc0d-b5fca8540c0a'"}},{"result":{"nanos":390997,"millis":0.390997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":440297,"millis":0.440297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":378496,"millis":0.378496,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":459097,"millis":0.459097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":624294,"millis":0.624294,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":379397,"millis":0.379397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":382797,"millis":0.382797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":361297,"millis":0.361297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":115599,"millis":0.115599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":96199,"millis":0.096199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.471 [print] https:\/\/geodata.nationaalgeoregister.nl\/vin\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":576095,"millis":0.576095,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":149499,"millis":0.149499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.472 [print] OGC:WMS \n"},{"result":{"nanos":367697,"millis":0.367697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":80699,"millis":0.080699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.472 [print] #notpresent \n"},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":47499,"millis":0.047499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.472 [print] OGC:WMS \n"},{"result":{"nanos":395897,"millis":0.395897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":67999,"millis":0.067999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.473 [print] Beheer PDOK \n"},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.473 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7 \n"},{"result":{"nanos":423296,"millis":0.423296,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":348797,"millis":0.348797,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":299598,"millis":0.299598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":846.460037,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a","startTime":1632027563627,"refId":"[1.229:67]","endTime":1632027564474,"exampleData":{"datasetIdentifierCode":"4074b3c3-ca85-45ad-bc0d-b5fca8540c0a"},"exampleIndex":228},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:23.904 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43599,"millis":0.043599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48100,"millis":0.0481,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":190298,"millis":0.190298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":305997,"millis":0.305997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":71200,"millis":0.0712,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":6199,"millis":0.006199,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":840658584,"millis":840.658584,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":526596,"millis":0.526596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6d2fce74-fb25-4322-ab25-1be8a3bc7fd0'"}},{"result":{"nanos":413797,"millis":0.413797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":324197,"millis":0.324197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":289598,"millis":0.289598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":366697,"millis":0.366697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":318097,"millis":0.318097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":250498,"millis":0.250498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":241398,"millis":0.241398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":249598,"millis":0.249598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62999,"millis":0.062999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":82699,"millis":0.082699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.749 [print] https:\/\/inspire.caris.nl\/geoserver3\/bathy_wcs\/wcs?request=GetCapabilities&service=WCS&version=2.0.0 \n"},{"result":{"nanos":763794,"millis":0.763794,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":59500,"millis":0.0595,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.750 [print] OGC:WCS \n"},{"result":{"nanos":492696,"millis":0.492696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58200,"millis":0.0582,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.751 [print] #notpresent \n"},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":358297,"millis":0.358297,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.751 [print] OGC:WCS \n"},{"result":{"nanos":332997,"millis":0.332997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":54999,"millis":0.054999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.751 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":30800,"millis":0.0308,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.751 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a322184d-6285-4856-bb78-f450b30ffc0e#MD_DataIdentification \n"},{"result":{"nanos":878893,"millis":0.878893,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":500196,"millis":0.500196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":273798,"millis":0.273798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":848.504021,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0","startTime":1632027563904,"refId":"[1.230:67]","endTime":1632027564753,"exampleData":{"datasetIdentifierCode":"6d2fce74-fb25-4322-ab25-1be8a3bc7fd0"},"exampleIndex":229},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.016 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59799,"millis":0.059799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":190298,"millis":0.190298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":597195,"millis":0.597195,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32999,"millis":0.032999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":385897,"millis":0.385897,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48299,"millis":0.048299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":887400705,"millis":887.400705,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1610087,"millis":1.610087,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'af4841b5-ce83-4edb-af41-429a21140316'"}},{"result":{"nanos":1921585,"millis":1.921585,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1593887,"millis":1.593887,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":2014183,"millis":2.014183,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1876385,"millis":1.876385,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":2011384,"millis":2.011384,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":28499,"millis":0.028499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1178491,"millis":1.178491,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":1188890,"millis":1.18889,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":1111591,"millis":1.111591,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":185498,"millis":0.185498,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":433097,"millis":0.433097,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:24.920 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1369889,"millis":1.369889,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150598,"millis":0.150598,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:24.922 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":1163791,"millis":1.163791,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":234898,"millis":0.234898,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:24.923 [print] #notpresent \n"},{"result":{"nanos":51799,"millis":0.051799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":102700,"millis":0.1027,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:24.923 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":2358081,"millis":2.358081,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":274198,"millis":0.274198,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:24.926 [print] Beheer PDOK \n"},{"result":{"nanos":246198,"millis":0.246198,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:24.926 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":2030483,"millis":2.030483,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":609995,"millis":0.609995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297198,"millis":0.297198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"af4841b5-ce83-4edb-af41-429a21140316\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":912.941997,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"af4841b5-ce83-4edb-af41-429a21140316","startTime":1632027564015,"refId":"[1.231:67]","endTime":1632027564929,"exampleData":{"datasetIdentifierCode":"af4841b5-ce83-4edb-af41-429a21140316"},"exampleIndex":230},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14599,"millis":0.014599,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.463 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49799,"millis":0.049799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":374297,"millis":0.374297,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":351397,"millis":0.351397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28799,"millis":0.028799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":137998,"millis":0.137998,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864660190,"millis":864.66019,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":582695,"millis":0.582695,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '060d1139-c371-4c1e-9890-55999adfa4f9'"}},{"result":{"nanos":338997,"millis":0.338997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":404497,"millis":0.404497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":370997,"millis":0.370997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":358298,"millis":0.358298,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":325797,"millis":0.325797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":247698,"millis":0.247698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":251498,"millis":0.251498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":251498,"millis":0.251498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61400,"millis":0.0614,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":84299,"millis":0.084299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.333 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities \n"},{"result":{"nanos":908793,"millis":0.908793,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":60100,"millis":0.0601,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.334 [print] OGC:WMS \n"},{"result":{"nanos":527096,"millis":0.527096,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":71799,"millis":0.071799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.334 [print] #notpresent \n"},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":354997,"millis":0.354997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.335 [print] OGC:WMS \n"},{"result":{"nanos":335097,"millis":0.335097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71699,"millis":0.071699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.335 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.335 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":910692,"millis":0.910692,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":504096,"millis":0.504096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":288098,"millis":0.288098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"060d1139-c371-4c1e-9890-55999adfa4f9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.21922,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"060d1139-c371-4c1e-9890-55999adfa4f9","startTime":1632027564463,"refId":"[1.232:67]","endTime":1632027565337,"exampleData":{"datasetIdentifierCode":"060d1139-c371-4c1e-9890-55999adfa4f9"},"exampleIndex":231},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.476 karate.env system property was: null \n"},{"result":{"nanos":63799,"millis":0.063799,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41800,"millis":0.0418,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51399,"millis":0.051399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220998,"millis":0.220998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":287498,"millis":0.287498,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28299,"millis":0.028299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":74399,"millis":0.074399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47999,"millis":0.047999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":883616836,"millis":883.616836,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":401296,"millis":0.401296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6a129fd1-0988-4b8a-975a-6ff134b6754a'"}},{"result":{"nanos":391597,"millis":0.391597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":367397,"millis":0.367397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":353897,"millis":0.353897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":376597,"millis":0.376597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":368297,"millis":0.368297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":306997,"millis":0.306997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":341497,"millis":0.341497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":300798,"millis":0.300798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":226398,"millis":0.226398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.364 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":457396,"millis":0.457396,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":201199,"millis":0.201199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.365 [print] OGC:WMS \n"},{"result":{"nanos":317897,"millis":0.317897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66199,"millis":0.066199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.365 [print] #notpresent \n"},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":120799,"millis":0.120799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.366 [print] OGC:WMS \n"},{"result":{"nanos":549595,"millis":0.549595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":82099,"millis":0.082099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.366 [print] Beheer PDOK \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.366 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":557995,"millis":0.557995,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":366897,"millis":0.366897,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":317098,"millis":0.317098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6a129fd1-0988-4b8a-975a-6ff134b6754a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.164172,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6a129fd1-0988-4b8a-975a-6ff134b6754a","startTime":1632027564475,"refId":"[1.233:67]","endTime":1632027565368,"exampleData":{"datasetIdentifierCode":"6a129fd1-0988-4b8a-975a-6ff134b6754a"},"exampleIndex":232},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.755 karate.env system property was: null \n"},{"result":{"nanos":63399,"millis":0.063399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109699,"millis":0.109699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":218398,"millis":0.218398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":306498,"millis":0.306498,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42799,"millis":0.042799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":283597,"millis":0.283597,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872583025,"millis":872.583025,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":482396,"millis":0.482396,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a'"}},{"result":{"nanos":525396,"millis":0.525396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":505795,"millis":0.505795,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":529896,"millis":0.529896,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":474296,"millis":0.474296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":539196,"millis":0.539196,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":34599,"millis":0.034599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":433497,"millis":0.433497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":308897,"millis":0.308897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":317797,"millis":0.317797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":78599,"millis":0.078599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.634 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholetmaal\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":1040492,"millis":1.040492,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98899,"millis":0.098899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.635 [print] OGC:WFS \n"},{"result":{"nanos":544995,"millis":0.544995,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98399,"millis":0.098399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.636 [print] #notpresent \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":290298,"millis":0.290298,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.636 [print] OGC:WFS \n"},{"result":{"nanos":629894,"millis":0.629894,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.637 [print] Beheer PDOK \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.637 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=83dab947-387b-49df-8ad2-32bb10d46d38#MD_DataIdentification \n"},{"result":{"nanos":916392,"millis":0.916392,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":507496,"millis":0.507496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":356397,"millis":0.356397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.722541,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a","startTime":1632027564755,"refId":"[1.234:67]","endTime":1632027565639,"exampleData":{"datasetIdentifierCode":"80e015fa-f0e1-487e-a7e8-84a5ba7c4e7a"},"exampleIndex":233},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:24.931 karate.env system property was: null \n"},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42499,"millis":0.042499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":263497,"millis":0.263497,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":388297,"millis":0.388297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":186298,"millis":0.186298,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849418913,"millis":849.418913,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433697,"millis":0.433697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1009c2a4-4dba-49a5-b643-914ba8b80b52'"}},{"result":{"nanos":364597,"millis":0.364597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":320097,"millis":0.320097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":325897,"millis":0.325897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":580896,"millis":0.580896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":433996,"millis":0.433996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":265498,"millis":0.265498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350598,"millis":0.350598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":286397,"millis":0.286397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":224898,"millis":0.224898,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":143399,"millis":0.143399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:25.786 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":362897,"millis":0.362897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98199,"millis":0.098199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:25.786 [print] #notpresent \n"},{"result":{"nanos":371997,"millis":0.371997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":98599,"millis":0.098599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:25.787 [print] #notpresent \n"},{"result":{"nanos":29800,"millis":0.0298,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":77699,"millis":0.077699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:25.787 [print] #notpresent \n"},{"result":{"nanos":368397,"millis":0.368397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94499,"millis":0.094499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:25.787 [print] KNMI \n"},{"result":{"nanos":77800,"millis":0.0778,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:25.788 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":577395,"millis":0.577395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":520396,"millis":0.520396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":417096,"millis":0.417096,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1009c2a4-4dba-49a5-b643-914ba8b80b52\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.399748,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"1009c2a4-4dba-49a5-b643-914ba8b80b52","startTime":1632027564931,"refId":"[1.235:67]","endTime":1632027565789,"exampleData":{"datasetIdentifierCode":"1009c2a4-4dba-49a5-b643-914ba8b80b52"},"exampleIndex":234},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16799,"millis":0.016799,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.339 karate.env system property was: null \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":145199,"millis":0.145199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":264498,"millis":0.264498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58700,"millis":0.0587,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":349398,"millis":0.349398,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28299,"millis":0.028299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62000,"millis":0.062,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15599,"millis":0.015599,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7400,"millis":0.0074,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":289598,"millis":0.289598,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":882541944,"millis":882.541944,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":582395,"millis":0.582395,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68d14b1c-71ad-4ce7-8267-45787a80c2d4'"}},{"result":{"nanos":500896,"millis":0.500896,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":429296,"millis":0.429296,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":509496,"millis":0.509496,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":663295,"millis":0.663295,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":624694,"millis":0.624694,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":426296,"millis":0.426296,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":451397,"millis":0.451397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":409796,"millis":0.409796,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":108499,"millis":0.108499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":107199,"millis":0.107199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.228 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/ad\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":18054654,"millis":18.054654,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":411796,"millis":0.411796,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.247 [print] #notpresent \n"},{"result":{"nanos":682295,"millis":0.682295,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":168798,"millis":0.168798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.248 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":133799,"millis":0.133799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":107899,"millis":0.107899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.248 [print] #notpresent \n"},{"result":{"nanos":712994,"millis":0.712994,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":165599,"millis":0.165599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.249 [print] Beheer PDOK \n"},{"result":{"nanos":165999,"millis":0.165999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.249 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a5f961e9-ebdd-41e2-b8e8-ab33ed340a83#MD_DataIdentification \n"},{"result":{"nanos":729195,"millis":0.729195,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":535496,"millis":0.535496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":385397,"millis":0.385397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68d14b1c-71ad-4ce7-8267-45787a80c2d4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":910.993514,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"68d14b1c-71ad-4ce7-8267-45787a80c2d4","startTime":1632027565339,"refId":"[1.236:67]","endTime":1632027566251,"exampleData":{"datasetIdentifierCode":"68d14b1c-71ad-4ce7-8267-45787a80c2d4"},"exampleIndex":235},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15399,"millis":0.015399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.369 karate.env system property was: null \n"},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41600,"millis":0.0416,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48699,"millis":0.048699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":398497,"millis":0.398497,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":522696,"millis":0.522696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":52799,"millis":0.052799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13200,"millis":0.0132,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":64699,"millis":0.064699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":890343281,"millis":890.343281,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":2000,"millis":0.002,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":639494,"millis":0.639494,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '42f5363b-cea7-4163-a4e9-bc2d1a7a243c'"}},{"result":{"nanos":978492,"millis":0.978492,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":555996,"millis":0.555996,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":621195,"millis":0.621195,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":707094,"millis":0.707094,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":638995,"millis":0.638995,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":88600,"millis":0.0886,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1831985,"millis":1.831985,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":541895,"millis":0.541895,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":570595,"millis":0.570595,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":753694,"millis":0.753694,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":813694,"millis":0.813694,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.270 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartspoorwegennacht\/v1\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":424397,"millis":0.424397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":655595,"millis":0.655595,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.271 [print] #notpresent \n"},{"result":{"nanos":643995,"millis":0.643995,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":623395,"millis":0.623395,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.273 [print] OGC:WFS \n"},{"result":{"nanos":198898,"millis":0.198898,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":869193,"millis":0.869193,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.274 [print] #notpresent \n"},{"result":{"nanos":739194,"millis":0.739194,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":619495,"millis":0.619495,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.275 [print] Beheer PDOK \n"},{"result":{"nanos":904192,"millis":0.904192,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.276 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=002d9127-c16d-4b8d-9f5e-102a8c8e36c4#MD_DataIdentification \n"},{"result":{"nanos":597395,"millis":0.597395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":529896,"millis":0.529896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":455696,"millis":0.455696,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"42f5363b-cea7-4163-a4e9-bc2d1a7a243c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":907.64254,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c","startTime":1632027565369,"refId":"[1.237:67]","endTime":1632027566278,"exampleData":{"datasetIdentifierCode":"42f5363b-cea7-4163-a4e9-bc2d1a7a243c"},"exampleIndex":236},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.641 karate.env system property was: null \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50600,"millis":0.0506,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":198198,"millis":0.198198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":305997,"millis":0.305997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45199,"millis":0.045199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":275498,"millis":0.275498,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":7199,"millis":0.007199,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":886636711,"millis":886.636711,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":500796,"millis":0.500796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '03c48a93-1e31-4c69-92c6-9a7efecf67a9'"}},{"result":{"nanos":347297,"millis":0.347297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":409497,"millis":0.409497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":362597,"millis":0.362597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":522895,"millis":0.522895,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":486496,"millis":0.486496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":94999,"millis":0.094999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":485796,"millis":0.485796,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":416097,"millis":0.416097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":371397,"millis":0.371397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":195799,"millis":0.195799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":213799,"millis":0.213799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.534 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":318797,"millis":0.318797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":159699,"millis":0.159699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.534 [print] OGC:WFS \n"},{"result":{"nanos":1380788,"millis":1.380788,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":146499,"millis":0.146499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.536 [print] #notpresent \n"},{"result":{"nanos":180199,"millis":0.180199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":131698,"millis":0.131698,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.536 [print] OGC:WFS \n"},{"result":{"nanos":394597,"millis":0.394597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":113399,"millis":0.113399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.536 [print] Beheer PDOK \n"},{"result":{"nanos":132299,"millis":0.132299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.537 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":339997,"millis":0.339997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":425997,"millis":0.425997,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":319097,"millis":0.319097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"03c48a93-1e31-4c69-92c6-9a7efecf67a9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":896.165633,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"03c48a93-1e31-4c69-92c6-9a7efecf67a9","startTime":1632027565641,"refId":"[1.238:67]","endTime":1632027566538,"exampleData":{"datasetIdentifierCode":"03c48a93-1e31-4c69-92c6-9a7efecf67a9"},"exampleIndex":237},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:25.791 karate.env system property was: null \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63199,"millis":0.063199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":121099,"millis":0.121099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223998,"millis":0.223998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":433996,"millis":0.433996,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":130699,"millis":0.130699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":84900,"millis":0.0849,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '58353cdf-b3a1-454e-9284-932a7e815e57'"}},{"result":{"nanos":5999,"millis":0.005999,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853647279,"millis":853.647279,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":675194,"millis":0.675194,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '58353cdf-b3a1-454e-9284-932a7e815e57'"}},{"result":{"nanos":718694,"millis":0.718694,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":535396,"millis":0.535396,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":494696,"millis":0.494696,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":661894,"millis":0.661894,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":662595,"millis":0.662595,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75999,"millis":0.075999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":460796,"millis":0.460796,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":557096,"millis":0.557096,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":634894,"millis":0.634894,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":197799,"millis":0.197799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":700794,"millis":0.700794,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:26.653 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/inspire\\\/hy-p\\\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":530295,"millis":0.530295,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":590495,"millis":0.590495,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:26.654 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":558296,"millis":0.558296,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":591395,"millis":0.591395,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:26.655 [print] #notpresent \n"},{"result":{"nanos":106099,"millis":0.106099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":542595,"millis":0.542595,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:26.656 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":646795,"millis":0.646795,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":495196,"millis":0.495196,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:26.657 [print] Beheer PDOK \n"},{"result":{"nanos":754294,"millis":0.754294,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:26.658 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1c3afc74-cc34-44b7-938a-963e2350795a#MD_DataIdentification \n"},{"result":{"nanos":664394,"millis":0.664394,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":445997,"millis":0.445997,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":323098,"millis":0.323098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"58353cdf-b3a1-454e-9284-932a7e815e57\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.495165,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"58353cdf-b3a1-454e-9284-932a7e815e57","startTime":1632027565791,"refId":"[1.239:67]","endTime":1632027566660,"exampleData":{"datasetIdentifierCode":"58353cdf-b3a1-454e-9284-932a7e815e57"},"exampleIndex":238},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:26.256 karate.env system property was: null \n"},{"result":{"nanos":46199,"millis":0.046199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":208599,"millis":0.208599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":150299,"millis":0.150299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":345797,"millis":0.345797,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":116999,"millis":0.116999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":462697,"millis":0.462697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":88300,"millis":0.0883,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":181698,"millis":0.181698,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":42299,"millis":0.042299,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":26399,"millis":0.026399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":875574701,"millis":875.574701,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":462697,"millis":0.462697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '63f622ef-46b3-411a-a2aa-045cabf1e3ac'"}},{"result":{"nanos":453996,"millis":0.453996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":403397,"millis":0.403397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":440497,"millis":0.440497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":655895,"millis":0.655895,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":522496,"millis":0.522496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":96099,"millis":0.096099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":379697,"millis":0.379697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":416697,"millis":0.416697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":414496,"millis":0.414496,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":645795,"millis":0.645795,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":587595,"millis":0.587595,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:27.144 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wfs\/v1?SERVICE=WFS&REQUEST=GetCapabilities&version=2.0.0 \n"},{"result":{"nanos":367997,"millis":0.367997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":333897,"millis":0.333897,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:27.145 [print] OGC:WFS \n"},{"result":{"nanos":333097,"millis":0.333097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":343198,"millis":0.343198,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:27.145 [print] #notpresent \n"},{"result":{"nanos":34099,"millis":0.034099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":306598,"millis":0.306598,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:27.146 [print] OGC:WFS \n"},{"result":{"nanos":477396,"millis":0.477396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":620295,"millis":0.620295,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:27.147 [print] Beheer PDOK \n"},{"result":{"nanos":921292,"millis":0.921292,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:27.148 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":470496,"millis":0.470496,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":475996,"millis":0.475996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":301498,"millis":0.301498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"63f622ef-46b3-411a-a2aa-045cabf1e3ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":887.936203,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"63f622ef-46b3-411a-a2aa-045cabf1e3ac","startTime":1632027566255,"refId":"[1.240:67]","endTime":1632027567149,"exampleData":{"datasetIdentifierCode":"63f622ef-46b3-411a-a2aa-045cabf1e3ac"},"exampleIndex":239},{"sectionIndex":0,"stepResults":[{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:26.281 karate.env system property was: null \n"},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":165999,"millis":0.165999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":247498,"millis":0.247498,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":303298,"millis":0.303298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":159799,"millis":0.159799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":502696,"millis":0.502696,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":117799,"millis":0.117799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":612295,"millis":0.612295,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55899,"millis":0.055899,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":62999,"millis":0.062999,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57599,"millis":0.057599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":35999,"millis":0.035999,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":879918366,"millis":879.918366,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":432397,"millis":0.432397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9c80458b-12c6-4d38-8f6d-387ab6e4ed21'"}},{"result":{"nanos":768294,"millis":0.768294,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":518196,"millis":0.518196,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1289990,"millis":1.28999,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":680595,"millis":0.680595,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":508896,"millis":0.508896,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356097,"millis":0.356097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":462496,"millis":0.462496,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":438697,"millis":0.438697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":378497,"millis":0.378497,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":254798,"millis":0.254798,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:27.171 [print] https:\/\/geodata.nationaalgeoregister.nl\/natura2000\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":356198,"millis":0.356198,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":439196,"millis":0.439196,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:27.172 [print] OGC:WMS \n"},{"result":{"nanos":392797,"millis":0.392797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":432097,"millis":0.432097,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:27.172 [print] #notpresent \n"},{"result":{"nanos":35899,"millis":0.035899,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":362597,"millis":0.362597,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:27.173 [print] OGC:WMS \n"},{"result":{"nanos":415397,"millis":0.415397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":372097,"millis":0.372097,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:27.174 [print] Beheer PDOK \n"},{"result":{"nanos":553896,"millis":0.553896,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:27.174 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification \n"},{"result":{"nanos":449196,"millis":0.449196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":459597,"millis":0.459597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":334297,"millis":0.334297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9c80458b-12c6-4d38-8f6d-387ab6e4ed21\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":893.239263,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21","startTime":1632027566280,"refId":"[1.241:67]","endTime":1632027567175,"exampleData":{"datasetIdentifierCode":"9c80458b-12c6-4d38-8f6d-387ab6e4ed21"},"exampleIndex":240},{"sectionIndex":0,"stepResults":[{"result":{"nanos":53999,"millis":0.053999,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:26.545 karate.env system property was: null \n"},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":134999,"millis":0.134999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":117499,"millis":0.117499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":298598,"millis":0.298598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":102599,"millis":0.102599,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":363997,"millis":0.363997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":74699,"millis":0.074699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":490596,"millis":0.490596,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":54099,"millis":0.054099,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":866728063,"millis":866.728063,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":532196,"millis":0.532196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '972edbaa-f860-4c48-b449-4f238a263472'"}},{"result":{"nanos":385097,"millis":0.385097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":364297,"millis":0.364297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":354497,"millis":0.354497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":428797,"millis":0.428797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":450597,"millis":0.450597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31700,"millis":0.0317,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":292997,"millis":0.292997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":286998,"millis":0.286998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":286998,"millis":0.286998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":110299,"millis":0.110299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":212798,"millis":0.212798,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:27.418 [print] https:\/\/geodata.nationaalgeoregister.nl\/restwarmte\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":429297,"millis":0.429297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":172498,"millis":0.172498,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:27.418 [print] OGC:WFS \n"},{"result":{"nanos":320598,"millis":0.320598,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":153798,"millis":0.153798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:27.419 [print] #notpresent \n"},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":98399,"millis":0.098399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:27.419 [print] OGC:WFS \n"},{"result":{"nanos":389697,"millis":0.389697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":233698,"millis":0.233698,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:27.420 [print] Beheer PDOK \n"},{"result":{"nanos":135099,"millis":0.135099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:27.420 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=d6b85d84-cdb9-4a6e-b799-cf8826e22a94#MD_DataIdentification \n"},{"result":{"nanos":437997,"millis":0.437997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":500796,"millis":0.500796,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":281497,"millis":0.281497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"972edbaa-f860-4c48-b449-4f238a263472\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.569693,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"972edbaa-f860-4c48-b449-4f238a263472","startTime":1632027566539,"refId":"[1.242:67]","endTime":1632027567421,"exampleData":{"datasetIdentifierCode":"972edbaa-f860-4c48-b449-4f238a263472"},"exampleIndex":241},{"sectionIndex":0,"stepResults":[{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:26.663 karate.env system property was: null \n"},{"result":{"nanos":59099,"millis":0.059099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":122399,"millis":0.122399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":167099,"millis":0.167099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":290897,"millis":0.290897,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":124999,"millis":0.124999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":434997,"millis":0.434997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":79499,"millis":0.079499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":494996,"millis":0.494996,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":48399,"millis":0.048399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":54500,"millis":0.0545,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26199,"millis":0.026199,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":36700,"millis":0.0367,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":24500,"millis":0.0245,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24999,"millis":0.024999,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854821699,"millis":854.821699,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":577496,"millis":0.577496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '62c0d0a5-5826-406d-a625-d84bc5fec800'"}},{"result":{"nanos":437497,"millis":0.437497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":432997,"millis":0.432997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":480596,"millis":0.480596,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":506596,"millis":0.506596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":453197,"millis":0.453197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23499,"millis":0.023499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":383697,"millis":0.383697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":334298,"millis":0.334298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":370097,"millis":0.370097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":55899,"millis":0.055899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":285798,"millis":0.285798,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:27.525 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/noordzeevaarwegmarkeringenrd\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":382597,"millis":0.382597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":174699,"millis":0.174699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:27.525 [print] #notpresent \n"},{"result":{"nanos":377897,"millis":0.377897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":180498,"millis":0.180498,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:27.526 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":113999,"millis":0.113999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:27.526 [print] #notpresent \n"},{"result":{"nanos":421196,"millis":0.421196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":151499,"millis":0.151499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:27.527 [print] Beheer PDOK \n"},{"result":{"nanos":105099,"millis":0.105099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:27.527 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=be1b1514-8d1f-48e1-9624-fee9b784138b#MD_DataIdentification \n"},{"result":{"nanos":446597,"millis":0.446597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":513596,"millis":0.513596,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":294097,"millis":0.294097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"62c0d0a5-5826-406d-a625-d84bc5fec800\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.448022,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"62c0d0a5-5826-406d-a625-d84bc5fec800","startTime":1632027566661,"refId":"[1.243:67]","endTime":1632027567528,"exampleData":{"datasetIdentifierCode":"62c0d0a5-5826-406d-a625-d84bc5fec800"},"exampleIndex":242},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:27.151 karate.env system property was: null \n"},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61599,"millis":0.061599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":209798,"millis":0.209798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":321797,"millis":0.321797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":321397,"millis":0.321397,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":60799,"millis":0.060799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":869587360,"millis":869.58736,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":409997,"millis":0.409997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0426f471-f325-42ed-a775-81c397592e86'"}},{"result":{"nanos":407497,"millis":0.407497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":375797,"millis":0.375797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":365997,"millis":0.365997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":612795,"millis":0.612795,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462296,"millis":0.462296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":1376189,"millis":1.376189,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350498,"millis":0.350498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":310998,"millis":0.310998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82099,"millis":0.082099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127899,"millis":0.127899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:28.027 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":382497,"millis":0.382497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75500,"millis":0.0755,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:28.027 [print] OGC:WMS \n"},{"result":{"nanos":403797,"millis":0.403797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56800,"millis":0.0568,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:28.028 [print] #notpresent \n"},{"result":{"nanos":27699,"millis":0.027699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:28.028 [print] OGC:WMS \n"},{"result":{"nanos":448196,"millis":0.448196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":65800,"millis":0.0658,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:28.029 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":63199,"millis":0.063199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:28.029 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=8a4f5c3b-aced-48fd-afb5-f1f1d0ef21d6#MD_DataIdentification \n"},{"result":{"nanos":430197,"millis":0.430197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":561695,"millis":0.561695,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":289498,"millis":0.289498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0426f471-f325-42ed-a775-81c397592e86\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":878.55889,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"0426f471-f325-42ed-a775-81c397592e86","startTime":1632027567151,"refId":"[1.244:67]","endTime":1632027568030,"exampleData":{"datasetIdentifierCode":"0426f471-f325-42ed-a775-81c397592e86"},"exampleIndex":243},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:27.178 karate.env system property was: null \n"},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44199,"millis":0.044199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68900,"millis":0.0689,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":237498,"millis":0.237498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36299,"millis":0.036299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":345798,"millis":0.345798,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28499,"millis":0.028499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":369597,"millis":0.369597,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15800,"millis":0.0158,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":5299,"millis":0.005299,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":881165275,"millis":881.165275,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":369197,"millis":0.369197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7c664a91-1aa2-4923-9d17-6a43e4075f47'"}},{"result":{"nanos":356097,"millis":0.356097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":382697,"millis":0.382697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":365497,"millis":0.365497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":405697,"millis":0.405697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":408497,"millis":0.408497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25699,"millis":0.025699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":332898,"millis":0.332898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335397,"millis":0.335397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":529796,"millis":0.529796,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":936893,"millis":0.936893,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":941693,"millis":0.941693,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:28.066 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Territoriale-Zee-Noordzee-feed.atom \n"},{"result":{"nanos":623995,"millis":0.623995,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":62900,"millis":0.0629,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:28.067 [print] #notpresent \n"},{"result":{"nanos":698795,"millis":0.698795,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78499,"millis":0.078499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:28.068 [print] INSPIRE Atom \n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":624095,"millis":0.624095,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:28.068 [print] #notpresent \n"},{"result":{"nanos":380897,"millis":0.380897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":77600,"millis":0.0776,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:28.069 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":32400,"millis":0.0324,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:28.069 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=bb11be63-bd38-4632-bf54-df44c423a529#MD_DataIdentification \n"},{"result":{"nanos":1155091,"millis":1.155091,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":492696,"millis":0.492696,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":442897,"millis":0.442897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7c664a91-1aa2-4923-9d17-6a43e4075f47\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.531687,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"7c664a91-1aa2-4923-9d17-6a43e4075f47","startTime":1632027567177,"refId":"[1.245:67]","endTime":1632027568071,"exampleData":{"datasetIdentifierCode":"7c664a91-1aa2-4923-9d17-6a43e4075f47"},"exampleIndex":244},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:27.423 karate.env system property was: null \n"},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42399,"millis":0.042399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49600,"millis":0.0496,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":192598,"millis":0.192598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":314498,"millis":0.314498,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":165099,"millis":0.165099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5799,"millis":0.005799,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45000,"millis":0.045,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852385297,"millis":852.385297,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":442997,"millis":0.442997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e258f171-6f56-4d4d-8311-027b30213c2d'"}},{"result":{"nanos":372797,"millis":0.372797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":351297,"millis":0.351297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1120491,"millis":1.120491,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":603196,"millis":0.603196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":560396,"millis":0.560396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":352297,"millis":0.352297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":343097,"millis":0.343097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":493996,"millis":0.493996,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":89200,"millis":0.0892,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":89400,"millis":0.0894,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:28.281 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":364897,"millis":0.364897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":52699,"millis":0.052699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:28.282 [print] OGC:WMS \n"},{"result":{"nanos":435397,"millis":0.435397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62699,"millis":0.062699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:28.282 [print] #notpresent \n"},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:28.282 [print] OGC:WMS \n"},{"result":{"nanos":380297,"millis":0.380297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":55899,"millis":0.055899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:28.283 [print] Beheer PDOK \n"},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:28.283 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":375497,"millis":0.375497,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":654895,"millis":0.654895,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2897677,"millis":2.897677,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e258f171-6f56-4d4d-8311-027b30213c2d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.571611,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"e258f171-6f56-4d4d-8311-027b30213c2d","startTime":1632027567422,"refId":"[1.246:67]","endTime":1632027568287,"exampleData":{"datasetIdentifierCode":"e258f171-6f56-4d4d-8311-027b30213c2d"},"exampleIndex":245},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:27.530 karate.env system property was: null \n"},{"result":{"nanos":149399,"millis":0.149399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59199,"millis":0.059199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":316198,"millis":0.316198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330198,"millis":0.330198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":56699,"millis":0.056699,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846185146,"millis":846.185146,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":421597,"millis":0.421597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '488c1e6d-363e-4476-b2ff-17756ac9b35f'"}},{"result":{"nanos":507296,"millis":0.507296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1383589,"millis":1.383589,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":469896,"millis":0.469896,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":423797,"millis":0.423797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":417796,"millis":0.417796,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33400,"millis":0.0334,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":312497,"millis":0.312497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":421997,"millis":0.421997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":386697,"millis":0.386697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":63299,"millis":0.063299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":340198,"millis":0.340198,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:28.383 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":425596,"millis":0.425596,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79300,"millis":0.0793,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:28.384 [print] OGC:WMS \n"},{"result":{"nanos":294297,"millis":0.294297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:28.384 [print] #notpresent \n"},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":32699,"millis":0.032699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:28.384 [print] OGC:WMS \n"},{"result":{"nanos":342998,"millis":0.342998,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":51899,"millis":0.051899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:28.385 [print] Beheer PDOK \n"},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:28.385 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":373597,"millis":0.373597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":512396,"millis":0.512396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":290697,"millis":0.290697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"488c1e6d-363e-4476-b2ff-17756ac9b35f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.070877,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"488c1e6d-363e-4476-b2ff-17756ac9b35f","startTime":1632027567530,"refId":"[1.247:67]","endTime":1632027568386,"exampleData":{"datasetIdentifierCode":"488c1e6d-363e-4476-b2ff-17756ac9b35f"},"exampleIndex":246},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14599,"millis":0.014599,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:28.032 karate.env system property was: null \n"},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70199,"millis":0.070199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":609795,"millis":0.609795,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43500,"millis":0.0435,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408697,"millis":0.408697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":56999,"millis":0.056999,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86499,"millis":0.086499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13700,"millis":0.0137,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":81599,"millis":0.081599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858749348,"millis":858.749348,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":539896,"millis":0.539896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7827b68f-647e-46cc-a02a-cac48eaa5dda'"}},{"result":{"nanos":417197,"millis":0.417197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446596,"millis":0.446596,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":428697,"millis":0.428697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":600495,"millis":0.600495,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":450297,"millis":0.450297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32699,"millis":0.032699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":381697,"millis":0.381697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350898,"millis":0.350898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":366897,"millis":0.366897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":83999,"millis":0.083999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":829893,"millis":0.829893,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:28.897 [print] https:\/\/geodata.nationaalgeoregister.nl\/ienw\/geluidskaartschipholnacht\/v2\/wfs?request=GetCapabilities&service=wfs \n"},{"result":{"nanos":439297,"millis":0.439297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1645587,"millis":1.645587,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:28.900 [print] OGC:WFS \n"},{"result":{"nanos":409997,"millis":0.409997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87899,"millis":0.087899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:28.900 [print] #notpresent \n"},{"result":{"nanos":298998,"millis":0.298998,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":78299,"millis":0.078299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:28.901 [print] OGC:WFS \n"},{"result":{"nanos":687895,"millis":0.687895,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":88299,"millis":0.088299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:28.902 [print] Beheer PDOK \n"},{"result":{"nanos":309298,"millis":0.309298,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:28.902 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=58d39928-f502-48c9-a8c1-03244dc181bf#MD_DataIdentification \n"},{"result":{"nanos":856593,"millis":0.856593,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":645495,"millis":0.645495,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":328897,"millis":0.328897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7827b68f-647e-46cc-a02a-cac48eaa5dda\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":871.05085,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7827b68f-647e-46cc-a02a-cac48eaa5dda","startTime":1632027568032,"refId":"[1.248:67]","endTime":1632027568904,"exampleData":{"datasetIdentifierCode":"7827b68f-647e-46cc-a02a-cac48eaa5dda"},"exampleIndex":247},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:28.073 karate.env system property was: null \n"},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43099,"millis":0.043099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68000,"millis":0.068,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":203898,"millis":0.203898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34700,"millis":0.0347,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":325497,"millis":0.325497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25100,"millis":0.0251,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49299,"millis":0.049299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859778040,"millis":859.77804,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":338798,"millis":0.338798,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25c69c01-8dfa-406f-bbcb-24feba25dcc6'"}},{"result":{"nanos":458897,"millis":0.458897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":354898,"millis":0.354898,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":412396,"millis":0.412396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":395597,"millis":0.395597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":356497,"millis":0.356497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":279298,"millis":0.279298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":335597,"millis":0.335597,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":283398,"millis":0.283398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":180599,"millis":0.180599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":189698,"millis":0.189698,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:28.938 [print] https:\/\/geodata.nationaalgeoregister.nl\/provincies\/ps\/wms\/v1?SERVICE=WMS&REQUEST=GetCapabilities \n"},{"result":{"nanos":322097,"millis":0.322097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":146399,"millis":0.146399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:28.939 [print] OGC:WMS \n"},{"result":{"nanos":315498,"millis":0.315498,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":144999,"millis":0.144999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:28.939 [print] #notpresent \n"},{"result":{"nanos":30199,"millis":0.030199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":111899,"millis":0.111899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:28.939 [print] OGC:WMS \n"},{"result":{"nanos":498696,"millis":0.498696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":255998,"millis":0.255998,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:28.940 [print] Beheer PDOK \n"},{"result":{"nanos":120699,"millis":0.120699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:28.940 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":407897,"millis":0.407897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":367397,"millis":0.367397,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292098,"millis":0.292098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"25c69c01-8dfa-406f-bbcb-24feba25dcc6\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.332982,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"25c69c01-8dfa-406f-bbcb-24feba25dcc6","startTime":1632027568073,"refId":"[1.249:67]","endTime":1632027568941,"exampleData":{"datasetIdentifierCode":"25c69c01-8dfa-406f-bbcb-24feba25dcc6"},"exampleIndex":248},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16899,"millis":0.016899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:28.289 karate.env system property was: null \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67599,"millis":0.067599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":275698,"millis":0.275698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37299,"millis":0.037299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429897,"millis":0.429897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":582595,"millis":0.582595,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5099,"millis":0.005099,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":157099,"millis":0.157099,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7700,"millis":0.0077,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851062307,"millis":851.062307,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":677195,"millis":0.677195,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd467c2cc-4026-b80a-d4e1a9d2bf79'"}},{"result":{"nanos":616895,"millis":0.616895,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":514396,"millis":0.514396,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":390297,"millis":0.390297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":446896,"millis":0.446896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":448197,"millis":0.448197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25099,"millis":0.025099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":313198,"millis":0.313198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":327997,"millis":0.327997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":338898,"millis":0.338898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":55399,"millis":0.055399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":97399,"millis":0.097399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:29.147 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nl\\\/rws\\\/hy-n\\\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":410797,"millis":0.410797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95699,"millis":0.095699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:29.147 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":443697,"millis":0.443697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":54599,"millis":0.054599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:29.148 [print] #notpresent \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":134699,"millis":0.134699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:29.148 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":780694,"millis":0.780694,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":76399,"millis":0.076399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:29.149 [print] Beheer PDOK \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:29.149 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":612095,"millis":0.612095,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":546696,"millis":0.546696,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414396,"millis":0.414396,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d467c2cc-4026-b80a-d4e1a9d2bf79\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.729129,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d467c2cc-4026-b80a-d4e1a9d2bf79","startTime":1632027568289,"refId":"[1.250:67]","endTime":1632027569151,"exampleData":{"datasetIdentifierCode":"d467c2cc-4026-b80a-d4e1a9d2bf79"},"exampleIndex":249},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:28.388 karate.env system property was: null \n"},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40899,"millis":0.040899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":199398,"millis":0.199398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35700,"millis":0.0357,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":304497,"millis":0.304497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851268106,"millis":851.268106,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":426696,"millis":0.426696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b4b59b2c-156d-412e-b8f0-c0779402de80'"}},{"result":{"nanos":374997,"millis":0.374997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":344098,"millis":0.344098,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":443396,"millis":0.443396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":611595,"millis":0.611595,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":462797,"millis":0.462797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22799,"millis":0.022799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":286698,"millis":0.286698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":311898,"millis":0.311898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":323197,"millis":0.323197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":100599,"millis":0.100599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":65700,"millis":0.0657,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:29.244 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":447496,"millis":0.447496,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":91299,"millis":0.091299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:29.244 [print] #notpresent \n"},{"result":{"nanos":418497,"millis":0.418497,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":79799,"millis":0.079799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:29.245 [print] #notpresent \n"},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71999,"millis":0.071999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:29.245 [print] #notpresent \n"},{"result":{"nanos":1049592,"millis":1.049592,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100599,"millis":0.100599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:29.246 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:29.246 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c7d1b83d-8237-44c4-9e07-420eb63dcf84\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":554696,"millis":0.554696,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":539296,"millis":0.539296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":292398,"millis":0.292398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b4b59b2c-156d-412e-b8f0-c0779402de80\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.607341,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"b4b59b2c-156d-412e-b8f0-c0779402de80","startTime":1632027568387,"refId":"[1.251:67]","endTime":1632027569248,"exampleData":{"datasetIdentifierCode":"b4b59b2c-156d-412e-b8f0-c0779402de80"},"exampleIndex":250},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33999,"millis":0.033999,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:28.908 karate.env system property was: null \n"},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":69400,"millis":0.0694,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":97099,"millis":0.097099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":207298,"millis":0.207298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":371197,"millis":0.371197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91200,"millis":0.0912,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48799,"millis":0.048799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":876153414,"millis":876.153414,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":418497,"millis":0.418497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7e87a655-c4eb-404d-9d0a-efa2dccef7cc'"}},{"result":{"nanos":390597,"millis":0.390597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":364797,"millis":0.364797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":360397,"millis":0.360397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":430797,"millis":0.430797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":379297,"millis":0.379297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":293698,"millis":0.293698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":282798,"millis":0.282798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":286998,"millis":0.286998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62499,"millis":0.062499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":79799,"millis":0.079799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:29.789 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/gn\/wfs?&request=GetCapabilities&service=WFS \n"},{"result":{"nanos":1009093,"millis":1.009093,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":59300,"millis":0.0593,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:29.790 [print] #notpresent \n"},{"result":{"nanos":595695,"millis":0.595695,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:29.791 [print] OGC:WFS \n"},{"result":{"nanos":28799,"millis":0.028799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":431497,"millis":0.431497,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:29.792 [print] #notpresent \n"},{"result":{"nanos":433897,"millis":0.433897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":58100,"millis":0.0581,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:29.792 [print] Beheer PDOK \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:29.792 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=1a40eb6f-4f33-4e15-a0b1-2d350ad2636e#MD_DataIdentification \n"},{"result":{"nanos":928592,"millis":0.928592,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":567996,"millis":0.567996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":306598,"millis":0.306598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7e87a655-c4eb-404d-9d0a-efa2dccef7cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":885.130647,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc","startTime":1632027568907,"refId":"[1.252:67]","endTime":1632027569794,"exampleData":{"datasetIdentifierCode":"7e87a655-c4eb-404d-9d0a-efa2dccef7cc"},"exampleIndex":251},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14199,"millis":0.014199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:28.943 karate.env system property was: null \n"},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47999,"millis":0.047999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":181499,"millis":0.181499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":318697,"millis":0.318697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42699,"millis":0.042699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4699,"millis":0.004699,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":870275659,"millis":870.275659,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":477496,"millis":0.477496,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b87a0095-2ad7-4dbb-81a1-fed060df79e1'"}},{"result":{"nanos":610395,"millis":0.610395,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":435397,"millis":0.435397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":304397,"millis":0.304397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":301398,"millis":0.301398,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":328797,"millis":0.328797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":347697,"millis":0.347697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":368497,"millis":0.368497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":375697,"millis":0.375697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":74299,"millis":0.074299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":740695,"millis":0.740695,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:29.819 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":267297,"millis":0.267297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":55600,"millis":0.0556,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:29.819 [print] OGC:WFS \n"},{"result":{"nanos":552396,"millis":0.552396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":59999,"millis":0.059999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:29.820 [print] #notpresent \n"},{"result":{"nanos":236698,"millis":0.236698,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":50200,"millis":0.0502,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:29.820 [print] OGC:WFS \n"},{"result":{"nanos":544095,"millis":0.544095,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":75900,"millis":0.0759,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:29.821 [print] Beheer PDOK \n"},{"result":{"nanos":621495,"millis":0.621495,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:29.821 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":348297,"millis":0.348297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":393897,"millis":0.393897,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":340597,"millis":0.340597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b87a0095-2ad7-4dbb-81a1-fed060df79e1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.075187,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b87a0095-2ad7-4dbb-81a1-fed060df79e1","startTime":1632027568943,"refId":"[1.253:67]","endTime":1632027569823,"exampleData":{"datasetIdentifierCode":"b87a0095-2ad7-4dbb-81a1-fed060df79e1"},"exampleIndex":252},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:29.152 karate.env system property was: null \n"},{"result":{"nanos":25400,"millis":0.0254,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47999,"millis":0.047999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":191299,"millis":0.191299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34699,"millis":0.034699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":305298,"millis":0.305298,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62899,"millis":0.062899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31900,"millis":0.0319,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":121899,"millis":0.121899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":5899,"millis":0.005899,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":841980879,"millis":841.980879,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":406397,"millis":0.406397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ef2a7962-8bb4-483f-ca52-85123f579'"}},{"result":{"nanos":581796,"millis":0.581796,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":404396,"millis":0.404396,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":434997,"millis":0.434997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":492596,"millis":0.492596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":441797,"millis":0.441797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":298998,"millis":0.298998,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":299997,"millis":0.299997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":318798,"millis":0.318798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":82799,"millis":0.082799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":100099,"millis":0.100099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:30.000 [print] http:\/\/data.waterkwaliteitsportaal.nl\/inspire\/ds\/nl.xml \n"},{"result":{"nanos":847394,"millis":0.847394,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":76799,"millis":0.076799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:30.001 [print] #notpresent \n"},{"result":{"nanos":700895,"millis":0.700895,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70699,"millis":0.070699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:30.002 [print] INSPIRE Atom \n"},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":345197,"millis":0.345197,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:30.002 [print] #notpresent \n"},{"result":{"nanos":375297,"millis":0.375297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90899,"millis":0.090899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:30.002 [print] Informatiehuis Water \n"},{"result":{"nanos":92699,"millis":0.092699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:30.003 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=110f9ec6-4464-462e-9765-83d90cefbeab&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=891ddc2d-8949-4a45-be96-c65b87c41f13&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full\"] \n"},{"result":{"nanos":1072492,"millis":1.072492,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":3527672,"millis":3.527672,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":356798,"millis":0.356798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ef2a7962-8bb4-483f-ca52-85123f579\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.394082,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"ef2a7962-8bb4-483f-ca52-85123f579","startTime":1632027569152,"refId":"[1.254:67]","endTime":1632027570008,"exampleData":{"datasetIdentifierCode":"ef2a7962-8bb4-483f-ca52-85123f579"},"exampleIndex":253},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:29.250 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61500,"millis":0.0615,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":50499,"millis":0.050499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":245298,"millis":0.245298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37400,"millis":0.0374,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":362397,"millis":0.362397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42299,"millis":0.042299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851615204,"millis":851.615204,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":460996,"millis":0.460996,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1fb5983-5642-4334-962a-a341cef8c8ff'"}},{"result":{"nanos":362797,"millis":0.362797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":485396,"millis":0.485396,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":345698,"millis":0.345698,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":374997,"millis":0.374997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":354497,"millis":0.354497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":273597,"millis":0.273597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":268198,"millis":0.268198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":285498,"millis":0.285498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60599,"millis":0.060599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":70100,"millis":0.0701,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:30.106 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":487496,"millis":0.487496,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79899,"millis":0.079899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:30.107 [print] #notpresent \n"},{"result":{"nanos":399197,"millis":0.399197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:30.107 [print] #notpresent \n"},{"result":{"nanos":24599,"millis":0.024599,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":130499,"millis":0.130499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:30.107 [print] #notpresent \n"},{"result":{"nanos":601996,"millis":0.601996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":73299,"millis":0.073299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:30.108 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":182698,"millis":0.182698,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:30.108 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.0cd1d698-2439-4ebd-ae2c-71dd98d9b3d1\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":494097,"millis":0.494097,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":499696,"millis":0.499696,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":272497,"millis":0.272497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c1fb5983-5642-4334-962a-a341cef8c8ff\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.234943,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c1fb5983-5642-4334-962a-a341cef8c8ff","startTime":1632027569249,"refId":"[1.255:67]","endTime":1632027570109,"exampleData":{"datasetIdentifierCode":"c1fb5983-5642-4334-962a-a341cef8c8ff"},"exampleIndex":254},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16999,"millis":0.016999,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:29.797 karate.env system property was: null \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47800,"millis":0.0478,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":72699,"millis":0.072699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":321298,"millis":0.321298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":500596,"millis":0.500596,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":46600,"millis":0.0466,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":91599,"millis":0.091599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13100,"millis":0.0131,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":876836709,"millis":876.836709,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":466197,"millis":0.466197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ce0a3f8e-6713-455f-805e-a067162c287d'"}},{"result":{"nanos":382897,"millis":0.382897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":352497,"millis":0.352497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":350797,"millis":0.350797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":413797,"millis":0.413797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":398997,"millis":0.398997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24399,"millis":0.024399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":279098,"millis":0.279098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":290698,"millis":0.290698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":285098,"millis":0.285098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":573195,"millis":0.573195,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":501096,"millis":0.501096,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:30.680 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":332297,"millis":0.332297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:30.680 [print] #notpresent \n"},{"result":{"nanos":629195,"millis":0.629195,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58500,"millis":0.0585,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:30.681 [print] #notpresent \n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":401197,"millis":0.401197,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:30.682 [print] #notpresent \n"},{"result":{"nanos":417397,"millis":0.417397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":58499,"millis":0.058499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:30.682 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:30.682 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.7e01e60c-8887-425c-af9b-e2cf6af9181b\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":844093,"millis":0.844093,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":516196,"millis":0.516196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":929293,"millis":0.929293,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ce0a3f8e-6713-455f-805e-a067162c287d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":886.753933,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ce0a3f8e-6713-455f-805e-a067162c287d","startTime":1632027569796,"refId":"[1.256:67]","endTime":1632027570684,"exampleData":{"datasetIdentifierCode":"ce0a3f8e-6713-455f-805e-a067162c287d"},"exampleIndex":255},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:29.824 karate.env system property was: null \n"},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":33900,"millis":0.0339,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41599,"millis":0.041599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236398,"millis":0.236398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":47000,"millis":0.047,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404797,"millis":0.404797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29199,"millis":0.029199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":10799,"millis":0.010799,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":7500,"millis":0.0075,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54000,"millis":0.054,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":6699,"millis":0.006699,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":880197683,"millis":880.197683,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":826794,"millis":0.826794,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94f241c2-43a2-42c3-8e9e-71976605aa0e'"}},{"result":{"nanos":1086492,"millis":1.086492,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":982093,"millis":0.982093,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":980692,"millis":0.980692,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1061392,"millis":1.061392,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":979192,"millis":0.979192,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":630395,"millis":0.630395,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":715594,"millis":0.715594,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":723195,"millis":0.723195,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":272898,"millis":0.272898,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":90900,"millis":0.0909,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:30.714 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/top10nlv2\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":1051292,"millis":1.051292,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":95800,"millis":0.0958,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:30.716 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1182290,"millis":1.18229,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61300,"millis":0.0613,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:30.717 [print] #notpresent \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":159298,"millis":0.159298,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:30.717 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1515589,"millis":1.515589,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":87799,"millis":0.087799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:30.719 [print] Beheer PDOK \n"},{"result":{"nanos":81799,"millis":0.081799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:30.719 [print] [\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=4b282988-cb91-4bbc-b147-f653014917cb#MD_DataIdentification\",\"http:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementsetname=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\"] \n"},{"result":{"nanos":1509188,"millis":1.509188,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":943093,"millis":0.943093,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":489296,"millis":0.489296,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94f241c2-43a2-42c3-8e9e-71976605aa0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":896.775555,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"94f241c2-43a2-42c3-8e9e-71976605aa0e","startTime":1632027569824,"refId":"[1.257:67]","endTime":1632027570722,"exampleData":{"datasetIdentifierCode":"94f241c2-43a2-42c3-8e9e-71976605aa0e"},"exampleIndex":256},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:30.009 karate.env system property was: null \n"},{"result":{"nanos":62999,"millis":0.062999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49199,"millis":0.049199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":230999,"millis":0.230999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":320998,"millis":0.320998,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27899,"millis":0.027899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4399,"millis":0.004399,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":270998,"millis":0.270998,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864484604,"millis":864.484604,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":612195,"millis":0.612195,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '243c6401-9ed1-4cdd-b9a7-caff08813ce4'"}},{"result":{"nanos":525296,"millis":0.525296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":480996,"millis":0.480996,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":446897,"millis":0.446897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":390297,"millis":0.390297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":406697,"millis":0.406697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":307597,"millis":0.307597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":273098,"millis":0.273098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":245198,"millis":0.245198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":104399,"millis":0.104399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":309998,"millis":0.309998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:30.880 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-EEZ-volgens-UNCLOS-feed.atom \n"},{"result":{"nanos":313997,"millis":0.313997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":125199,"millis":0.125199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:30.880 [print] #notpresent \n"},{"result":{"nanos":308098,"millis":0.308098,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75499,"millis":0.075499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:30.881 [print] INSPIRE Atom \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":68699,"millis":0.068699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:30.881 [print] #notpresent \n"},{"result":{"nanos":359797,"millis":0.359797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":46700,"millis":0.0467,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:30.881 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":59599,"millis":0.059599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:30.881 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e8b84fae-00b3-49c1-80c1-df8f69f64e8c#MD_DataIdentification \n"},{"result":{"nanos":348798,"millis":0.348798,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":550395,"millis":0.550395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":307798,"millis":0.307798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"243c6401-9ed1-4cdd-b9a7-caff08813ce4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.383542,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"243c6401-9ed1-4cdd-b9a7-caff08813ce4","startTime":1632027570009,"refId":"[1.258:67]","endTime":1632027570882,"exampleData":{"datasetIdentifierCode":"243c6401-9ed1-4cdd-b9a7-caff08813ce4"},"exampleIndex":257},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:30.111 karate.env system property was: null \n"},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47299,"millis":0.047299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":179999,"millis":0.179999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34999,"millis":0.034999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":298098,"millis":0.298098,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":58999,"millis":0.058999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13400,"millis":0.0134,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":122699,"millis":0.122699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":910210149,"millis":910.210149,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":423097,"millis":0.423097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7d641d0e-c04b-4191-833e-c578ac2abe5f'"}},{"result":{"nanos":424596,"millis":0.424596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":383697,"millis":0.383697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":342798,"millis":0.342798,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":394396,"millis":0.394396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":372898,"millis":0.372898,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":341298,"millis":0.341298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":285098,"millis":0.285098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":270098,"millis":0.270098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77099,"millis":0.077099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":101900,"millis":0.1019,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:31.027 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wfs\/org.874.83f948b1-9293-4926-b64d-40857c792f1e?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":439697,"millis":0.439697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89899,"millis":0.089899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:31.027 [print] #notpresent \n"},{"result":{"nanos":543596,"millis":0.543596,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":130299,"millis":0.130299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:31.028 [print] #notpresent \n"},{"result":{"nanos":91099,"millis":0.091099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":101399,"millis":0.101399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:31.029 [print] #notpresent \n"},{"result":{"nanos":433397,"millis":0.433397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":52699,"millis":0.052699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:31.029 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":60500,"millis":0.0605,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:31.029 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.83f948b1-9293-4926-b64d-40857c792f1e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":368297,"millis":0.368297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":516396,"millis":0.516396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":270998,"millis":0.270998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7d641d0e-c04b-4191-833e-c578ac2abe5f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":917.650593,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"7d641d0e-c04b-4191-833e-c578ac2abe5f","startTime":1632027570111,"refId":"[1.259:67]","endTime":1632027571031,"exampleData":{"datasetIdentifierCode":"7d641d0e-c04b-4191-833e-c578ac2abe5f"},"exampleIndex":258},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:30.686 karate.env system property was: null \n"},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45199,"millis":0.045199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":215298,"millis":0.215298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":323797,"millis":0.323797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":70799,"millis":0.070799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46699,"millis":0.046699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860141238,"millis":860.141238,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":382397,"millis":0.382397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd1cb16ca-2029-454f-b3f1-f70bceaf62c1'"}},{"result":{"nanos":307398,"millis":0.307398,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":350097,"millis":0.350097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":320598,"millis":0.320598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":380597,"millis":0.380597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":340597,"millis":0.340597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":304297,"millis":0.304297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":311498,"millis":0.311498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":407496,"millis":0.407496,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":384997,"millis":0.384997,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:31.552 [print] https:\\\/\\\/service.pdok.nl\\\/bzk\\\/bro-geomorfologischekaart\\\/wms\\\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":324497,"millis":0.324497,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98099,"millis":0.098099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:31.552 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":258198,"millis":0.258198,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108699,"millis":0.108699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:31.553 [print] #notpresent \n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:31.553 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":479197,"millis":0.479197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":137799,"millis":0.137799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:31.553 [print] Beheer PDOK \n"},{"result":{"nanos":283697,"millis":0.283697,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:31.554 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":417597,"millis":0.417597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":727294,"millis":0.727294,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":374497,"millis":0.374497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d1cb16ca-2029-454f-b3f1-f70bceaf62c1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.954376,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1","startTime":1632027570686,"refId":"[1.260:67]","endTime":1632027571555,"exampleData":{"datasetIdentifierCode":"d1cb16ca-2029-454f-b3f1-f70bceaf62c1"},"exampleIndex":259},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:30.724 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49699,"millis":0.049699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":811094,"millis":0.811094,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38799,"millis":0.038799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":344298,"millis":0.344298,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":122599,"millis":0.122599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":109900,"millis":0.1099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16399,"millis":0.016399,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53999,"millis":0.053999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1ff0035a-acc0-4a67-a76c-3b79646b4eef'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849391321,"millis":849.391321,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":430796,"millis":0.430796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1ff0035a-acc0-4a67-a76c-3b79646b4eef'"}},{"result":{"nanos":456397,"millis":0.456397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":396697,"millis":0.396697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":387697,"millis":0.387697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":436697,"millis":0.436697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":327197,"millis":0.327197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":251598,"millis":0.251598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":248498,"millis":0.248498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":259798,"millis":0.259798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68999,"millis":0.068999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":50800,"millis":0.0508,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:31.579 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/view\/map\/amplitude-getij_IVS?request=GetCapabilities&service=WMS&version=1.3.0 \n"},{"result":{"nanos":1176091,"millis":1.176091,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":71299,"millis":0.071299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:31.580 [print] OGC:WMS \n"},{"result":{"nanos":583895,"millis":0.583895,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":143299,"millis":0.143299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:31.581 [print] #notpresent \n"},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":516896,"millis":0.516896,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:31.581 [print] OGC:WMS \n"},{"result":{"nanos":348097,"millis":0.348097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:31.582 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":30199,"millis":0.030199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:31.582 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":321198,"millis":0.321198,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":321597,"millis":0.321597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":279798,"millis":0.279798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1ff0035a-acc0-4a67-a76c-3b79646b4eef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.283351,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1ff0035a-acc0-4a67-a76c-3b79646b4eef","startTime":1632027570723,"refId":"[1.261:67]","endTime":1632027571583,"exampleData":{"datasetIdentifierCode":"1ff0035a-acc0-4a67-a76c-3b79646b4eef"},"exampleIndex":260},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:30.884 karate.env system property was: null \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43699,"millis":0.043699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67300,"millis":0.0673,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223498,"millis":0.223498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":55799,"millis":0.055799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":404097,"millis":0.404097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60399,"millis":0.060399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43899,"millis":0.043899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854179084,"millis":854.179084,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":433596,"millis":0.433596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8'"}},{"result":{"nanos":400997,"millis":0.400997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":16165075,"millis":16.165075,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":500196,"millis":0.500196,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":616595,"millis":0.616595,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":457596,"millis":0.457596,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":344497,"millis":0.344497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":383897,"millis":0.383897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":467396,"millis":0.467396,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":161599,"millis":0.161599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":236498,"millis":0.236498,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:31.760 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/nwbwegen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":648395,"millis":0.648395,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":118199,"millis":0.118199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:31.761 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":529396,"millis":0.529396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":129999,"millis":0.129999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:31.762 [print] #notpresent \n"},{"result":{"nanos":182799,"millis":0.182799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":163599,"millis":0.163599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:31.762 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":556295,"millis":0.556295,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129799,"millis":0.129799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:31.763 [print] Beheer PDOK \n"},{"result":{"nanos":197499,"millis":0.197499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:31.763 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification \n"},{"result":{"nanos":494796,"millis":0.494796,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":485396,"millis":0.485396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":304697,"millis":0.304697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":879.377286,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8","startTime":1632027570884,"refId":"[1.262:67]","endTime":1632027571764,"exampleData":{"datasetIdentifierCode":"f2437a92-ddd3-4777-a1bc-fdf4b4a7fcb8"},"exampleIndex":261},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:31.032 karate.env system property was: null \n"},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66699,"millis":0.066699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":302597,"millis":0.302597,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53700,"millis":0.0537,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":494196,"millis":0.494196,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45399,"millis":0.045399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11800,"millis":0.0118,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853585988,"millis":853.585988,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":575495,"millis":0.575495,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f20e948e-9e22-4b5a-96a1-f3cc1d16b808'"}},{"result":{"nanos":553896,"millis":0.553896,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":524096,"millis":0.524096,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":455596,"millis":0.455596,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":592696,"millis":0.592696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":478297,"millis":0.478297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71099,"millis":0.071099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":352897,"millis":0.352897,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":357197,"millis":0.357197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":379597,"millis":0.379597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134599,"millis":0.134599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":868694,"millis":0.868694,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:31.893 [print] https:\/\/geodata.nationaalgeoregister.nl\/ahn1\/wcs?request=GetCapabilities&service=wcs \n"},{"result":{"nanos":442097,"millis":0.442097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":145299,"millis":0.145299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:31.894 [print] OGC:WCS \n"},{"result":{"nanos":415397,"millis":0.415397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":140399,"millis":0.140399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:31.894 [print] #notpresent \n"},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":121799,"millis":0.121799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:31.894 [print] OGC:WCS \n"},{"result":{"nanos":453896,"millis":0.453896,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":129999,"millis":0.129999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:31.895 [print] Beheer PDOK \n"},{"result":{"nanos":130399,"millis":0.130399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:31.895 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification \n"},{"result":{"nanos":464196,"millis":0.464196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":397697,"millis":0.397697,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":273998,"millis":0.273998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f20e948e-9e22-4b5a-96a1-f3cc1d16b808\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.345714,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808","startTime":1632027571032,"refId":"[1.263:67]","endTime":1632027571896,"exampleData":{"datasetIdentifierCode":"f20e948e-9e22-4b5a-96a1-f3cc1d16b808"},"exampleIndex":262},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:31.557 karate.env system property was: null \n"},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44999,"millis":0.044999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":195398,"millis":0.195398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":307597,"millis":0.307597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":59800,"millis":0.0598,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11199,"millis":0.011199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45600,"millis":0.0456,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851823402,"millis":851.823402,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":553696,"millis":0.553696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ea4cb6a2-f637-413a-91cc-d58473c2f138'"}},{"result":{"nanos":494996,"millis":0.494996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":632395,"millis":0.632395,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":491896,"millis":0.491896,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":508096,"millis":0.508096,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":422597,"millis":0.422597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":70999,"millis":0.070999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":399397,"millis":0.399397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":519196,"millis":0.519196,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":428497,"millis":0.428497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":193598,"millis":0.193598,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":282398,"millis":0.282398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:32.416 [print] http:\/\/services.inspire-provincies.nl\/EnvironmentalMonitoringFacilities\/services\/view_EF?request=GetCapabilities \n"},{"result":{"nanos":474296,"millis":0.474296,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":138399,"millis":0.138399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:32.416 [print] OGC:WMS \n"},{"result":{"nanos":461096,"millis":0.461096,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":107899,"millis":0.107899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:32.417 [print] #notpresent \n"},{"result":{"nanos":71300,"millis":0.0713,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":136299,"millis":0.136299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:32.417 [print] OGC:WMS \n"},{"result":{"nanos":489696,"millis":0.489696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109699,"millis":0.109699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:32.418 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":228198,"millis":0.228198,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:32.418 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":625895,"millis":0.625895,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":460297,"millis":0.460297,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":345997,"millis":0.345997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ea4cb6a2-f637-413a-91cc-d58473c2f138\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.360027,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"ea4cb6a2-f637-413a-91cc-d58473c2f138","startTime":1632027571557,"refId":"[1.264:67]","endTime":1632027572420,"exampleData":{"datasetIdentifierCode":"ea4cb6a2-f637-413a-91cc-d58473c2f138"},"exampleIndex":263},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:31.584 karate.env system property was: null \n"},{"result":{"nanos":25499,"millis":0.025499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39700,"millis":0.0397,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":87299,"millis":0.087299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":163899,"millis":0.163899,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52899,"millis":0.052899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":326898,"millis":0.326898,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42599,"millis":0.042599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":72599,"millis":0.072599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":7100,"millis":0.0071,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":885799539,"millis":885.799539,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1422889,"millis":1.422889,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '6c62e0a5-c215-4e47-94b0-a239e264417d'"}},{"result":{"nanos":1236190,"millis":1.23619,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1206591,"millis":1.206591,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1175891,"millis":1.175891,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1533288,"millis":1.533288,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1496789,"millis":1.496789,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":72399,"millis":0.072399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":822294,"millis":0.822294,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":842593,"millis":0.842593,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":910593,"millis":0.910593,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":503696,"millis":0.503696,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":178298,"millis":0.178298,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:32.483 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/plu\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":992993,"millis":0.992993,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":4356066,"millis":4.356066,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:32.488 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":2071484,"millis":2.071484,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":147798,"millis":0.147798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:32.490 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":137299,"millis":0.137299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:32.491 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":1316889,"millis":1.316889,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":111599,"millis":0.111599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:32.492 [print] Beheer PDOK \n"},{"result":{"nanos":135999,"millis":0.135999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:32.492 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification \n"},{"result":{"nanos":1621388,"millis":1.621388,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":324397,"millis":0.324397,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":261398,"millis":0.261398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"6c62e0a5-c215-4e47-94b0-a239e264417d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":909.650952,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"6c62e0a5-c215-4e47-94b0-a239e264417d","startTime":1632027571584,"refId":"[1.265:67]","endTime":1632027572495,"exampleData":{"datasetIdentifierCode":"6c62e0a5-c215-4e47-94b0-a239e264417d"},"exampleIndex":264},{"sectionIndex":0,"stepResults":[{"result":{"nanos":95399,"millis":0.095399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:31.768 karate.env system property was: null \n"},{"result":{"nanos":39100,"millis":0.0391,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121199,"millis":0.121199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":108399,"millis":0.108399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":273298,"millis":0.273298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101499,"millis":0.101499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":380197,"millis":0.380197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75699,"millis":0.075699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115299,"millis":0.115299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55400,"millis":0.0554,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":46599,"millis":0.046599,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":25200,"millis":0.0252,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":23199,"millis":0.023199,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":25300,"millis":0.0253,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842689273,"millis":842.689273,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":358197,"millis":0.358197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2d1860f2-f8ba-457e-bd64-93cdabd69aee'"}},{"result":{"nanos":464496,"millis":0.464496,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":399897,"millis":0.399897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":289498,"millis":0.289498,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":339997,"millis":0.339997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":314898,"millis":0.314898,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":240198,"millis":0.240198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":262598,"millis":0.262598,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":249698,"millis":0.249698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":80200,"millis":0.0802,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":65499,"millis":0.065499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:32.616 [print] https:\/\/inspire.caris.nl\/geoserver\/auwms\/wms?request=GetCapabilities&service=WMS&version=1.3.0 \n"},{"result":{"nanos":329797,"millis":0.329797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":205299,"millis":0.205299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:32.617 [print] OGC:WMS \n"},{"result":{"nanos":349997,"millis":0.349997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":126699,"millis":0.126699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:32.617 [print] #notpresent \n"},{"result":{"nanos":49699,"millis":0.049699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":197799,"millis":0.197799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:32.618 [print] OGC:WMS \n"},{"result":{"nanos":454396,"millis":0.454396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":57000,"millis":0.057,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:32.618 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":83800,"millis":0.0838,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:32.618 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4cda487b-c467-490c-a843-6563fec016be#MD_DataIdentification \n"},{"result":{"nanos":354797,"millis":0.354797,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":575695,"millis":0.575695,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":350798,"millis":0.350798,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2d1860f2-f8ba-457e-bd64-93cdabd69aee\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":850.451712,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"2d1860f2-f8ba-457e-bd64-93cdabd69aee","startTime":1632027571767,"refId":"[1.266:67]","endTime":1632027572620,"exampleData":{"datasetIdentifierCode":"2d1860f2-f8ba-457e-bd64-93cdabd69aee"},"exampleIndex":265},{"sectionIndex":0,"stepResults":[{"result":{"nanos":79799,"millis":0.079799,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:31.899 karate.env system property was: null \n"},{"result":{"nanos":38700,"millis":0.0387,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":116899,"millis":0.116899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":131299,"millis":0.131299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276198,"millis":0.276198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":104000,"millis":0.104,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":418396,"millis":0.418396,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":77700,"millis":0.0777,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":137799,"millis":0.137799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":86299,"millis":0.086299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22400,"millis":0.0224,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22399,"millis":0.022399,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859302144,"millis":859.302144,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":499696,"millis":0.499696,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '25a99d92-ea8a-4163-82ab-3521c9b0c96b'"}},{"result":{"nanos":420097,"millis":0.420097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":391297,"millis":0.391297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":397697,"millis":0.397697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":452896,"millis":0.452896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":410397,"millis":0.410397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":302497,"millis":0.302497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":303698,"millis":0.303698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":339297,"millis":0.339297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116699,"millis":0.116699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:32.764 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bestandbodemgebruik2015\\\/wfs?service=WFS&request=GetCapabilities \n"},{"result":{"nanos":413496,"millis":0.413496,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":90700,"millis":0.0907,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:32.765 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":390297,"millis":0.390297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":54600,"millis":0.0546,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:32.765 [print] #notpresent \n"},{"result":{"nanos":180199,"millis":0.180199,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":86600,"millis":0.0866,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:32.765 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":484596,"millis":0.484596,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":73699,"millis":0.073699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:32.766 [print] Beheer PDOK \n"},{"result":{"nanos":62700,"millis":0.0627,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:32.766 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification \n"},{"result":{"nanos":437396,"millis":0.437396,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":531596,"millis":0.531596,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":261698,"millis":0.261698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"25a99d92-ea8a-4163-82ab-3521c9b0c96b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.69918,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"25a99d92-ea8a-4163-82ab-3521c9b0c96b","startTime":1632027571898,"refId":"[1.267:67]","endTime":1632027572767,"exampleData":{"datasetIdentifierCode":"25a99d92-ea8a-4163-82ab-3521c9b0c96b"},"exampleIndex":266},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:32.423 karate.env system property was: null \n"},{"result":{"nanos":40999,"millis":0.040999,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":121299,"millis":0.121299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":152399,"millis":0.152399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":301497,"millis":0.301497,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":127699,"millis":0.127699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408197,"millis":0.408197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":96099,"millis":0.096099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":120399,"millis":0.120399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":35600,"millis":0.0356,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":115800,"millis":0.1158,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":24699,"millis":0.024699,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850339713,"millis":850.339713,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":412897,"millis":0.412897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'dd49e02c-ea87-4ffc-89dd-f888608d95b7'"}},{"result":{"nanos":349097,"millis":0.349097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":319797,"millis":0.319797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":362297,"millis":0.362297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":419597,"millis":0.419597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":382397,"millis":0.382397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":293597,"millis":0.293597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":308998,"millis":0.308998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":321697,"millis":0.321697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":426397,"millis":0.426397,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":807893,"millis":0.807893,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:33.281 [print] https:\/\/geodata.nationaalgeoregister.nl\/nationaleparken\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":304898,"millis":0.304898,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":356297,"millis":0.356297,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:33.281 [print] OGC:WMS \n"},{"result":{"nanos":359897,"millis":0.359897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":373797,"millis":0.373797,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:33.282 [print] #notpresent \n"},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":355897,"millis":0.355897,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:33.283 [print] OGC:WMS \n"},{"result":{"nanos":351197,"millis":0.351197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":347497,"millis":0.347497,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:33.283 [print] Beheer PDOK \n"},{"result":{"nanos":887094,"millis":0.887094,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:33.284 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification \n"},{"result":{"nanos":366998,"millis":0.366998,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":523495,"millis":0.523495,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297898,"millis":0.297898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"dd49e02c-ea87-4ffc-89dd-f888608d95b7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.078129,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"dd49e02c-ea87-4ffc-89dd-f888608d95b7","startTime":1632027572421,"refId":"[1.268:67]","endTime":1632027573285,"exampleData":{"datasetIdentifierCode":"dd49e02c-ea87-4ffc-89dd-f888608d95b7"},"exampleIndex":267},{"sectionIndex":0,"stepResults":[{"result":{"nanos":48700,"millis":0.0487,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:32.496 karate.env system property was: null \n"},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":104799,"millis":0.104799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":153699,"millis":0.153699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238698,"millis":0.238698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":95099,"millis":0.095099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":338898,"millis":0.338898,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":115499,"millis":0.115499,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":145699,"millis":0.145699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":40500,"millis":0.0405,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22900,"millis":0.0229,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21399,"millis":0.021399,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21900,"millis":0.0219,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '555f668f-63b4-47ef-a666-f12d71c2cc4a'"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20500,"millis":0.0205,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846529743,"millis":846.529743,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":407197,"millis":0.407197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '555f668f-63b4-47ef-a666-f12d71c2cc4a'"}},{"result":{"nanos":421297,"millis":0.421297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":389897,"millis":0.389897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":366697,"millis":0.366697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":478396,"millis":0.478396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":565196,"millis":0.565196,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":67199,"millis":0.067199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":390697,"millis":0.390697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":337397,"millis":0.337397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":347997,"millis":0.347997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78200,"millis":0.0782,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":104899,"millis":0.104899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:33.349 [print] https:\/\/service.pdok.nl\/cbs\/wb2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":523796,"millis":0.523796,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":117899,"millis":0.117899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:33.350 [print] INSPIRE Atom \n"},{"result":{"nanos":434896,"millis":0.434896,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57600,"millis":0.0576,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:33.350 [print] #notpresent \n"},{"result":{"nanos":43299,"millis":0.043299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:33.350 [print] INSPIRE Atom \n"},{"result":{"nanos":536595,"millis":0.536595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":71000,"millis":0.071,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:33.351 [print] Beheer PDOK \n"},{"result":{"nanos":76099,"millis":0.076099,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:33.351 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ffefc3dc-dc8f-4589-ae22-a60bebcdf5cb#MD_DataIdentification \n"},{"result":{"nanos":461196,"millis":0.461196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":488097,"millis":0.488097,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":282398,"millis":0.282398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"555f668f-63b4-47ef-a666-f12d71c2cc4a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.094977,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"555f668f-63b4-47ef-a666-f12d71c2cc4a","startTime":1632027572496,"refId":"[1.269:67]","endTime":1632027573352,"exampleData":{"datasetIdentifierCode":"555f668f-63b4-47ef-a666-f12d71c2cc4a"},"exampleIndex":268},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:32.628 karate.env system property was: null \n"},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44699,"millis":0.044699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":202698,"millis":0.202698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":604195,"millis":0.604195,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":317298,"millis":0.317298,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45299,"millis":0.045299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":69199,"millis":0.069199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":883705755,"millis":883.705755,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":427096,"millis":0.427096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0'"}},{"result":{"nanos":395797,"millis":0.395797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":380197,"millis":0.380197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":335797,"millis":0.335797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":414897,"millis":0.414897,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":416797,"millis":0.416797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":300797,"millis":0.300797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":285298,"millis":0.285298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309297,"millis":0.309297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":99800,"millis":0.0998,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":104699,"millis":0.104699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:33.517 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/wms\/v1_0?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":318097,"millis":0.318097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86699,"millis":0.086699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:33.517 [print] OGC:WMS \n"},{"result":{"nanos":317298,"millis":0.317298,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":87899,"millis":0.087899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:33.518 [print] #notpresent \n"},{"result":{"nanos":50600,"millis":0.0506,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":70399,"millis":0.070399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:33.518 [print] OGC:WMS \n"},{"result":{"nanos":387697,"millis":0.387697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":84999,"millis":0.084999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:33.518 [print] Beheer PDOK \n"},{"result":{"nanos":136699,"millis":0.136699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:33.518 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=rorl-9d8e-4758-83fx-28b057f185g1#MD_DataIdentification \n"},{"result":{"nanos":1596488,"millis":1.596488,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":482496,"millis":0.482496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":314497,"millis":0.314497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":892.593683,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0","startTime":1632027572626,"refId":"[1.270:67]","endTime":1632027573521,"exampleData":{"datasetIdentifierCode":"2ca26f5e-0b39-48a4-9e8d-7b9ffde9a5b0"},"exampleIndex":269},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14200,"millis":0.0142,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:32.769 karate.env system property was: null \n"},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47499,"millis":0.047499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":196299,"millis":0.196299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35899,"millis":0.035899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":357898,"millis":0.357898,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13499,"millis":0.013499,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855413874,"millis":855.413874,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":419296,"millis":0.419296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c21c6bf5-8899-4b46-8986-0f65eca05ed0'"}},{"result":{"nanos":393597,"millis":0.393597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":390997,"millis":0.390997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":355197,"millis":0.355197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":428797,"millis":0.428797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":374597,"millis":0.374597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":280698,"millis":0.280698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":290798,"millis":0.290798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":306598,"millis":0.306598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":688094,"millis":0.688094,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":679595,"millis":0.679595,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:33.631 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnstedelijkafvalwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":315597,"millis":0.315597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":316398,"millis":0.316398,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:33.631 [print] #notpresent \n"},{"result":{"nanos":304697,"millis":0.304697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":328898,"millis":0.328898,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:33.632 [print] INSPIRE Atom \n"},{"result":{"nanos":32600,"millis":0.0326,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":296397,"millis":0.296397,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:33.632 [print] #notpresent \n"},{"result":{"nanos":392597,"millis":0.392597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":314898,"millis":0.314898,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:33.633 [print] Beheer PDOK \n"},{"result":{"nanos":2403681,"millis":2.403681,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:33.635 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=uwwtd-9d8e-4758-83fa-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":477996,"millis":0.477996,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":554296,"millis":0.554296,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":302697,"millis":0.302697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c21c6bf5-8899-4b46-8986-0f65eca05ed0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.982284,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"c21c6bf5-8899-4b46-8986-0f65eca05ed0","startTime":1632027572769,"refId":"[1.271:67]","endTime":1632027573637,"exampleData":{"datasetIdentifierCode":"c21c6bf5-8899-4b46-8986-0f65eca05ed0"},"exampleIndex":270},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15999,"millis":0.015999,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:33.288 karate.env system property was: null \n"},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":63000,"millis":0.063,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53499,"millis":0.053499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":236598,"millis":0.236598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":324097,"millis":0.324097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64099,"millis":0.064099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":395197,"millis":0.395197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":66899,"millis":0.066899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":874066730,"millis":874.06673,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":412497,"millis":0.412497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '66805d91-a5f6-4265-bd36-ef13a429c97e'"}},{"result":{"nanos":343198,"millis":0.343198,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":341098,"millis":0.341098,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":300397,"millis":0.300397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":370797,"millis":0.370797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":321798,"millis":0.321798,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":263898,"millis":0.263898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":275898,"millis":0.275898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":279698,"millis":0.279698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":79899,"millis":0.079899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":84700,"millis":0.0847,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:34.167 [print] https:\/\/geodata.nationaalgeoregister.nl\/bzk\/bro-bodemkaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":280098,"millis":0.280098,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150299,"millis":0.150299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:34.167 [print] #notpresent \n"},{"result":{"nanos":365897,"millis":0.365897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56499,"millis":0.056499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:34.168 [print] INSPIRE Atom \n"},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:34.168 [print] #notpresent \n"},{"result":{"nanos":386997,"millis":0.386997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":64299,"millis":0.064299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:34.168 [print] Beheer PDOK \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:34.168 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=ed960299-a147-4c1a-bc57-41ff83a2264f#MD_DataIdentification \n"},{"result":{"nanos":747594,"millis":0.747594,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1166191,"millis":1.166191,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":365497,"millis":0.365497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"66805d91-a5f6-4265-bd36-ef13a429c97e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.210467,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"66805d91-a5f6-4265-bd36-ef13a429c97e","startTime":1632027573287,"refId":"[1.272:67]","endTime":1632027574171,"exampleData":{"datasetIdentifierCode":"66805d91-a5f6-4265-bd36-ef13a429c97e"},"exampleIndex":271},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:33.354 karate.env system property was: null \n"},{"result":{"nanos":46300,"millis":0.0463,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44099,"millis":0.044099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49500,"millis":0.0495,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":294597,"millis":0.294597,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36000,"millis":0.036,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393997,"millis":0.393997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":42600,"millis":0.0426,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":44799,"millis":0.044799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41699,"millis":0.041699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855066377,"millis":855.066377,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":339097,"millis":0.339097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '641a0f48-872b-4470-b130-e3d28e6bfdfb'"}},{"result":{"nanos":405297,"millis":0.405297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":474496,"millis":0.474496,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":444797,"millis":0.444797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":449396,"millis":0.449396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":617295,"millis":0.617295,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":340297,"millis":0.340297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":310298,"millis":0.310298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":334297,"millis":0.334297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70099,"millis":0.070099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":169999,"millis":0.169999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:34.214 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnmarienestrategie2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":530096,"millis":0.530096,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150298,"millis":0.150298,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:34.215 [print] #notpresent \n"},{"result":{"nanos":338098,"millis":0.338098,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":129199,"millis":0.129199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:34.216 [print] INSPIRE Atom \n"},{"result":{"nanos":109999,"millis":0.109999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":162998,"millis":0.162998,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:34.216 [print] #notpresent \n"},{"result":{"nanos":475596,"millis":0.475596,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":53600,"millis":0.0536,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:34.216 [print] Beheer PDOK \n"},{"result":{"nanos":186999,"millis":0.186999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:34.217 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e3#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krm-a905-9d8e-4758-83fa-28b057f185e4#MD_DataIdentification\"] \n"},{"result":{"nanos":366498,"millis":0.366498,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":408896,"millis":0.408896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":443697,"millis":0.443697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"641a0f48-872b-4470-b130-e3d28e6bfdfb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.45981,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"641a0f48-872b-4470-b130-e3d28e6bfdfb","startTime":1632027573354,"refId":"[1.273:67]","endTime":1632027574218,"exampleData":{"datasetIdentifierCode":"641a0f48-872b-4470-b130-e3d28e6bfdfb"},"exampleIndex":272},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:33.527 karate.env system property was: null \n"},{"result":{"nanos":44499,"millis":0.044499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70899,"millis":0.070899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":311098,"millis":0.311098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59199,"millis":0.059199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":408797,"millis":0.408797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31600,"millis":0.0316,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":99499,"millis":0.099499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8600,"millis":0.0086,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd415c10a-8dbf-4c01-8061-4689e5db38ac'"}},{"result":{"nanos":23999,"millis":0.023999,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843822364,"millis":843.822364,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":447197,"millis":0.447197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd415c10a-8dbf-4c01-8061-4689e5db38ac'"}},{"result":{"nanos":438297,"millis":0.438297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":400097,"millis":0.400097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":502196,"millis":0.502196,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":449696,"millis":0.449696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":413197,"millis":0.413197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":303497,"millis":0.303497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":307098,"millis":0.307098,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":338797,"millis":0.338797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":128199,"millis":0.128199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:34.378 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ecotopen\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":426096,"millis":0.426096,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":125299,"millis":0.125299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:34.379 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":362097,"millis":0.362097,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":50900,"millis":0.0509,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:34.379 [print] #notpresent \n"},{"result":{"nanos":78299,"millis":0.078299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":125099,"millis":0.125099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:34.379 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":465897,"millis":0.465897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":91699,"millis":0.091699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:34.380 [print] Beheer PDOK \n"},{"result":{"nanos":70599,"millis":0.070599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:34.380 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=78d31ab4-4116-45b7-bcf5-e14960916b0f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2220c0dd-3720-4e39-a130-171531c1e694#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=b250f3a4-ed78-4c85-8cd5-f1af43841c6e#MD_DataIdentification\"] \n"},{"result":{"nanos":502096,"millis":0.502096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":696895,"millis":0.696895,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d415c10a-8dbf-4c01-8061-4689e5db38ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":412796,"millis":0.412796,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d415c10a-8dbf-4c01-8061-4689e5db38ac\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":852.251797,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"d415c10a-8dbf-4c01-8061-4689e5db38ac","startTime":1632027573527,"refId":"[1.274:67]","endTime":1632027574382,"exampleData":{"datasetIdentifierCode":"d415c10a-8dbf-4c01-8061-4689e5db38ac"},"exampleIndex":273},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16899,"millis":0.016899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:33.644 karate.env system property was: null \n"},{"result":{"nanos":66800,"millis":0.0668,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44299,"millis":0.044299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":613095,"millis":0.613095,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":389197,"millis":0.389197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29599,"millis":0.029599,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":392097,"millis":0.392097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42999,"millis":0.042999,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852412798,"millis":852.412798,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":397097,"millis":0.397097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ddf33bff-8de3-4cca-b6f5-24d18daa502f'"}},{"result":{"nanos":388097,"millis":0.388097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":371797,"millis":0.371797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":443997,"millis":0.443997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":485096,"millis":0.485096,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":463096,"millis":0.463096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":338597,"millis":0.338597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":343097,"millis":0.343097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":296598,"millis":0.296598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":238398,"millis":0.238398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:34.502 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2015\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":692394,"millis":0.692394,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":111999,"millis":0.111999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:34.503 [print] #notpresent \n"},{"result":{"nanos":413597,"millis":0.413597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":63399,"millis":0.063399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:34.504 [print] INSPIRE Atom \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":237598,"millis":0.237598,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:34.504 [print] #notpresent \n"},{"result":{"nanos":510296,"millis":0.510296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":123499,"millis":0.123499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:34.505 [print] Beheer PDOK \n"},{"result":{"nanos":60499,"millis":0.060499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:34.505 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbeag#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=110f9ec6-4464-462e-9765-83d90cefbead#MD_DataIdentification\"] \n"},{"result":{"nanos":453897,"millis":0.453897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":608495,"millis":0.608495,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":341497,"millis":0.341497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ddf33bff-8de3-4cca-b6f5-24d18daa502f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.668723,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"ddf33bff-8de3-4cca-b6f5-24d18daa502f","startTime":1632027573643,"refId":"[1.275:67]","endTime":1632027574506,"exampleData":{"datasetIdentifierCode":"ddf33bff-8de3-4cca-b6f5-24d18daa502f"},"exampleIndex":274},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15599,"millis":0.015599,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:34.173 karate.env system property was: null \n"},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":82999,"millis":0.082999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":209198,"millis":0.209198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":325597,"millis":0.325597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28900,"millis":0.0289,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14699,"millis":0.014699,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847942832,"millis":847.942832,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1916885,"millis":1.916885,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'bb85e473-c04a-42a6-9fdc-f0bb0239327e'"}},{"result":{"nanos":367697,"millis":0.367697,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":300098,"millis":0.300098,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":270797,"millis":0.270797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":359898,"millis":0.359898,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":310797,"millis":0.310797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":235298,"millis":0.235298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":228998,"millis":0.228998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":264098,"millis":0.264098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":243298,"millis":0.243298,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":226698,"millis":0.226698,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:35.027 [print] https:\/\/service.pdok.nl\/kadaster\/gebouwen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":299498,"millis":0.299498,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":522296,"millis":0.522296,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:35.028 [print] INSPIRE Atom \n"},{"result":{"nanos":439796,"millis":0.439796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":486396,"millis":0.486396,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:35.029 [print] #notpresent \n"},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":375097,"millis":0.375097,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:35.029 [print] INSPIRE Atom \n"},{"result":{"nanos":342797,"millis":0.342797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":391497,"millis":0.391497,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:35.030 [print] Beheer PDOK \n"},{"result":{"nanos":753494,"millis":0.753494,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:35.031 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=b4ae622c-6201-49d8-bd2e-f7fce9206a1e#MD_DataIdentification \n"},{"result":{"nanos":305998,"millis":0.305998,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":519496,"millis":0.519496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318697,"millis":0.318697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"bb85e473-c04a-42a6-9fdc-f0bb0239327e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.436548,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"bb85e473-c04a-42a6-9fdc-f0bb0239327e","startTime":1632027574172,"refId":"[1.276:67]","endTime":1632027575032,"exampleData":{"datasetIdentifierCode":"bb85e473-c04a-42a6-9fdc-f0bb0239327e"},"exampleIndex":275},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:34.220 karate.env system property was: null \n"},{"result":{"nanos":26899,"millis":0.026899,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":65799,"millis":0.065799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":184599,"millis":0.184599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36899,"millis":0.036899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":448697,"millis":0.448697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28699,"millis":0.028699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42100,"millis":0.0421,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847822433,"millis":847.822433,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":461096,"millis":0.461096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cb13a608-3d78-4f79-ba60-be63ccd6e268'"}},{"result":{"nanos":383097,"millis":0.383097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":317298,"millis":0.317298,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":304198,"millis":0.304198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":327898,"millis":0.327898,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":307298,"millis":0.307298,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22700,"millis":0.0227,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":310597,"millis":0.310597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":267198,"millis":0.267198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":248498,"millis":0.248498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":52600,"millis":0.0526,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":58799,"millis":0.058799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:35.073 [print] https:\/\/service.pdok.nl\/cbs\/vk100\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":258698,"millis":0.258698,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73400,"millis":0.0734,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:35.073 [print] INSPIRE Atom \n"},{"result":{"nanos":249698,"millis":0.249698,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:35.073 [print] #notpresent \n"},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":56499,"millis":0.056499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:35.073 [print] INSPIRE Atom \n"},{"result":{"nanos":319197,"millis":0.319197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":56300,"millis":0.0563,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:35.074 [print] Beheer PDOK \n"},{"result":{"nanos":60799,"millis":0.060799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:35.074 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1462bbce-ccd3-4362-83d8-4535ca8f44eb#MD_DataIdentification \n"},{"result":{"nanos":315798,"millis":0.315798,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":381097,"millis":0.381097,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":256698,"millis":0.256698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cb13a608-3d78-4f79-ba60-be63ccd6e268\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":853.999286,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"cb13a608-3d78-4f79-ba60-be63ccd6e268","startTime":1632027574220,"refId":"[1.277:67]","endTime":1632027575075,"exampleData":{"datasetIdentifierCode":"cb13a608-3d78-4f79-ba60-be63ccd6e268"},"exampleIndex":276},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:34.384 karate.env system property was: null \n"},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44499,"millis":0.044499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":69000,"millis":0.069,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":213098,"millis":0.213098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53900,"millis":0.0539,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":327198,"millis":0.327198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43199,"millis":0.043199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848459636,"millis":848.459636,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":474096,"millis":0.474096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0898d4a9-8fe6-46e9-8855-1242d8028970'"}},{"result":{"nanos":381997,"millis":0.381997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":333898,"millis":0.333898,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":307797,"millis":0.307797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":350398,"millis":0.350398,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":344297,"millis":0.344297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84699,"millis":0.084699,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":325198,"millis":0.325198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":289797,"millis":0.289797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":401097,"millis":0.401097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":284798,"millis":0.284798,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":159699,"millis":0.159699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:35.237 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/richtlijnoverstromingsrisico2018\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":338097,"millis":0.338097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":177399,"millis":0.177399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:35.238 [print] #notpresent \n"},{"result":{"nanos":279597,"millis":0.279597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":90400,"millis":0.0904,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:35.238 [print] INSPIRE Atom \n"},{"result":{"nanos":28799,"millis":0.028799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":74700,"millis":0.0747,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:35.238 [print] #notpresent \n"},{"result":{"nanos":367297,"millis":0.367297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99499,"millis":0.099499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:35.239 [print] Beheer PDOK \n"},{"result":{"nanos":83999,"millis":0.083999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:35.239 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185f1#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=ror-9d8e-4758-83fx-28b057f185e1#MD_DataIdentification\"] \n"},{"result":{"nanos":334698,"millis":0.334698,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":641795,"millis":0.641795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":380297,"millis":0.380297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0898d4a9-8fe6-46e9-8855-1242d8028970\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.027778,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"0898d4a9-8fe6-46e9-8855-1242d8028970","startTime":1632027574383,"refId":"[1.278:67]","endTime":1632027575240,"exampleData":{"datasetIdentifierCode":"0898d4a9-8fe6-46e9-8855-1242d8028970"},"exampleIndex":277},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:34.508 karate.env system property was: null \n"},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60799,"millis":0.060799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49900,"millis":0.0499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":207298,"millis":0.207298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93199,"millis":0.093199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":468296,"millis":0.468296,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":81399,"millis":0.081399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":63799,"millis":0.063799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854219911,"millis":854.219911,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":473797,"millis":0.473797,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0bb27a13-76f1-4374-8d44-76e937198e8d'"}},{"result":{"nanos":383997,"millis":0.383997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":324697,"millis":0.324697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":306098,"millis":0.306098,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":350897,"millis":0.350897,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":359897,"millis":0.359897,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":253898,"millis":0.253898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":235398,"millis":0.235398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":247298,"millis":0.247298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57500,"millis":0.0575,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":71599,"millis":0.071599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:35.367 [print] https:\/\/inspire.caris.nl\/atom\/maritieme-grenzen-zones-noordzee-Maritieme-grenzen-Noordzee.gml \n"},{"result":{"nanos":348297,"millis":0.348297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:35.367 [print] #notpresent \n"},{"result":{"nanos":303897,"millis":0.303897,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":74300,"millis":0.0743,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:35.368 [print] INSPIRE Atom \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":64099,"millis":0.064099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:35.368 [print] #notpresent \n"},{"result":{"nanos":309498,"millis":0.309498,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":66299,"millis":0.066299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:35.368 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:35.368 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=a5241416-8401-4623-be61-57ef50447a41&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":958292,"millis":0.958292,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":486096,"millis":0.486096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2351282,"millis":2.351282,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0bb27a13-76f1-4374-8d44-76e937198e8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.595937,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"0bb27a13-76f1-4374-8d44-76e937198e8d","startTime":1632027574508,"refId":"[1.279:67]","endTime":1632027575372,"exampleData":{"datasetIdentifierCode":"0bb27a13-76f1-4374-8d44-76e937198e8d"},"exampleIndex":278},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:35.034 karate.env system property was: null \n"},{"result":{"nanos":28099,"millis":0.028099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51999,"millis":0.051999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220099,"millis":0.220099,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35499,"millis":0.035499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":316598,"millis":0.316598,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":372097,"millis":0.372097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17099,"millis":0.017099,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":912447645,"millis":912.447645,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":382297,"millis":0.382297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '91b1f8ca-63a0-4ce6-b7e1-456ee6945638'"}},{"result":{"nanos":320397,"millis":0.320397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":290498,"millis":0.290498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":289598,"millis":0.289598,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":336497,"millis":0.336497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":294398,"millis":0.294398,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23399,"millis":0.023399,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":243599,"millis":0.243599,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":238999,"millis":0.238999,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":238398,"millis":0.238398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60299,"millis":0.060299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":103099,"millis":0.103099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:35.951 [print] https:\/\/service.pdok.nl\/rvo\/schelpdierpercelen\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":376397,"millis":0.376397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73500,"millis":0.0735,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:35.951 [print] INSPIRE Atom \n"},{"result":{"nanos":298398,"millis":0.298398,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86500,"millis":0.0865,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:35.952 [print] #notpresent \n"},{"result":{"nanos":30099,"millis":0.030099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76500,"millis":0.0765,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:35.952 [print] INSPIRE Atom \n"},{"result":{"nanos":359997,"millis":0.359997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":52399,"millis":0.052399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:35.952 [print] Beheer PDOK \n"},{"result":{"nanos":79500,"millis":0.0795,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:35.952 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=c4b4e95a-12d7-4c74-933c-cb267cfe0bcf#MD_DataIdentification \n"},{"result":{"nanos":308597,"millis":0.308597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":560896,"millis":0.560896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2804679,"millis":2.804679,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"91b1f8ca-63a0-4ce6-b7e1-456ee6945638\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":921.596775,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638","startTime":1632027575034,"refId":"[1.280:67]","endTime":1632027575956,"exampleData":{"datasetIdentifierCode":"91b1f8ca-63a0-4ce6-b7e1-456ee6945638"},"exampleIndex":279},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14400,"millis":0.0144,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:35.076 karate.env system property was: null \n"},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46200,"millis":0.0462,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":215298,"millis":0.215298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36300,"millis":0.0363,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":318998,"millis":0.318998,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27000,"millis":0.027,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42199,"millis":0.042199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11000,"millis":0.011,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":5399,"millis":0.005399,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4000,"millis":0.004,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":934823181,"millis":934.823181,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":465096,"millis":0.465096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1c0dcc64-91aa-4d44-a9e3-54355556f5e7'"}},{"result":{"nanos":510196,"millis":0.510196,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":608095,"millis":0.608095,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":690595,"millis":0.690595,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":503196,"millis":0.503196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":478296,"millis":0.478296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":396997,"millis":0.396997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346097,"millis":0.346097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":362497,"millis":0.362497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":55000,"millis":0.055,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":70799,"millis":0.070799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:36.017 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wfs\\\/v1_1?request=getCapabilities&service=WFS \n"},{"result":{"nanos":604296,"millis":0.604296,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77000,"millis":0.077,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:36.018 [print] #notpresent \n"},{"result":{"nanos":638295,"millis":0.638295,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91999,"millis":0.091999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:36.018 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":28400,"millis":0.0284,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":79800,"millis":0.0798,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:36.019 [print] #notpresent \n"},{"result":{"nanos":623396,"millis":0.623396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":98099,"millis":0.098099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:36.019 [print] Beheer PDOK \n"},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:36.019 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":784994,"millis":0.784994,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":476196,"millis":0.476196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":318197,"millis":0.318197,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1c0dcc64-91aa-4d44-a9e3-54355556f5e7\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":944.039011,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7","startTime":1632027575076,"refId":"[1.281:67]","endTime":1632027576021,"exampleData":{"datasetIdentifierCode":"1c0dcc64-91aa-4d44-a9e3-54355556f5e7"},"exampleIndex":280},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15400,"millis":0.0154,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:35.242 karate.env system property was: null \n"},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46299,"millis":0.046299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51100,"millis":0.0511,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":209998,"millis":0.209998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":366597,"millis":0.366597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":47300,"millis":0.0473,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75499,"millis":0.075499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43099,"millis":0.043099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853128615,"millis":853.128615,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":552396,"millis":0.552396,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9e2e977a-16a6-42a4-a208-c4f70704f383'"}},{"result":{"nanos":586295,"millis":0.586295,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":817294,"millis":0.817294,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":672695,"millis":0.672695,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":636295,"millis":0.636295,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":512397,"millis":0.512397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":369397,"millis":0.369397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":391497,"millis":0.391497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":381597,"millis":0.381597,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":88799,"millis":0.088799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:36.102 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/bag\\\/wms\\\/v1_1?request=getCapabilities&service=WMS \n"},{"result":{"nanos":463696,"millis":0.463696,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":83900,"millis":0.0839,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:36.102 [print] #notpresent \n"},{"result":{"nanos":385297,"millis":0.385297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":55199,"millis":0.055199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:36.103 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58800,"millis":0.0588,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:36.103 [print] #notpresent \n"},{"result":{"nanos":567396,"millis":0.567396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:36.104 [print] Beheer PDOK \n"},{"result":{"nanos":61600,"millis":0.0616,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:36.104 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=aa3b5e6e-7baa-40c0-8972-3353e927ec2f#MD_DataIdentification \n"},{"result":{"nanos":558996,"millis":0.558996,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":498896,"millis":0.498896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":2008885,"millis":2.008885,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9e2e977a-16a6-42a4-a208-c4f70704f383\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.043534,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9e2e977a-16a6-42a4-a208-c4f70704f383","startTime":1632027575242,"refId":"[1.282:67]","endTime":1632027576107,"exampleData":{"datasetIdentifierCode":"9e2e977a-16a6-42a4-a208-c4f70704f383"},"exampleIndex":281},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:35.374 karate.env system property was: null \n"},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61799,"millis":0.061799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":193798,"millis":0.193798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":385397,"millis":0.385397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114600,"millis":0.1146,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14199,"millis":0.014199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843287090,"millis":843.28709,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":402197,"millis":0.402197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deaf8380-ad45-48d2-8c3e-81164471bafb'"}},{"result":{"nanos":537596,"millis":0.537596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":564796,"millis":0.564796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":488597,"millis":0.488597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":372897,"millis":0.372897,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":335797,"millis":0.335797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":271798,"millis":0.271798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":304897,"millis":0.304897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":305598,"millis":0.305598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59899,"millis":0.059899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":78900,"millis":0.0789,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:36.223 [print] https:\/\/service.pdok.nl\/cbs\/vk500\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":846493,"millis":0.846493,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79299,"millis":0.079299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:36.224 [print] INSPIRE Atom \n"},{"result":{"nanos":539896,"millis":0.539896,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":55800,"millis":0.0558,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:36.225 [print] #notpresent \n"},{"result":{"nanos":26699,"millis":0.026699,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":358398,"millis":0.358398,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:36.225 [print] INSPIRE Atom \n"},{"result":{"nanos":319797,"millis":0.319797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:36.225 [print] Beheer PDOK \n"},{"result":{"nanos":29199,"millis":0.029199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:36.225 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=f605a24f-60cd-4c40-94c8-2186aba3ddd0#MD_DataIdentification \n"},{"result":{"nanos":812294,"millis":0.812294,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":480997,"millis":0.480997,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":277698,"millis":0.277698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"deaf8380-ad45-48d2-8c3e-81164471bafb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":852.004725,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"deaf8380-ad45-48d2-8c3e-81164471bafb","startTime":1632027575374,"refId":"[1.283:67]","endTime":1632027576227,"exampleData":{"datasetIdentifierCode":"deaf8380-ad45-48d2-8c3e-81164471bafb"},"exampleIndex":282},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17799,"millis":0.017799,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:35.959 karate.env system property was: null \n"},{"result":{"nanos":30700,"millis":0.0307,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":65600,"millis":0.0656,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":56699,"millis":0.056699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":589996,"millis":0.589996,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":61100,"millis":0.0611,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":430897,"millis":0.430897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":31400,"millis":0.0314,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":439396,"millis":0.439396,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17300,"millis":0.0173,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6500,"millis":0.0065,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":54799,"millis":0.054799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852316222,"millis":852.316222,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":481397,"millis":0.481397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507'"}},{"result":{"nanos":369497,"millis":0.369497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":346997,"millis":0.346997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":334198,"millis":0.334198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":385598,"millis":0.385598,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":393897,"millis":0.393897,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":98600,"millis":0.0986,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":391197,"millis":0.391197,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":405797,"millis":0.405797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":510696,"millis":0.510696,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":178499,"millis":0.178499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":149399,"millis":0.149399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:36.818 [print] https:\/\/geodata.nationaalgeoregister.nl\/rvo\/inspire\/invasieve-exoten\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":393197,"millis":0.393197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":76800,"millis":0.0768,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:36.818 [print] INSPIRE Atom \n"},{"result":{"nanos":401197,"millis":0.401197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":174098,"millis":0.174098,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:36.819 [print] #notpresent \n"},{"result":{"nanos":29400,"millis":0.0294,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":61499,"millis":0.061499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:36.819 [print] INSPIRE Atom \n"},{"result":{"nanos":410097,"millis":0.410097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99699,"millis":0.099699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:36.820 [print] Beheer PDOK \n"},{"result":{"nanos":66300,"millis":0.0663,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:36.820 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=3703b249-a0eb-484e-ba7a-10e31a55bcec#MD_DataIdentification \n"},{"result":{"nanos":484796,"millis":0.484796,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":622095,"millis":0.622095,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":372897,"millis":0.372897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.391555,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507","startTime":1632027575958,"refId":"[1.284:67]","endTime":1632027576821,"exampleData":{"datasetIdentifierCode":"d2a05dd5-98e8-4f9c-8ba2-7fe2d5c7c507"},"exampleIndex":283},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:36.023 karate.env system property was: null \n"},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":39399,"millis":0.039399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":167499,"millis":0.167499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35099,"millis":0.035099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":289098,"millis":0.289098,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60699,"millis":0.060699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11600,"millis":0.0116,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":12800,"millis":0.0128,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":78300,"millis":0.0783,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":6399,"millis":0.006399,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":844837379,"millis":844.837379,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1900,"millis":0.0019,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":504097,"millis":0.504097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '93c8762c-4cbb-42b0-9b02-89ef902e8880'"}},{"result":{"nanos":451196,"millis":0.451196,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":454197,"millis":0.454197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":945093,"millis":0.945093,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":441997,"millis":0.441997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":429597,"millis":0.429597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":327498,"millis":0.327498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":271398,"millis":0.271398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":257999,"millis":0.257999,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":67299,"millis":0.067299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:36.873 [print] https:\/\/service.pdok.nl\/provincies\/ps\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":293398,"millis":0.293398,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75300,"millis":0.0753,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:36.873 [print] INSPIRE Atom \n"},{"result":{"nanos":337398,"millis":0.337398,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":91099,"millis":0.091099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:36.874 [print] #notpresent \n"},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72899,"millis":0.072899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:36.874 [print] INSPIRE Atom \n"},{"result":{"nanos":396897,"millis":0.396897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:36.874 [print] Beheer PDOK \n"},{"result":{"nanos":93699,"millis":0.093699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:36.875 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=49ab8bee-b467-486a-96ca-b950443c453a#MD_DataIdentification \n"},{"result":{"nanos":321397,"millis":0.321397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":459797,"millis":0.459797,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":256898,"millis":0.256898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"93c8762c-4cbb-42b0-9b02-89ef902e8880\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":852.386825,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"93c8762c-4cbb-42b0-9b02-89ef902e8880","startTime":1632027576022,"refId":"[1.285:67]","endTime":1632027576876,"exampleData":{"datasetIdentifierCode":"93c8762c-4cbb-42b0-9b02-89ef902e8880"},"exampleIndex":284},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:36.109 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":61399,"millis":0.061399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51300,"millis":0.0513,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":199398,"millis":0.199398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36800,"millis":0.0368,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":331097,"millis":0.331097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":347797,"millis":0.347797,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43699,"millis":0.043699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":856375591,"millis":856.375591,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":366497,"millis":0.366497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a7aeddf2-3b37-4668-9c75-de93d9326276'"}},{"result":{"nanos":604595,"millis":0.604595,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":510296,"millis":0.510296,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":530396,"millis":0.530396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":509296,"millis":0.509296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":439597,"millis":0.439597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":340298,"millis":0.340298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":365197,"millis":0.365197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":306298,"millis":0.306298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76799,"millis":0.076799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":66199,"millis":0.066199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:36.971 [print] https:\/\/geodata.nationaalgeoregister.nl\/inspire\/ps-natura2000\/wms?request=Getcapabilities&service=wms \n"},{"result":{"nanos":915993,"millis":0.915993,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":101800,"millis":0.1018,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:36.972 [print] OGC:WMS \n"},{"result":{"nanos":375198,"millis":0.375198,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":114899,"millis":0.114899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:36.973 [print] #notpresent \n"},{"result":{"nanos":47899,"millis":0.047899,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":61900,"millis":0.0619,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:36.973 [print] OGC:WMS \n"},{"result":{"nanos":577995,"millis":0.577995,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":66500,"millis":0.0665,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:36.974 [print] Beheer PDOK \n"},{"result":{"nanos":87799,"millis":0.087799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:36.974 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=280ed37a-b8d2-4ac5-8567-04d84fad3a41#MD_DataIdentification \n"},{"result":{"nanos":533596,"millis":0.533596,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":583495,"millis":0.583495,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":289298,"millis":0.289298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a7aeddf2-3b37-4668-9c75-de93d9326276\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":865.469921,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"a7aeddf2-3b37-4668-9c75-de93d9326276","startTime":1632027576109,"refId":"[1.286:67]","endTime":1632027576975,"exampleData":{"datasetIdentifierCode":"a7aeddf2-3b37-4668-9c75-de93d9326276"},"exampleIndex":285},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:36.229 karate.env system property was: null \n"},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43999,"millis":0.043999,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":187699,"millis":0.187699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35000,"millis":0.035,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":409997,"millis":0.409997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":65799,"millis":0.065799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16000,"millis":0.016,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":47200,"millis":0.0472,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852562619,"millis":852.562619,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":411697,"millis":0.411697,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'd94b1eca-8a7d-4dc4-b979-36257878758f'"}},{"result":{"nanos":389097,"millis":0.389097,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":385897,"millis":0.385897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":348797,"millis":0.348797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":345497,"millis":0.345497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":327098,"millis":0.327098,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23000,"millis":0.023,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":256398,"millis":0.256398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":245198,"millis":0.245198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":322797,"millis":0.322797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":52800,"millis":0.0528,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":93599,"millis":0.093599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:37.086 [print] https:\/\/geodata.nationaalgeoregister.nl\/cbsgebiedsindelingen\/wfs?request=GetCapabilities&service=WFS \n"},{"result":{"nanos":279798,"millis":0.279798,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":40599,"millis":0.040599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:37.087 [print] OGC:WFS \n"},{"result":{"nanos":250498,"millis":0.250498,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":35300,"millis":0.0353,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:37.087 [print] #notpresent \n"},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":30399,"millis":0.030399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:37.087 [print] OGC:WFS \n"},{"result":{"nanos":349598,"millis":0.349598,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":36999,"millis":0.036999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:37.087 [print] Beheer PDOK \n"},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:37.087 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=effe1ab0-073d-437c-af13-df5c5e07d6cd#MD_DataIdentification \n"},{"result":{"nanos":348297,"millis":0.348297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":463597,"millis":0.463597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":274998,"millis":0.274998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"d94b1eca-8a7d-4dc4-b979-36257878758f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.903271,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"d94b1eca-8a7d-4dc4-b979-36257878758f","startTime":1632027576228,"refId":"[1.287:67]","endTime":1632027577089,"exampleData":{"datasetIdentifierCode":"d94b1eca-8a7d-4dc4-b979-36257878758f"},"exampleIndex":286},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:36.823 karate.env system property was: null \n"},{"result":{"nanos":27200,"millis":0.0272,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":51699,"millis":0.051699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":204099,"millis":0.204099,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37399,"millis":0.037399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373297,"millis":0.373297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":94599,"millis":0.094599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21200,"millis":0.0212,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847606957,"millis":847.606957,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":677795,"millis":0.677795,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f61eec5c-cb91-40b6-ad35-9bca967006cc'"}},{"result":{"nanos":479397,"millis":0.479397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":437496,"millis":0.437496,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":493397,"millis":0.493397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":984992,"millis":0.984992,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":624495,"millis":0.624495,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":89599,"millis":0.089599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":428697,"millis":0.428697,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":491896,"millis":0.491896,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":403097,"millis":0.403097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":159799,"millis":0.159799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":191998,"millis":0.191998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:37.678 [print] https:\/\/inspire.rivm.nl\/geoserver\/wms?request=GetCapabilities \n"},{"result":{"nanos":566796,"millis":0.566796,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":148399,"millis":0.148399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:37.678 [print] OGC:WMS \n"},{"result":{"nanos":449596,"millis":0.449596,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145899,"millis":0.145899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:37.679 [print] #notpresent \n"},{"result":{"nanos":118999,"millis":0.118999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":164799,"millis":0.164799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:37.679 [print] OGC:WMS \n"},{"result":{"nanos":674494,"millis":0.674494,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":165599,"millis":0.165599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:37.680 [print] Rijksinstituut voor Volksgezondheid en Milieu \n"},{"result":{"nanos":118999,"millis":0.118999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:37.680 [print] http:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=588a4cb1-b442-4ac1-87e4-40401e353166#MD_DataIdentification \n"},{"result":{"nanos":715394,"millis":0.715394,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":489896,"millis":0.489896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":319198,"millis":0.319198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f61eec5c-cb91-40b6-ad35-9bca967006cc\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.156176,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"f61eec5c-cb91-40b6-ad35-9bca967006cc","startTime":1632027576823,"refId":"[1.288:67]","endTime":1632027577682,"exampleData":{"datasetIdentifierCode":"f61eec5c-cb91-40b6-ad35-9bca967006cc"},"exampleIndex":287},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16700,"millis":0.0167,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:36.877 karate.env system property was: null \n"},{"result":{"nanos":28199,"millis":0.028199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":45100,"millis":0.0451,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":124399,"millis":0.124399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232998,"millis":0.232998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":418297,"millis":0.418297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28399,"millis":0.028399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67400,"millis":0.0674,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12999,"millis":0.012999,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42000,"millis":0.042,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873323661,"millis":873.323661,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":531796,"millis":0.531796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ad3f0c0-9e2c-4d44-a467-b57920aa512f'"}},{"result":{"nanos":365997,"millis":0.365997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":304798,"millis":0.304798,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":356397,"millis":0.356397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":560596,"millis":0.560596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":442296,"millis":0.442296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":84199,"millis":0.084199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356198,"millis":0.356198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350597,"millis":0.350597,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":737894,"millis":0.737894,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":722395,"millis":0.722395,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":571596,"millis":0.571596,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:37.758 [print] https:\/\/geodata.nationaalgeoregister.nl\/hwh\/eenheden\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":494996,"millis":0.494996,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":479497,"millis":0.479497,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:37.759 [print] INSPIRE Atom \n"},{"result":{"nanos":436997,"millis":0.436997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":434297,"millis":0.434297,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:37.760 [print] #notpresent \n"},{"result":{"nanos":117299,"millis":0.117299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":518396,"millis":0.518396,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:37.760 [print] INSPIRE Atom \n"},{"result":{"nanos":445496,"millis":0.445496,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":434897,"millis":0.434897,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:37.761 [print] Beheer PDOK \n"},{"result":{"nanos":696695,"millis":0.696695,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:37.762 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2d4ec7e6-50ae-4c71-bd20-5b9211e2135f#MD_DataIdentification \n"},{"result":{"nanos":393097,"millis":0.393097,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":452997,"millis":0.452997,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":345597,"millis":0.345597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9ad3f0c0-9e2c-4d44-a467-b57920aa512f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":885.046372,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f","startTime":1632027576877,"refId":"[1.289:67]","endTime":1632027577763,"exampleData":{"datasetIdentifierCode":"9ad3f0c0-9e2c-4d44-a467-b57920aa512f"},"exampleIndex":288},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15199,"millis":0.015199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:36.977 karate.env system property was: null \n"},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":53099,"millis":0.053099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":270798,"millis":0.270798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":59200,"millis":0.0592,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":688094,"millis":0.688094,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":74699,"millis":0.074699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":42399,"millis":0.042399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853133815,"millis":853.133815,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":625895,"millis":0.625895,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'f917ffa9-1531-48ea-867e-0d413d85b05a'"}},{"result":{"nanos":484997,"millis":0.484997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":410396,"millis":0.410396,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":356998,"millis":0.356998,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":483696,"millis":0.483696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":396497,"millis":0.396497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":70899,"millis":0.070899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":297698,"millis":0.297698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346397,"millis":0.346397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":447697,"millis":0.447697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":150398,"millis":0.150398,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":206399,"millis":0.206399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:37.836 [print] https:\/\/geodata.nationaalgeoregister.nl\/digitaaltopografischbestand\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":346597,"millis":0.346597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":234498,"millis":0.234498,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:37.837 [print] OGC:WMS \n"},{"result":{"nanos":492696,"millis":0.492696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":109900,"millis":0.1099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:37.837 [print] #notpresent \n"},{"result":{"nanos":109700,"millis":0.1097,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":100099,"millis":0.100099,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:37.838 [print] OGC:WMS \n"},{"result":{"nanos":403597,"millis":0.403597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":125599,"millis":0.125599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:37.838 [print] Beheer PDOK \n"},{"result":{"nanos":110699,"millis":0.110699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:37.838 [print] [\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4b137b8-2317-42c2-aced-204c4216d68d&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=c4bed072-0fda-47b8-96fa-457a938b88fc&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\",\"https:\\\/\\\/nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=3229e4d7-4bcd-4b94-819d-8e62de69ce2e&OUTPUTSCHEMA=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&ELEMENTSETNAME=full#MD_DataIdentification\"] \n"},{"result":{"nanos":357197,"millis":0.357197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":439197,"millis":0.439197,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":314498,"millis":0.314498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"f917ffa9-1531-48ea-867e-0d413d85b05a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.933547,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"f917ffa9-1531-48ea-867e-0d413d85b05a","startTime":1632027576977,"refId":"[1.290:67]","endTime":1632027577839,"exampleData":{"datasetIdentifierCode":"f917ffa9-1531-48ea-867e-0d413d85b05a"},"exampleIndex":289},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16199,"millis":0.016199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:37.093 karate.env system property was: null \n"},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":108799,"millis":0.108799,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":257099,"millis":0.257099,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54400,"millis":0.0544,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":392997,"millis":0.392997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":351597,"millis":0.351597,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4299,"millis":0.004299,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40000,"millis":0.04,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842521396,"millis":842.521396,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":19300,"millis":0.0193,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":947293,"millis":0.947293,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'a149d97f-0d55-462e-9956-5b47bea00a8d'"}},{"result":{"nanos":595095,"millis":0.595095,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":448697,"millis":0.448697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":434697,"millis":0.434697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":649196,"millis":0.649196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":534096,"millis":0.534096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":71500,"millis":0.0715,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":361097,"millis":0.361097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":365297,"millis":0.365297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":362097,"millis":0.362097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":130199,"millis":0.130199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":176999,"millis":0.176999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:37.942 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":378397,"millis":0.378397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":150799,"millis":0.150799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:37.943 [print] #notpresent \n"},{"result":{"nanos":450797,"millis":0.450797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108699,"millis":0.108699,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:37.943 [print] #notpresent \n"},{"result":{"nanos":74399,"millis":0.074399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":134399,"millis":0.134399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:37.944 [print] #notpresent \n"},{"result":{"nanos":397797,"millis":0.397797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":109899,"millis":0.109899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:37.944 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":113599,"millis":0.113599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:37.944 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.9934d92c-25d3-4fb8-9269-cf1ddbf9def0\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":374197,"millis":0.374197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":374498,"millis":0.374498,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":294098,"millis":0.294098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"a149d97f-0d55-462e-9956-5b47bea00a8d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":851.964327,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"a149d97f-0d55-462e-9956-5b47bea00a8d","startTime":1632027577091,"refId":"[1.291:67]","endTime":1632027577945,"exampleData":{"datasetIdentifierCode":"a149d97f-0d55-462e-9956-5b47bea00a8d"},"exampleIndex":290},{"sectionIndex":0,"stepResults":[{"result":{"nanos":84899,"millis":0.084899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:37.684 karate.env system property was: null \n"},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":300697,"millis":0.300697,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":223999,"millis":0.223999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":341497,"millis":0.341497,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":105899,"millis":0.105899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":519296,"millis":0.519296,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":100399,"millis":0.100399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":218398,"millis":0.218398,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":71200,"millis":0.0712,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":57299,"millis":0.057299,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21099,"millis":0.021099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":20300,"millis":0.0203,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845486273,"millis":845.486273,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":385297,"millis":0.385297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54122631-d343-40be-9c28-e44626b37a0e'"}},{"result":{"nanos":400397,"millis":0.400397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":445896,"millis":0.445896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":506196,"millis":0.506196,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":548896,"millis":0.548896,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":370697,"millis":0.370697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":255198,"millis":0.255198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":273898,"millis":0.273898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":249798,"millis":0.249798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":488996,"millis":0.488996,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":447896,"millis":0.447896,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:38.537 [print] https:\/\/service.pdok.nl\/cbs\/hh\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":390297,"millis":0.390297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":389597,"millis":0.389597,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:38.538 [print] INSPIRE Atom \n"},{"result":{"nanos":281898,"millis":0.281898,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":463296,"millis":0.463296,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:38.539 [print] #notpresent \n"},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":355497,"millis":0.355497,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:38.539 [print] INSPIRE Atom \n"},{"result":{"nanos":333398,"millis":0.333398,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":304597,"millis":0.304597,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:38.540 [print] Beheer PDOK \n"},{"result":{"nanos":684995,"millis":0.684995,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:38.540 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=12bb57cd-73e0-41ba-a1e9-6d986b9109d3#MD_DataIdentification \n"},{"result":{"nanos":512196,"millis":0.512196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":772794,"millis":0.772794,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":409497,"millis":0.409497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"54122631-d343-40be-9c28-e44626b37a0e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.005182,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"54122631-d343-40be-9c28-e44626b37a0e","startTime":1632027577684,"refId":"[1.292:67]","endTime":1632027578542,"exampleData":{"datasetIdentifierCode":"54122631-d343-40be-9c28-e44626b37a0e"},"exampleIndex":291},{"sectionIndex":0,"stepResults":[{"result":{"nanos":52199,"millis":0.052199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:37.766 karate.env system property was: null \n"},{"result":{"nanos":60000,"millis":0.06,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":201398,"millis":0.201398,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":174399,"millis":0.174399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":304297,"millis":0.304297,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":109999,"millis":0.109999,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":479497,"millis":0.479497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":79099,"millis":0.079099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":426097,"millis":0.426097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47099,"millis":0.047099,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21600,"millis":0.0216,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21799,"millis":0.021799,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e91719b1-a139-42cf-8a1a-db78cd7477f8'"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":38900,"millis":0.0389,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":860490459,"millis":860.490459,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":537096,"millis":0.537096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e91719b1-a139-42cf-8a1a-db78cd7477f8'"}},{"result":{"nanos":484897,"millis":0.484897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":466496,"millis":0.466496,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":495096,"millis":0.495096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":654395,"millis":0.654395,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":382597,"millis":0.382597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":31100,"millis":0.0311,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":273098,"millis":0.273098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":325197,"millis":0.325197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":340998,"millis":0.340998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":517096,"millis":0.517096,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":621895,"millis":0.621895,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:38.634 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwater2009\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":345197,"millis":0.345197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":127899,"millis":0.127899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:38.635 [print] #notpresent \n"},{"result":{"nanos":718594,"millis":0.718594,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:38.636 [print] INSPIRE Atom \n"},{"result":{"nanos":85899,"millis":0.085899,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":95600,"millis":0.0956,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:38.636 [print] #notpresent \n"},{"result":{"nanos":425297,"millis":0.425297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":62199,"millis":0.062199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:38.637 [print] Beheer PDOK \n"},{"result":{"nanos":1051692,"millis":1.051692,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:38.638 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw2006-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\"] \n"},{"result":{"nanos":419697,"millis":0.419697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":645295,"millis":0.645295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":342497,"millis":0.342497,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e91719b1-a139-42cf-8a1a-db78cd7477f8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":872.101569,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"e91719b1-a139-42cf-8a1a-db78cd7477f8","startTime":1632027577765,"refId":"[1.293:67]","endTime":1632027578639,"exampleData":{"datasetIdentifierCode":"e91719b1-a139-42cf-8a1a-db78cd7477f8"},"exampleIndex":292},{"sectionIndex":0,"stepResults":[{"result":{"nanos":51199,"millis":0.051199,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:37.848 karate.env system property was: null \n"},{"result":{"nanos":41200,"millis":0.0412,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":119699,"millis":0.119699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":112699,"millis":0.112699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":343697,"millis":0.343697,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":111499,"millis":0.111499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":450897,"millis":0.450897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":75399,"millis":0.075399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":2459581,"millis":2.459581,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":26699,"millis":0.026699,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21200,"millis":0.0212,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":38499,"millis":0.038499,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850984732,"millis":850.984732,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":793194,"millis":0.793194,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '9ff1a13c-d1e0-4150-8523-91cb489ae1a4'"}},{"result":{"nanos":601096,"millis":0.601096,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":854793,"millis":0.854793,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":845494,"millis":0.845494,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":908093,"millis":0.908093,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":725294,"millis":0.725294,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":51400,"millis":0.0514,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":385997,"millis":0.385997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":394397,"millis":0.394397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":371297,"millis":0.371297,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":133199,"millis":0.133199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":456296,"millis":0.456296,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:38.710 [print] https:\/\/geodata.nationaalgeoregister.nl\/atom\/index.xml \n"},{"result":{"nanos":418297,"millis":0.418297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87899,"millis":0.087899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:38.711 [print] #notpresent \n"},{"result":{"nanos":496996,"millis":0.496996,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85299,"millis":0.085299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:38.711 [print] INSPIRE Atom \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:38.711 [print] #notpresent \n"},{"result":{"nanos":671795,"millis":0.671795,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94699,"millis":0.094699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:38.712 [print] Beheer PDOK \n"},{"result":{"nanos":138799,"millis":0.138799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:38.712 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=5a1adb58-0bbe-425d-b0fe-577a6c0a4228#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=76091be7-358a-4a44-8182-b4139c96c6a4#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8829e5dd-c861-4639-a6c8-fdbb6e3440d2#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=710c381c-ab2d-45d5-a45d-af2eba811e5f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a9b7026e-0a81-4813-93bd-ba49e6f28502#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=00d8c7c8-98ff-4b06-8f53-b44216e6e75c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=701d4eb8-8aae-4708-bba5-3edf6987676d#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=17716ed7-ce0d-4bfd-8868-a398e5578a36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=29d5310f-dd0d-45ba-abad-b4ffc6b8785f#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=831f7bd7-c2ae-4336-bd2f-47ab20d7cdb7#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=abaf1e22-55aa-4a11-a855-7ac963e4a82b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=07d73b60-dfd6-4c54-9c82-9fac70c6c48e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=d25fe199-2430-48fd-ad57-5b5f79f73cdf#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=e536d943-ecff-4d7a-9500-cc31a263a6af#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bbece924-9aab-4e00-8392-bce36b8f494e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=c935f2ab-9b65-4dc4-94a0-73aeb840a941#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=81ff84ec-42a4-4481-840b-12713bbb5d38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=af0c582f-9e6b-46e6-865a-fc3a2d5289b9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3eebf700-5abf-42e4-826c-03cfb497e366#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9d9f1738-aced-47c9-aaa0-c62474a2dcfb#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8eee71f9-9365-490d-9484-00263c6fa35c#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=4961d305-fbb5-426a-9ba3-53e1ca5f3b18#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2af8df10-81ba-434a-8125-34fe8f127cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=6cde2ce7-3ecd-4785-b7b8-d62c3381efe9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=3229e4d7-4bcd-4b94-819d-8e62de69ce2e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=bffcd5d9-02b4-4e7d-991f-a386611cad84#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2d3dd6d2-2d2b-4b5f-9e30-86e19ed77a56#MD_DataIdentification\"] \n"},{"result":{"nanos":8392836,"millis":8.392836,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":998392,"millis":0.998392,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":562496,"millis":0.562496,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"9ff1a13c-d1e0-4150-8523-91cb489ae1a4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":873.516458,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4","startTime":1632027577846,"refId":"[1.294:67]","endTime":1632027578722,"exampleData":{"datasetIdentifierCode":"9ff1a13c-d1e0-4150-8523-91cb489ae1a4"},"exampleIndex":293},{"sectionIndex":0,"stepResults":[{"result":{"nanos":67100,"millis":0.0671,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:37.947 karate.env system property was: null \n"},{"result":{"nanos":56399,"millis":0.056399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":195899,"millis":0.195899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":120099,"millis":0.120099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":333397,"millis":0.333397,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":101799,"millis":0.101799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":395697,"millis":0.395697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69800,"millis":0.0698,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":114799,"millis":0.114799,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36499,"millis":0.036499,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33300,"millis":0.0333,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20400,"millis":0.0204,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20599,"millis":0.020599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":20700,"millis":0.0207,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852065023,"millis":852.065023,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":499296,"millis":0.499296,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e222648d-d19e-4a99-a67d-2af1c9aabd75'"}},{"result":{"nanos":496396,"millis":0.496396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":352798,"millis":0.352798,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":406497,"millis":0.406497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":466397,"millis":0.466397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":354997,"millis":0.354997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":30200,"millis":0.0302,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":325397,"millis":0.325397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":376797,"millis":0.376797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":335798,"millis":0.335798,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":259898,"millis":0.259898,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":150199,"millis":0.150199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:38.806 [print] https:\/\/service.pdok.nl\/kadaster\/cp\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":383397,"millis":0.383397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":1272290,"millis":1.27229,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:38.807 [print] INSPIRE Atom \n"},{"result":{"nanos":339898,"millis":0.339898,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":404897,"millis":0.404897,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:38.808 [print] #notpresent \n"},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:38.808 [print] INSPIRE Atom \n"},{"result":{"nanos":600795,"millis":0.600795,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":59000,"millis":0.059,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:38.809 [print] Beheer PDOK \n"},{"result":{"nanos":30399,"millis":0.030399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:38.809 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=e80ad426-1392-4349-9f80-14dae5f1bf57#MD_DataIdentification \n"},{"result":{"nanos":560796,"millis":0.560796,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":516196,"millis":0.516196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":363397,"millis":0.363397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e222648d-d19e-4a99-a67d-2af1c9aabd75\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.363045,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e222648d-d19e-4a99-a67d-2af1c9aabd75","startTime":1632027577947,"refId":"[1.295:67]","endTime":1632027578810,"exampleData":{"datasetIdentifierCode":"e222648d-d19e-4a99-a67d-2af1c9aabd75"},"exampleIndex":294},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:38.544 karate.env system property was: null \n"},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":56499,"millis":0.056499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":220698,"millis":0.220698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":58499,"millis":0.058499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":452897,"millis":0.452897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30300,"millis":0.0303,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":65900,"millis":0.0659,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":6100,"millis":0.0061,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855190800,"millis":855.1908,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":573596,"millis":0.573596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '4b6752ae-65d6-44b5-98ef-1fc30f4fd92d'"}},{"result":{"nanos":641096,"millis":0.641096,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":827594,"millis":0.827594,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":775394,"millis":0.775394,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":490996,"millis":0.490996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":572296,"millis":0.572296,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32700,"millis":0.0327,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":2785978,"millis":2.785978,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":423597,"millis":0.423597,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":363497,"millis":0.363497,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64400,"millis":0.0644,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":191698,"millis":0.191698,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:39.409 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rwsgeluidskaarten\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":580496,"millis":0.580496,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":73499,"millis":0.073499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:39.410 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":717894,"millis":0.717894,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":129099,"millis":0.129099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:39.411 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":132399,"millis":0.132399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:39.411 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":735794,"millis":0.735794,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":120499,"millis":0.120499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:39.412 [print] Beheer PDOK \n"},{"result":{"nanos":143799,"millis":0.143799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:39.412 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf36#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=9b583730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=a57cb859-c4fe-444c-adc6-be14cb2bbf38#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=50eef6be-619d-4e16-9b92-48971109b636#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8de2f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification\"] \n"},{"result":{"nanos":632395,"millis":0.632395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":918893,"millis":0.918893,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":954893,"millis":0.954893,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.179995,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d","startTime":1632027578544,"refId":"[1.296:67]","endTime":1632027579415,"exampleData":{"datasetIdentifierCode":"4b6752ae-65d6-44b5-98ef-1fc30f4fd92d"},"exampleIndex":295},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17200,"millis":0.0172,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:38.642 karate.env system property was: null \n"},{"result":{"nanos":29499,"millis":0.029499,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":47699,"millis":0.047699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":216699,"millis":0.216699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38299,"millis":0.038299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":411797,"millis":0.411797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45200,"millis":0.0452,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":450496,"millis":0.450496,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":17800,"millis":0.0178,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16200,"millis":0.0162,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43899,"millis":0.043899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847672657,"millis":847.672657,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":361897,"millis":0.361897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '0080a9ce-b836-45bc-8fdf-07dcbe97101d'"}},{"result":{"nanos":433896,"millis":0.433896,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":337498,"millis":0.337498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":579295,"millis":0.579295,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":492196,"millis":0.492196,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":330498,"millis":0.330498,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":180698,"millis":0.180698,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":457597,"millis":0.457597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":378298,"millis":0.378298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":295898,"millis":0.295898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":70800,"millis":0.0708,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":150998,"millis":0.150998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:39.496 [print] https:\/\/service.pdok.nl\/rce\/ps-ch\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":386197,"millis":0.386197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":129799,"millis":0.129799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:39.497 [print] INSPIRE Atom \n"},{"result":{"nanos":813494,"millis":0.813494,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86499,"millis":0.086499,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:39.498 [print] #notpresent \n"},{"result":{"nanos":146899,"millis":0.146899,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":165999,"millis":0.165999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:39.498 [print] INSPIRE Atom \n"},{"result":{"nanos":589395,"millis":0.589395,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":131899,"millis":0.131899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:39.499 [print] Beheer PDOK \n"},{"result":{"nanos":171899,"millis":0.171899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:39.499 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=493ab81b-75f8-4205-b030-6b2fd9eb4295#MD_DataIdentification \n"},{"result":{"nanos":386797,"millis":0.386797,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":520396,"millis":0.520396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":273697,"millis":0.273697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"0080a9ce-b836-45bc-8fdf-07dcbe97101d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.948684,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"0080a9ce-b836-45bc-8fdf-07dcbe97101d","startTime":1632027578641,"refId":"[1.297:67]","endTime":1632027579500,"exampleData":{"datasetIdentifierCode":"0080a9ce-b836-45bc-8fdf-07dcbe97101d"},"exampleIndex":296},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:38.724 karate.env system property was: null \n"},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62599,"millis":0.062599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62400,"millis":0.0624,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":192498,"millis":0.192498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":311097,"millis":0.311097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42900,"millis":0.0429,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11199,"millis":0.011199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":839372219,"millis":839.372219,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":548896,"millis":0.548896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '037e55bd-a1dc-4fde-adfe-4610d3a3d5cb'"}},{"result":{"nanos":357997,"millis":0.357997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":312398,"millis":0.312398,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":299397,"millis":0.299397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":402297,"millis":0.402297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":442397,"millis":0.442397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22200,"millis":0.0222,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":282298,"millis":0.282298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":270498,"millis":0.270498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":250098,"millis":0.250098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":93199,"millis":0.093199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":539696,"millis":0.539696,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:39.569 [print] https:\/\/service.pdok.nl\/cbs\/pd\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":362997,"millis":0.362997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":98500,"millis":0.0985,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:39.569 [print] INSPIRE Atom \n"},{"result":{"nanos":6500450,"millis":6.50045,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":182899,"millis":0.182899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:39.576 [print] #notpresent \n"},{"result":{"nanos":52099,"millis":0.052099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":722594,"millis":0.722594,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:39.577 [print] INSPIRE Atom \n"},{"result":{"nanos":416497,"millis":0.416497,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68300,"millis":0.0683,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:39.577 [print] Beheer PDOK \n"},{"result":{"nanos":36799,"millis":0.036799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:39.577 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=76541ebb-a554-4540-a017-399d4bb4a860#MD_DataIdentification \n"},{"result":{"nanos":369597,"millis":0.369597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":488897,"millis":0.488897,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":299597,"millis":0.299597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":853.659109,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb","startTime":1632027578724,"refId":"[1.298:67]","endTime":1632027579578,"exampleData":{"datasetIdentifierCode":"037e55bd-a1dc-4fde-adfe-4610d3a3d5cb"},"exampleIndex":297},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:38.812 karate.env system property was: null \n"},{"result":{"nanos":25900,"millis":0.0259,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42299,"millis":0.042299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43300,"millis":0.0433,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":197898,"millis":0.197898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":348797,"millis":0.348797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60399,"millis":0.060399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14900,"millis":0.0149,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":125999,"millis":0.125999,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":10300,"millis":0.0103,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":5499,"millis":0.005499,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859136970,"millis":859.13697,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":538096,"millis":0.538096,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '15c3c30f-0db2-4b3b-80f6-b990c8fc8225'"}},{"result":{"nanos":401397,"millis":0.401397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":370398,"millis":0.370398,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":341797,"millis":0.341797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":419097,"millis":0.419097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":352297,"millis":0.352297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":457296,"millis":0.457296,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":306898,"millis":0.306898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":281997,"millis":0.281997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":64500,"millis":0.0645,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":235298,"millis":0.235298,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:39.677 [print] https:\/\/service.pdok.nl\/hwh\/hydrografie\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":382897,"millis":0.382897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":53699,"millis":0.053699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:39.677 [print] INSPIRE Atom \n"},{"result":{"nanos":373597,"millis":0.373597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":57400,"millis":0.0574,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:39.678 [print] #notpresent \n"},{"result":{"nanos":33200,"millis":0.0332,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":45500,"millis":0.0455,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:39.678 [print] INSPIRE Atom \n"},{"result":{"nanos":376597,"millis":0.376597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":97800,"millis":0.0978,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:39.678 [print] Beheer PDOK \n"},{"result":{"nanos":72999,"millis":0.072999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:39.678 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=07575774-57a1-4419-bab4-6c88fdeb02b2#MD_DataIdentification \n"},{"result":{"nanos":565596,"millis":0.565596,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":548595,"millis":0.548595,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":295998,"millis":0.295998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"15c3c30f-0db2-4b3b-80f6-b990c8fc8225\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":866.86111,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225","startTime":1632027578812,"refId":"[1.299:67]","endTime":1632027579680,"exampleData":{"datasetIdentifierCode":"15c3c30f-0db2-4b3b-80f6-b990c8fc8225"},"exampleIndex":298},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18400,"millis":0.0184,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:39.417 karate.env system property was: null \n"},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":78399,"millis":0.078399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":70999,"millis":0.070999,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208299,"millis":0.208299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40399,"millis":0.040399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336398,"millis":0.336398,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30400,"millis":0.0304,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":73300,"millis":0.0733,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14600,"millis":0.0146,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":60099,"millis":0.060099,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9900,"millis":0.0099,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40800,"millis":0.0408,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":8100,"millis":0.0081,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854988001,"millis":854.988001,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1800,"millis":0.0018,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":414297,"millis":0.414297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7a748a59-36f4-475b-9647-402b5ce89a1c'"}},{"result":{"nanos":339297,"millis":0.339297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":293698,"millis":0.293698,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":265298,"millis":0.265298,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":339397,"millis":0.339397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":296998,"millis":0.296998,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23900,"millis":0.0239,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":234798,"millis":0.234798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":364797,"millis":0.364797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":235998,"millis":0.235998,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":78200,"millis":0.0782,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":84799,"millis":0.084799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:40.277 [print] https:\/\/service.pdok.nl\/kadaster\/lc\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":468896,"millis":0.468896,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79500,"millis":0.0795,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:40.277 [print] INSPIRE Atom \n"},{"result":{"nanos":431596,"millis":0.431596,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58600,"millis":0.0586,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:40.278 [print] #notpresent \n"},{"result":{"nanos":43299,"millis":0.043299,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":190699,"millis":0.190699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:40.278 [print] INSPIRE Atom \n"},{"result":{"nanos":513696,"millis":0.513696,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":56099,"millis":0.056099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:40.278 [print] Beheer PDOK \n"},{"result":{"nanos":176299,"millis":0.176299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:40.279 [print] https:\/\/ngr.acceptatie.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=1689d1b7-ef22-417a-becd-d8d9a8a90a10#MD_DataIdentification \n"},{"result":{"nanos":425697,"millis":0.425697,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":625995,"millis":0.625995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":347897,"millis":0.347897,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7a748a59-36f4-475b-9647-402b5ce89a1c\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.424044,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7a748a59-36f4-475b-9647-402b5ce89a1c","startTime":1632027579417,"refId":"[1.300:67]","endTime":1632027580280,"exampleData":{"datasetIdentifierCode":"7a748a59-36f4-475b-9647-402b5ce89a1c"},"exampleIndex":299},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:39.502 karate.env system property was: null \n"},{"result":{"nanos":45299,"millis":0.045299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40600,"millis":0.0406,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":177998,"millis":0.177998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37200,"millis":0.0372,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":310897,"millis":0.310897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":30100,"millis":0.0301,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13899,"millis":0.013899,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":96900,"millis":0.0969,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":849661742,"millis":849.661742,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":323097,"millis":0.323097,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2931d583-9633-49d3-ad38-aabea82f6751'"}},{"result":{"nanos":324298,"millis":0.324298,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":308697,"millis":0.308697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":332398,"millis":0.332398,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":427496,"millis":0.427496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":363397,"millis":0.363397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24300,"millis":0.0243,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":353297,"millis":0.353297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":267298,"millis":0.267298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":257198,"millis":0.257198,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":54300,"millis":0.0543,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":780594,"millis":0.780594,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:40.357 [print] https:\/\/service.pdok.nl\/bzk\/bro-hydrogeology\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":421496,"millis":0.421496,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":58300,"millis":0.0583,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:40.358 [print] INSPIRE Atom \n"},{"result":{"nanos":1005092,"millis":1.005092,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97599,"millis":0.097599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:40.359 [print] #notpresent \n"},{"result":{"nanos":302698,"millis":0.302698,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":54800,"millis":0.0548,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:40.359 [print] INSPIRE Atom \n"},{"result":{"nanos":337797,"millis":0.337797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":99699,"millis":0.099699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:40.360 [print] Beheer PDOK \n"},{"result":{"nanos":757094,"millis":0.757094,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:40.361 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":324298,"millis":0.324298,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":417597,"millis":0.417597,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":263898,"millis":0.263898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2931d583-9633-49d3-ad38-aabea82f6751\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":858.511673,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"2931d583-9633-49d3-ad38-aabea82f6751","startTime":1632027579502,"refId":"[1.301:67]","endTime":1632027580362,"exampleData":{"datasetIdentifierCode":"2931d583-9633-49d3-ad38-aabea82f6751"},"exampleIndex":300},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14800,"millis":0.0148,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:39.580 karate.env system property was: null \n"},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":174399,"millis":0.174399,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37499,"millis":0.037499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":369998,"millis":0.369998,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29100,"millis":0.0291,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":46400,"millis":0.0464,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12600,"millis":0.0126,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57499,"millis":0.057499,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":6800,"millis":0.0068,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":863501637,"millis":863.501637,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":419797,"millis":0.419797,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '609d0c9e-173f-4f90-b020-c91ab3a0b6ef'"}},{"result":{"nanos":369997,"millis":0.369997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":353697,"millis":0.353697,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":346198,"millis":0.346198,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":388397,"millis":0.388397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":370797,"millis":0.370797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":462196,"millis":0.462196,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":437797,"millis":0.437797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":336197,"millis":0.336197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":51700,"millis":0.0517,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":116200,"millis":0.1162,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:40.449 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/rdinfo\\\/wms?service=WMS&request=GetCapabilities \n"},{"result":{"nanos":550595,"millis":0.550595,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":63800,"millis":0.0638,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:40.450 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":374797,"millis":0.374797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":50399,"millis":0.050399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:40.450 [print] #notpresent \n"},{"result":{"nanos":82400,"millis":0.0824,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":69599,"millis":0.069599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:40.450 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":374097,"millis":0.374097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:40.451 [print] Beheer PDOK \n"},{"result":{"nanos":60499,"millis":0.060499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:40.451 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=29c17585-e702-463f-a5dc-99d34b17d333#MD_DataIdentification \n"},{"result":{"nanos":366897,"millis":0.366897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":394697,"millis":0.394697,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":293498,"millis":0.293498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"609d0c9e-173f-4f90-b020-c91ab3a0b6ef\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":870.821583,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef","startTime":1632027579580,"refId":"[1.302:67]","endTime":1632027580452,"exampleData":{"datasetIdentifierCode":"609d0c9e-173f-4f90-b020-c91ab3a0b6ef"},"exampleIndex":301},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17400,"millis":0.0174,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:39.682 karate.env system property was: null \n"},{"result":{"nanos":71599,"millis":0.071599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48200,"millis":0.0482,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49799,"millis":0.049799,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":208499,"millis":0.208499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":88300,"millis":0.0883,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":354097,"millis":0.354097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47499,"millis":0.047499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16300,"millis":0.0163,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5399,"millis":0.005399,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '49a53bc1-dd76-417f-b9af-066901ddfec0'"}},{"result":{"nanos":5900,"millis":0.0059,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":842667995,"millis":842.667995,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":362398,"millis":0.362398,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '49a53bc1-dd76-417f-b9af-066901ddfec0'"}},{"result":{"nanos":332897,"millis":0.332897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":296298,"millis":0.296298,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":340897,"millis":0.340897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":413197,"millis":0.413197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":364597,"millis":0.364597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23800,"millis":0.0238,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":250398,"millis":0.250398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":287097,"millis":0.287097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":314898,"millis":0.314898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":211298,"millis":0.211298,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113899,"millis":0.113899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:40.529 [print] https:\/\/inspire.caris.nl\/server\/services\/ows\/download\/feature\/amplitude-getij_IDS?request=GetCapabilities&service=WFS&version=2.0.0 \n"},{"result":{"nanos":398597,"millis":0.398597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":102599,"millis":0.102599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:40.530 [print] OGC:WCS \n"},{"result":{"nanos":391197,"millis":0.391197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":85899,"millis":0.085899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:40.530 [print] #notpresent \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":76199,"millis":0.076199,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:40.531 [print] OGC:WCS \n"},{"result":{"nanos":473697,"millis":0.473697,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":100500,"millis":0.1005,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:40.531 [print] Ministerie van Defensie, Koninklijke Marine, Dienst der Hydrografie \n"},{"result":{"nanos":86199,"millis":0.086199,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:40.531 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=be6551de-a709-4c6d-a5e2-f63f0cf038ba&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full#MD_DataIdentification \n"},{"result":{"nanos":463996,"millis":0.463996,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":637195,"millis":0.637195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":270898,"millis":0.270898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"49a53bc1-dd76-417f-b9af-066901ddfec0\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":850.150937,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"49a53bc1-dd76-417f-b9af-066901ddfec0","startTime":1632027579682,"refId":"[1.303:67]","endTime":1632027580533,"exampleData":{"datasetIdentifierCode":"49a53bc1-dd76-417f-b9af-066901ddfec0"},"exampleIndex":302},{"sectionIndex":0,"stepResults":[{"result":{"nanos":18300,"millis":0.0183,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:40.284 karate.env system property was: null \n"},{"result":{"nanos":29899,"millis":0.029899,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":46800,"millis":0.0468,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":254298,"millis":0.254298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40199,"millis":0.040199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330598,"millis":0.330598,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28099,"millis":0.028099,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":47600,"millis":0.0476,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4299,"millis":0.004299,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847018462,"millis":847.018462,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":400597,"millis":0.400597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9'"}},{"result":{"nanos":329998,"millis":0.329998,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":394197,"millis":0.394197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":380497,"millis":0.380497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":377297,"millis":0.377297,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":332797,"millis":0.332797,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":68500,"millis":0.0685,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":257099,"millis":0.257099,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":270698,"millis":0.270698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":490897,"millis":0.490897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":129299,"millis":0.129299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":109899,"millis":0.109899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:41.136 [print] https:\/\/service.pdok.nl\/bzk\/bro-geomorfologischekaart\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":406997,"millis":0.406997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":189099,"millis":0.189099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:41.136 [print] INSPIRE Atom \n"},{"result":{"nanos":451896,"millis":0.451896,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":78800,"millis":0.0788,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:41.137 [print] #notpresent \n"},{"result":{"nanos":46499,"millis":0.046499,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":190699,"millis":0.190699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:41.137 [print] INSPIRE Atom \n"},{"result":{"nanos":473396,"millis":0.473396,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":94799,"millis":0.094799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:41.138 [print] Beheer PDOK \n"},{"result":{"nanos":72000,"millis":0.072,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:41.138 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=8f52e76f-c96d-4df3-a778-279c2164372b#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=459231d0-7379-4f26-a444-7616e1d888f0#MD_DataIdentification\"] \n"},{"result":{"nanos":507796,"millis":0.507796,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":573995,"millis":0.573995,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":281698,"millis":0.281698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":854.868303,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9","startTime":1632027580282,"refId":"[1.304:67]","endTime":1632027581139,"exampleData":{"datasetIdentifierCode":"56e8ce20-0e6f-4ef2-8c09-6e30bc3680b9"},"exampleIndex":303},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:40.364 karate.env system property was: null \n"},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42499,"millis":0.042499,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":186998,"millis":0.186998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37700,"millis":0.0377,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":310898,"millis":0.310898,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29299,"millis":0.029299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4100,"millis":0.0041,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":48699,"millis":0.048699,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":6600,"millis":0.0066,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":912360365,"millis":912.360365,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":375597,"millis":0.375597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b'"}},{"result":{"nanos":356497,"millis":0.356497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":369097,"millis":0.369097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":376297,"millis":0.376297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":471797,"millis":0.471797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":408497,"millis":0.408497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":55500,"millis":0.0555,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":307698,"millis":0.307698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":283698,"millis":0.283698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":275398,"millis":0.275398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73999,"millis":0.073999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":195799,"millis":0.195799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:41.282 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":422697,"millis":0.422697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":87399,"millis":0.087399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:41.282 [print] #notpresent \n"},{"result":{"nanos":396597,"millis":0.396597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":81799,"millis":0.081799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:41.283 [print] #notpresent \n"},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":72999,"millis":0.072999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:41.283 [print] #notpresent \n"},{"result":{"nanos":413997,"millis":0.413997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":80699,"millis":0.080699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:41.283 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":90400,"millis":0.0904,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:41.283 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.bbb462ca-d8a0-4582-a9f6-9707e3e953a3\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":492096,"millis":0.492096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":580195,"millis":0.580195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":355697,"millis":0.355697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":919.850307,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b","startTime":1632027580364,"refId":"[1.305:67]","endTime":1632027581285,"exampleData":{"datasetIdentifierCode":"742cb4fc-62cb-4db1-86ce-9f0fd9e1a65b"},"exampleIndex":304},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:40.453 karate.env system property was: null \n"},{"result":{"nanos":26500,"millis":0.0265,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41199,"millis":0.041199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":286698,"millis":0.286698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":56899,"millis":0.056899,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":395397,"millis":0.395397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60499,"millis":0.060499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12900,"millis":0.0129,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":57299,"millis":0.057299,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":907627601,"millis":907.627601,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":377897,"millis":0.377897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '52d0313e-0d2b-44b4-b51e-d9e504307f70'"}},{"result":{"nanos":534996,"millis":0.534996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":353197,"millis":0.353197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":361497,"millis":0.361497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":353998,"millis":0.353998,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":310097,"millis":0.310097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":239398,"millis":0.239398,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":247198,"millis":0.247198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":245398,"millis":0.245398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":82599,"millis":0.082599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:41.366 [print] https:\/\/service.pdok.nl\/bzk\/bro-environmental-monitoring-facilities\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":536096,"millis":0.536096,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":228198,"millis":0.228198,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:41.366 [print] INSPIRE Atom \n"},{"result":{"nanos":274198,"millis":0.274198,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":52999,"millis":0.052999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:41.367 [print] #notpresent \n"},{"result":{"nanos":78900,"millis":0.0789,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":115400,"millis":0.1154,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:41.367 [print] INSPIRE Atom \n"},{"result":{"nanos":444596,"millis":0.444596,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":68800,"millis":0.0688,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:41.368 [print] Beheer PDOK \n"},{"result":{"nanos":79600,"millis":0.0796,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:41.368 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=dff9c760-1380-11eb-adc1-0242ac120002#MD_DataIdentification \n"},{"result":{"nanos":460496,"millis":0.460496,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":591396,"millis":0.591396,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":332697,"millis":0.332697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"52d0313e-0d2b-44b4-b51e-d9e504307f70\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":915.143343,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"52d0313e-0d2b-44b4-b51e-d9e504307f70","startTime":1632027580453,"refId":"[1.306:67]","endTime":1632027581369,"exampleData":{"datasetIdentifierCode":"52d0313e-0d2b-44b4-b51e-d9e504307f70"},"exampleIndex":305},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:40.534 karate.env system property was: null \n"},{"result":{"nanos":25700,"millis":0.0257,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":40300,"millis":0.0403,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":177298,"millis":0.177298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36200,"millis":0.0362,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":290698,"millis":0.290698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":25899,"millis":0.025899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10900,"millis":0.0109,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":55399,"millis":0.055399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":869297992,"millis":869.297992,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":366197,"millis":0.366197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'e27e61d8-25b1-45ee-a2df-071312ba8a69'"}},{"result":{"nanos":406997,"millis":0.406997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":417497,"millis":0.417497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":346897,"millis":0.346897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":405397,"millis":0.405397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":415897,"millis":0.415897,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":305198,"millis":0.305198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":492896,"millis":0.492896,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":362697,"millis":0.362697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":73800,"millis":0.0738,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":104499,"millis":0.104499,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:41.409 [print] https:\/\/geodata.nationaalgeoregister.nl\/rws\/kaderrichtlijnwateractueel\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":332797,"millis":0.332797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":188999,"millis":0.188999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:41.409 [print] #notpresent \n"},{"result":{"nanos":328197,"millis":0.328197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":70599,"millis":0.070599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:41.410 [print] INSPIRE Atom \n"},{"result":{"nanos":70900,"millis":0.0709,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":217198,"millis":0.217198,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:41.410 [print] #notpresent \n"},{"result":{"nanos":440197,"millis":0.440197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":83299,"millis":0.083299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:41.410 [print] Beheer PDOK \n"},{"result":{"nanos":218098,"millis":0.218098,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:41.411 [print] [\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=622a632a-c57b-44a2-83a4-e51223d5f15g#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=2e31680f-68b5-4ff3-94a4-9c24109ffd5e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-f7bb2351-9788-42ea-a58b-a5ee1842304e#MD_DataIdentification\",\"https:\\\/\\\/www.nationaalgeoregister.nl:443\\\/geonetwork\\\/srv\\\/dut\\\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full&id=krw-782cab20-8328-45f1-a9b2-c27d07c14066#MD_DataIdentification\"] \n"},{"result":{"nanos":408197,"millis":0.408197,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":513996,"millis":0.513996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":400097,"millis":0.400097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"e27e61d8-25b1-45ee-a2df-071312ba8a69\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":877.091432,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"e27e61d8-25b1-45ee-a2df-071312ba8a69","startTime":1632027580534,"refId":"[1.307:67]","endTime":1632027581412,"exampleData":{"datasetIdentifierCode":"e27e61d8-25b1-45ee-a2df-071312ba8a69"},"exampleIndex":306},{"sectionIndex":0,"stepResults":[{"result":{"nanos":34000,"millis":0.034,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:41.141 karate.env system property was: null \n"},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":53899,"millis":0.053899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":67500,"millis":0.0675,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":276098,"millis":0.276098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37500,"millis":0.0375,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":325797,"millis":0.325797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":47900,"millis":0.0479,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":140199,"millis":0.140199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845883570,"millis":845.88357,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":372997,"millis":0.372997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '1d3c777a-3527-4aa1-8573-d6aeeff115e5'"}},{"result":{"nanos":1481489,"millis":1.481489,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":563296,"millis":0.563296,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":370097,"millis":0.370097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":407097,"millis":0.407097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":354197,"millis":0.354197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":263898,"millis":0.263898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":317097,"millis":0.317097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":281698,"millis":0.281698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62299,"millis":0.062299,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":932393,"millis":0.932393,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:41.994 [print] https:\/\/www.broinspireservices.nl\/atom\/services.atom \n"},{"result":{"nanos":390897,"millis":0.390897,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":398697,"millis":0.398697,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:41.994 [print] #notpresent \n"},{"result":{"nanos":366997,"millis":0.366997,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":368297,"millis":0.368297,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:41.995 [print] INSPIRE Atom \n"},{"result":{"nanos":63900,"millis":0.0639,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":314797,"millis":0.314797,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:41.996 [print] #notpresent \n"},{"result":{"nanos":377297,"millis":0.377297,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":340898,"millis":0.340898,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:41.996 [print] TNO Geologische Dienst Nederland \n"},{"result":{"nanos":504996,"millis":0.504996,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:41.997 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&REQUEST=GetRecordById&ID=E7D9F0D6-2B8D-6699-F26E-4A781228F2DD&OUTPUTSCHEMA=http:\/\/www.isotc211.org\/2005\/gmd&ELEMENTSETNAME=full#MD_DataIdentification \n"},{"result":{"nanos":411397,"millis":0.411397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":639195,"millis":0.639195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":270598,"millis":0.270598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"1d3c777a-3527-4aa1-8573-d6aeeff115e5\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.936887,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"1d3c777a-3527-4aa1-8573-d6aeeff115e5","startTime":1632027581141,"refId":"[1.308:67]","endTime":1632027581998,"exampleData":{"datasetIdentifierCode":"1d3c777a-3527-4aa1-8573-d6aeeff115e5"},"exampleIndex":307},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:41.287 karate.env system property was: null \n"},{"result":{"nanos":29099,"millis":0.029099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48800,"millis":0.0488,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":238098,"millis":0.238098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37499,"millis":0.037499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":2773079,"millis":2.773079,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45900,"millis":0.0459,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":410897,"millis":0.410897,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18899,"millis":0.018899,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":72899,"millis":0.072899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864755427,"millis":864.755427,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":470896,"millis":0.470896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b85d4a0a-c0f7-42f4-9316-b214d205ca38'"}},{"result":{"nanos":384197,"millis":0.384197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":409397,"millis":0.409397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":370997,"millis":0.370997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":531596,"millis":0.531596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":340997,"millis":0.340997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":280098,"millis":0.280098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":284798,"millis":0.284798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":265398,"millis":0.265398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59799,"millis":0.059799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":580496,"millis":0.580496,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:42.160 [print] http:\/\/inspire.rdw.nl\/www\/download\/rdw-inspire.xml \n"},{"result":{"nanos":308997,"millis":0.308997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":326598,"millis":0.326598,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:42.161 [print] #notpresent \n"},{"result":{"nanos":310898,"millis":0.310898,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":317998,"millis":0.317998,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:42.161 [print] INSPIRE Atom \n"},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":88200,"millis":0.0882,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:42.161 [print] #notpresent \n"},{"result":{"nanos":656795,"millis":0.656795,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96600,"millis":0.0966,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:42.162 [print] RDW \n"},{"result":{"nanos":77599,"millis":0.077599,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:42.162 [print] https:\/\/www.nationaalgeoregister.nl:443\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=fe2f9091-1962-4073-9e3b-3e4aeed488a5#MD_DataIdentification \n"},{"result":{"nanos":348897,"millis":0.348897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":514096,"millis":0.514096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":291698,"millis":0.291698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b85d4a0a-c0f7-42f4-9316-b214d205ca38\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.903942,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"b85d4a0a-c0f7-42f4-9316-b214d205ca38","startTime":1632027581287,"refId":"[1.309:67]","endTime":1632027582163,"exampleData":{"datasetIdentifierCode":"b85d4a0a-c0f7-42f4-9316-b214d205ca38"},"exampleIndex":308},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:41.371 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":62500,"millis":0.0625,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":188799,"millis":0.188799,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":54900,"millis":0.0549,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373197,"millis":0.373197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45299,"millis":0.045299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":850789734,"millis":850.789734,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":377298,"millis":0.377298,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'deb81ebe-c7a7-42ba-bc21-f07cd348c3e8'"}},{"result":{"nanos":543996,"millis":0.543996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":437797,"millis":0.437797,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":349597,"millis":0.349597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":381097,"millis":0.381097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1182891,"millis":1.182891,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":33700,"millis":0.0337,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":453496,"millis":0.453496,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":401097,"millis":0.401097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":342197,"millis":0.342197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72800,"millis":0.0728,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":113399,"millis":0.113399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:42.228 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw-inspire?request=GetCapabilities&Service=CSW&Version=2.0.1 \n"},{"result":{"nanos":428997,"millis":0.428997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89699,"millis":0.089699,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:42.228 [print] OGC:CSW \n"},{"result":{"nanos":519196,"millis":0.519196,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":105799,"millis":0.105799,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:42.229 [print] #notpresent \n"},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":231498,"millis":0.231498,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:42.229 [print] OGC:CSW \n"},{"result":{"nanos":686195,"millis":0.686195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":107599,"millis":0.107599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:42.230 [print] Beheer PDOK \n"},{"result":{"nanos":27399,"millis":0.027399,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:42.230 [print] #notpresent \n"},{"result":{"nanos":676995,"millis":0.676995,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":623695,"millis":0.623695,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":435697,"millis":0.435697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.366063,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8","startTime":1632027581371,"refId":"[1.310:67]","endTime":1632027582232,"exampleData":{"datasetIdentifierCode":"deb81ebe-c7a7-42ba-bc21-f07cd348c3e8"},"exampleIndex":309},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15000,"millis":0.015,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:41.414 karate.env system property was: null \n"},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41199,"millis":0.041199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":199098,"millis":0.199098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35200,"millis":0.0352,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":355597,"millis":0.355597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45800,"millis":0.0458,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86499,"millis":0.086499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13500,"millis":0.0135,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38899,"millis":0.038899,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":853330014,"millis":853.330014,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":344997,"millis":0.344997,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '2f28bd85-0afc-4dc1-85f3-dac55c1b485e'"}},{"result":{"nanos":421497,"millis":0.421497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":381397,"millis":0.381397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":405297,"millis":0.405297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":398797,"millis":0.398797,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":388997,"millis":0.388997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21499,"millis":0.021499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":310498,"millis":0.310498,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":322997,"millis":0.322997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":354298,"millis":0.354298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":67499,"millis":0.067499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":739294,"millis":0.739294,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:42.272 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.c4108a11-bdbb-4461-8902-423531561a7e_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":362498,"millis":0.362498,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":55200,"millis":0.0552,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:42.273 [print] #notpresent \n"},{"result":{"nanos":615995,"millis":0.615995,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":73600,"millis":0.0736,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:42.274 [print] #notpresent \n"},{"result":{"nanos":305797,"millis":0.305797,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":85400,"millis":0.0854,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:42.274 [print] #notpresent \n"},{"result":{"nanos":431397,"millis":0.431397,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":59099,"millis":0.059099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:42.275 [print] KNMI \n"},{"result":{"nanos":494496,"millis":0.494496,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:42.275 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.c4108a11-bdbb-4461-8902-423531561a7e\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":461297,"millis":0.461297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":504996,"millis":0.504996,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":279398,"millis":0.279398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"2f28bd85-0afc-4dc1-85f3-dac55c1b485e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.154946,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e","startTime":1632027581414,"refId":"[1.311:67]","endTime":1632027582277,"exampleData":{"datasetIdentifierCode":"2f28bd85-0afc-4dc1-85f3-dac55c1b485e"},"exampleIndex":310},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16500,"millis":0.0165,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:42.001 karate.env system property was: null \n"},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44199,"millis":0.044199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48000,"millis":0.048,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":221798,"millis":0.221798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":317097,"millis":0.317097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":897107181,"millis":897.107181,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":1045692,"millis":1.045692,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'b0119753-5625-4500-9df3-13823ff9868f'"}},{"result":{"nanos":1661588,"millis":1.661588,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1672787,"millis":1.672787,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":1458589,"millis":1.458589,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1616687,"millis":1.616687,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1479189,"millis":1.479189,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23600,"millis":0.0236,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":839793,"millis":0.839793,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":839194,"millis":0.839194,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":949893,"millis":0.949893,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":152998,"millis":0.152998,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":127199,"millis":0.127199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:42.911 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/habitatrichtlijnverspreidingtypen\\\/wms?request=GetCapabilities&service=WMS \n"},{"result":{"nanos":1046792,"millis":1.046792,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:42.912 [print] #notpresent \n"},{"result":{"nanos":1437489,"millis":1.437489,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":112899,"millis":0.112899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:42.914 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":79099,"millis":0.079099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":147799,"millis":0.147799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:42.914 [print] #notpresent \n"},{"result":{"nanos":19693050,"millis":19.69305,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":438397,"millis":0.438397,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:42.934 [print] Beheer PDOK \n"},{"result":{"nanos":282598,"millis":0.282598,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:42.935 [print] http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/en\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=http:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=977e0e94-7aa9-4784-b2da-eaec44adb61b#MD_DataIdentification \n"},{"result":{"nanos":2511480,"millis":2.51148,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":694295,"millis":0.694295,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":326297,"millis":0.326297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"b0119753-5625-4500-9df3-13823ff9868f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":936.704679,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"b0119753-5625-4500-9df3-13823ff9868f","startTime":1632027582000,"refId":"[1.312:67]","endTime":1632027582938,"exampleData":{"datasetIdentifierCode":"b0119753-5625-4500-9df3-13823ff9868f"},"exampleIndex":311},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:42.165 karate.env system property was: null \n"},{"result":{"nanos":63899,"millis":0.063899,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45899,"millis":0.045899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":185699,"millis":0.185699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36699,"millis":0.036699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":322998,"millis":0.322998,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":86499,"millis":0.086499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":13900,"millis":0.0139,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16800,"millis":0.0168,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4599,"millis":0.004599,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847819956,"millis":847.819956,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":363998,"millis":0.363998,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68a7e4c1-0073-4a1a-a6df-084d2badf45a'"}},{"result":{"nanos":316997,"millis":0.316997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":281198,"millis":0.281198,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":328297,"millis":0.328297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435697,"millis":0.435697,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":433197,"millis":0.433197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":77099,"millis":0.077099,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":315597,"millis":0.315597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":316998,"millis":0.316998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":300498,"millis":0.300498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":114399,"millis":0.114399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":166198,"millis":0.166198,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:43.018 [print] https:\/\/service.pdok.nl\/cbs\/wb2019\/atom\/v1_0\/index.xml \n"},{"result":{"nanos":414297,"millis":0.414297,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":207999,"millis":0.207999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:43.019 [print] INSPIRE Atom \n"},{"result":{"nanos":380698,"millis":0.380698,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":152198,"millis":0.152198,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:43.019 [print] #notpresent \n"},{"result":{"nanos":147799,"millis":0.147799,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":103999,"millis":0.103999,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:43.020 [print] INSPIRE Atom \n"},{"result":{"nanos":408597,"millis":0.408597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":102499,"millis":0.102499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:43.020 [print] Beheer PDOK \n"},{"result":{"nanos":82000,"millis":0.082,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:43.020 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=5c37d29a-006d-4136-8989-adfc35a1d4a7#MD_DataIdentification \n"},{"result":{"nanos":497096,"millis":0.497096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":318497,"millis":0.318497,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":251898,"millis":0.251898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68a7e4c1-0073-4a1a-a6df-084d2badf45a\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.272898,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"68a7e4c1-0073-4a1a-a6df-084d2badf45a","startTime":1632027582165,"refId":"[1.313:67]","endTime":1632027583021,"exampleData":{"datasetIdentifierCode":"68a7e4c1-0073-4a1a-a6df-084d2badf45a"},"exampleIndex":312},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16100,"millis":0.0161,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:42.234 karate.env system property was: null \n"},{"result":{"nanos":27599,"millis":0.027599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":81099,"millis":0.081099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":282798,"millis":0.282798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38000,"millis":0.038,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":399297,"millis":0.399297,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":38100,"millis":0.0381,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":85999,"millis":0.085999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12100,"millis":0.0121,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14500,"millis":0.0145,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":295298,"millis":0.295298,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":9200,"millis":0.0092,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851318829,"millis":851.318829,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":493896,"millis":0.493896,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b1'"}},{"result":{"nanos":408297,"millis":0.408297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":376397,"millis":0.376397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":407197,"millis":0.407197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":526396,"millis":0.526396,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":491896,"millis":0.491896,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":66499,"millis":0.066499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":375597,"millis":0.375597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":372197,"millis":0.372197,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":384197,"millis":0.384197,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":148399,"millis":0.148399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":500896,"millis":0.500896,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:43.092 [print] https:\/\/inspire.caris.nl\/geoserver3\/rws\/wcs?service=WCS&version=2.0.1&request=GetCapabilities \n"},{"result":{"nanos":425797,"millis":0.425797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105499,"millis":0.105499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:43.093 [print] OGC:WCS \n"},{"result":{"nanos":782394,"millis":0.782394,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":108399,"millis":0.108399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:43.094 [print] #notpresent \n"},{"result":{"nanos":285398,"millis":0.285398,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":103699,"millis":0.103699,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:43.094 [print] OGC:WCS \n"},{"result":{"nanos":977992,"millis":0.977992,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":180299,"millis":0.180299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:43.095 [print] Rijkswaterstaat \n"},{"result":{"nanos":400097,"millis":0.400097,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:43.096 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f5#MD_DataIdentification \n"},{"result":{"nanos":925293,"millis":0.925293,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":434896,"millis":0.434896,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":414997,"millis":0.414997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.394443,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1","startTime":1632027582234,"refId":"[1.314:67]","endTime":1632027583098,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b1"},"exampleIndex":313},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:42.278 karate.env system property was: null \n"},{"result":{"nanos":24099,"millis":0.024099,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34900,"millis":0.0349,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":40200,"millis":0.0402,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":191598,"millis":0.191598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":337497,"millis":0.337497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":142399,"millis":0.142399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11399,"millis":0.011399,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39800,"millis":0.0398,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873720959,"millis":873.720959,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":875294,"millis":0.875294,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b4'"}},{"result":{"nanos":827793,"millis":0.827793,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":1559788,"millis":1.559788,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":903693,"millis":0.903693,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":1190191,"millis":1.190191,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":1092492,"millis":1.092492,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":75499,"millis":0.075499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":665595,"millis":0.665595,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":769694,"millis":0.769694,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":805394,"millis":0.805394,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":163599,"millis":0.163599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":168398,"millis":0.168398,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:43.162 [print] https:\\\/\\\/geo.rijkswaterstaat.nl\\\/services\\\/ogc\\\/gdr\\\/bodemhoogte_5mtr\\\/ows?service=WMS&request=getcapabilities&version=1.3.0 \n"},{"result":{"nanos":685995,"millis":0.685995,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":110199,"millis":0.110199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:43.163 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":713395,"millis":0.713395,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":137798,"millis":0.137798,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:43.164 [print] #notpresent \n"},{"result":{"nanos":71100,"millis":0.0711,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":80899,"millis":0.080899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:43.164 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":781494,"millis":0.781494,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":105999,"millis":0.105999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:43.165 [print] Rijkswaterstaat \n"},{"result":{"nanos":82600,"millis":0.0826,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:43.165 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":953792,"millis":0.953792,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":464497,"millis":0.464497,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":296997,"millis":0.296997,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":888.239046,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4","startTime":1632027582278,"refId":"[1.315:67]","endTime":1632027583167,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b4"},"exampleIndex":314},{"sectionIndex":0,"stepResults":[{"result":{"nanos":61800,"millis":0.0618,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:42.940 karate.env system property was: null \n"},{"result":{"nanos":38199,"millis":0.038199,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":109399,"millis":0.109399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100700,"millis":0.1007,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":259398,"millis":0.259398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":94500,"millis":0.0945,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":351997,"millis":0.351997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":68699,"millis":0.068699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":128499,"millis":0.128499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":136899,"millis":0.136899,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33000,"millis":0.033,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19000,"millis":0.019,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20099,"millis":0.020099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":18900,"millis":0.0189,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":19200,"millis":0.0192,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":906503014,"millis":906.503014,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":732295,"millis":0.732295,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn573b0-bd3b-4d7b-a97d-e65841e6e0b2'"}},{"result":{"nanos":765194,"millis":0.765194,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":751294,"millis":0.751294,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":634095,"millis":0.634095,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":969692,"millis":0.969692,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":840894,"millis":0.840894,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":74899,"millis":0.074899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":487097,"millis":0.487097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":494796,"millis":0.494796,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":511196,"millis":0.511196,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":134199,"millis":0.134199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":147599,"millis":0.147599,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:43.855 [print] https:\\\/\\\/inspire.rasdaman.org\\\/rasdaman\\\/ows?SERVICE=WCS&VERSION=2.0.1&REQUEST=GetCapabilities \n"},{"result":{"nanos":580796,"millis":0.580796,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":128599,"millis":0.128599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:43.856 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":496996,"millis":0.496996,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":110599,"millis":0.110599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:43.857 [print] #notpresent \n"},{"result":{"nanos":72700,"millis":0.0727,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":81899,"millis":0.081899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:43.857 [print] [\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\",\"OGC:WCS\"] \n"},{"result":{"nanos":689595,"millis":0.689595,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":57199,"millis":0.057199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:43.858 [print] Rijkswaterstaat \n"},{"result":{"nanos":47100,"millis":0.0471,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:43.858 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":614195,"millis":0.614195,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":452196,"millis":0.452196,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":346298,"millis":0.346298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":918.206925,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2","startTime":1632027582940,"refId":"[1.316:67]","endTime":1632027583859,"exampleData":{"datasetIdentifierCode":"adn573b0-bd3b-4d7b-a97d-e65841e6e0b2"},"exampleIndex":315},{"sectionIndex":0,"stepResults":[{"result":{"nanos":43600,"millis":0.0436,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:43.023 karate.env system property was: null \n"},{"result":{"nanos":35900,"millis":0.0359,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":115299,"millis":0.115299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":92499,"millis":0.092499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":444497,"millis":0.444497,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":3797672,"millis":3.797672,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":402097,"millis":0.402097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":71900,"millis":0.0719,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":490496,"millis":0.490496,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":47400,"millis":0.0474,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31699,"millis":0.031699,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":77400,"millis":0.0774,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22099,"millis":0.022099,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":20000,"millis":0.02,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843596592,"millis":843.596592,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":491297,"millis":0.491297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'adn83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":614495,"millis":0.614495,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":569995,"millis":0.569995,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":552596,"millis":0.552596,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":516596,"millis":0.516596,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":619095,"millis":0.619095,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27300,"millis":0.0273,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":346997,"millis":0.346997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":350498,"millis":0.350498,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":329397,"millis":0.329397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":68200,"millis":0.0682,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":64100,"millis":0.0641,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:43.878 [print] https:\/\/www.rijkswaterstaat.nl\/apps\/geoservices\/geodata\/dmc\/bodemhoogte_5mtr_atom_index.xml \n"},{"result":{"nanos":320397,"millis":0.320397,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":64600,"millis":0.0646,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:43.878 [print] INSPIRE Atom \n"},{"result":{"nanos":341297,"millis":0.341297,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:43.878 [print] #notpresent \n"},{"result":{"nanos":25600,"millis":0.0256,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:43.878 [print] INSPIRE Atom \n"},{"result":{"nanos":580996,"millis":0.580996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":53899,"millis":0.053899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:43.879 [print] Rijkswaterstaat \n"},{"result":{"nanos":50000,"millis":0.05,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:43.879 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=adn73c4a-ef03-4785-b7f6-942e86b385f7#MD_DataIdentification \n"},{"result":{"nanos":447096,"millis":0.447096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":451097,"millis":0.451097,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":325297,"millis":0.325297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"adn83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.638695,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"adn83730-e750-485a-9c0c-39bf9bt72cf8","startTime":1632027583023,"refId":"[1.317:67]","endTime":1632027583880,"exampleData":{"datasetIdentifierCode":"adn83730-e750-485a-9c0c-39bf9bt72cf8"},"exampleIndex":316},{"sectionIndex":0,"stepResults":[{"result":{"nanos":47399,"millis":0.047399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:43.100 karate.env system property was: null \n"},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":103599,"millis":0.103599,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":95599,"millis":0.095599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":232298,"millis":0.232298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":93400,"millis":0.0934,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336897,"millis":0.336897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":76199,"millis":0.076199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":98400,"millis":0.0984,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":275997,"millis":0.275997,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22599,"millis":0.022599,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-3730-e750-485a-9c0c-39bf9bt72cf9'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18700,"millis":0.0187,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851923929,"millis":851.923929,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":594395,"millis":0.594395,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-3730-e750-485a-9c0c-39bf9bt72cf9'"}},{"result":{"nanos":604996,"millis":0.604996,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":485896,"millis":0.485896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":415297,"millis":0.415297,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":424296,"millis":0.424296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":394597,"millis":0.394597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23300,"millis":0.0233,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":307098,"millis":0.307098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":333097,"millis":0.333097,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":295698,"millis":0.295698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":561095,"millis":0.561095,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":462597,"millis":0.462597,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:43.959 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.5458b0b7-4aef-467a-b646-e76d966bcfc1\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":325997,"millis":0.325997,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":338998,"millis":0.338998,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:43.959 [print] INSPIRE Atom \n"},{"result":{"nanos":343397,"millis":0.343397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":338697,"millis":0.338697,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:43.960 [print] #notpresent \n"},{"result":{"nanos":33800,"millis":0.0338,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":320397,"millis":0.320397,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:43.961 [print] INSPIRE Atom \n"},{"result":{"nanos":414097,"millis":0.414097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":418697,"millis":0.418697,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:43.961 [print] Rijkswaterstaat \n"},{"result":{"nanos":529196,"millis":0.529196,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:43.962 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-3730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification \n"},{"result":{"nanos":533096,"millis":0.533096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":611395,"millis":0.611395,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bt72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":288998,"millis":0.288998,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bt72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":862.860243,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-3730-e750-485a-9c0c-39bf9bt72cf9","startTime":1632027583099,"refId":"[1.318:67]","endTime":1632027583963,"exampleData":{"datasetIdentifierCode":"wt-3730-e750-485a-9c0c-39bf9bt72cf9"},"exampleIndex":317},{"sectionIndex":0,"stepResults":[{"result":{"nanos":44400,"millis":0.0444,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:43.169 karate.env system property was: null \n"},{"result":{"nanos":38599,"millis":0.038599,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":124899,"millis":0.124899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100399,"millis":0.100399,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":306598,"millis":0.306598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":125199,"millis":0.125199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":490096,"millis":0.490096,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":98399,"millis":0.098399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":97000,"millis":0.097,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":23400,"millis":0.0234,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":21799,"millis":0.021799,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":21800,"millis":0.0218,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bm72cf8'"}},{"result":{"nanos":53100,"millis":0.0531,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":43999,"millis":0.043999,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":871448481,"millis":871.448481,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":477497,"millis":0.477497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bm72cf8'"}},{"result":{"nanos":514396,"millis":0.514396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":645895,"millis":0.645895,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":883494,"millis":0.883494,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":580195,"millis":0.580195,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":579696,"millis":0.579696,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":44499,"millis":0.044499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":385197,"millis":0.385197,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":395797,"millis":0.395797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":398897,"millis":0.398897,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":191899,"millis":0.191899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":159198,"millis":0.159198,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:44.048 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":514396,"millis":0.514396,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":114899,"millis":0.114899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:44.049 [print] OGC:WMS \n"},{"result":{"nanos":410797,"millis":0.410797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":92599,"millis":0.092599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:44.049 [print] #notpresent \n"},{"result":{"nanos":28800,"millis":0.0288,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":89399,"millis":0.089399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:44.049 [print] OGC:WMS \n"},{"result":{"nanos":737795,"millis":0.737795,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158099,"millis":0.158099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:44.050 [print] Rijkswaterstaat \n"},{"result":{"nanos":103299,"millis":0.103299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:44.050 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":508196,"millis":0.508196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":599096,"millis":0.599096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bm72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":287098,"millis":0.287098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bm72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.011101,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-83730-e750-485a-9c0c-39bf9bm72cf8","startTime":1632027583169,"refId":"[1.319:67]","endTime":1632027584052,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bm72cf8"},"exampleIndex":318},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17900,"millis":0.0179,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:43.861 karate.env system property was: null \n"},{"result":{"nanos":29900,"millis":0.0299,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":48299,"millis":0.048299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":287198,"millis":0.287198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":374997,"millis":0.374997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62999,"millis":0.062999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28500,"millis":0.0285,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":16400,"millis":0.0164,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39600,"millis":0.0396,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bf72cf8'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":901359154,"millis":901.359154,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":478897,"millis":0.478897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bf72cf8'"}},{"result":{"nanos":433096,"millis":0.433096,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":451997,"millis":0.451997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":414296,"millis":0.414296,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":604496,"millis":0.604496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":477496,"millis":0.477496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23200,"millis":0.0232,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356297,"millis":0.356297,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":321297,"millis":0.321297,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":397097,"millis":0.397097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":290798,"millis":0.290798,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":257598,"millis":0.257598,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:44.769 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":345097,"millis":0.345097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":170199,"millis":0.170199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:44.769 [print] OGC:WFS \n"},{"result":{"nanos":355397,"millis":0.355397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":145599,"millis":0.145599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:44.770 [print] #notpresent \n"},{"result":{"nanos":29500,"millis":0.0295,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":93599,"millis":0.093599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:44.770 [print] OGC:WFS \n"},{"result":{"nanos":992492,"millis":0.992492,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":159999,"millis":0.159999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:44.771 [print] Rijkswaterstaat \n"},{"result":{"nanos":138499,"millis":0.138499,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:44.771 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":458496,"millis":0.458496,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":717795,"millis":0.717795,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bf72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":7619042,"millis":7.619042,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bf72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":918.134726,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"wt-83730-e750-485a-9c0c-39bf9bf72cf8","startTime":1632027583861,"refId":"[1.320:67]","endTime":1632027584780,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bf72cf8"},"exampleIndex":319},{"sectionIndex":0,"stepResults":[{"result":{"nanos":33100,"millis":0.0331,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:43.882 karate.env system property was: null \n"},{"result":{"nanos":25500,"millis":0.0255,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":54099,"millis":0.054099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":68400,"millis":0.0684,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":167598,"millis":0.167598,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":333597,"millis":0.333597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":62100,"millis":0.0621,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13300,"millis":0.0133,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22000,"millis":0.022,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":58099,"millis":0.058099,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":90899,"millis":0.090899,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":909904090,"millis":909.90409,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":462497,"millis":0.462497,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-83730-e750-485a-9c0c-39bf9bt72cf8'"}},{"result":{"nanos":571195,"millis":0.571195,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":470297,"millis":0.470297,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":384997,"millis":0.384997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":410597,"millis":0.410597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":443397,"millis":0.443397,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":296597,"millis":0.296597,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":293998,"millis":0.293998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":302398,"millis":0.302398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":71199,"millis":0.071199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":670395,"millis":0.670395,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:44.798 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.504afbe6-0069-411b-b69b-2aae3728f735\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":377597,"millis":0.377597,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77399,"millis":0.077399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:44.798 [print] INSPIRE Atom \n"},{"result":{"nanos":579296,"millis":0.579296,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":77299,"millis":0.077299,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:44.799 [print] #notpresent \n"},{"result":{"nanos":27800,"millis":0.0278,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":323297,"millis":0.323297,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:44.799 [print] INSPIRE Atom \n"},{"result":{"nanos":743195,"millis":0.743195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":96199,"millis":0.096199,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:44.800 [print] Rijkswaterstaat \n"},{"result":{"nanos":620395,"millis":0.620395,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:44.801 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-83730-e750-485a-9c0c-39bf9be72cf8#MD_DataIdentification \n"},{"result":{"nanos":429597,"millis":0.429597,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":434096,"millis":0.434096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":329198,"millis":0.329198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-83730-e750-485a-9c0c-39bf9bt72cf8\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":919.453517,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"wt-83730-e750-485a-9c0c-39bf9bt72cf8","startTime":1632027583882,"refId":"[1.321:67]","endTime":1632027584802,"exampleData":{"datasetIdentifierCode":"wt-83730-e750-485a-9c0c-39bf9bt72cf8"},"exampleIndex":320},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17100,"millis":0.0171,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:43.966 karate.env system property was: null \n"},{"result":{"nanos":28200,"millis":0.0282,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":42299,"millis":0.042299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":60300,"millis":0.0603,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":183398,"millis":0.183398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36100,"millis":0.0361,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":317998,"millis":0.317998,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28199,"millis":0.028199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":335798,"millis":0.335798,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15899,"millis":0.015899,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38400,"millis":0.0384,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-3730-e750-485a-9c0c-39bf9bf72cf9'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":872806671,"millis":872.806671,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":800,"millis":8.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":339797,"millis":0.339797,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-3730-e750-485a-9c0c-39bf9bf72cf9'"}},{"result":{"nanos":403297,"millis":0.403297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":390897,"millis":0.390897,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":384397,"millis":0.384397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":413097,"millis":0.413097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":538495,"millis":0.538495,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":395097,"millis":0.395097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":339497,"millis":0.339497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":323698,"millis":0.323698,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":50699,"millis":0.050699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:44.844 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.5458b0b7-4aef-467a-b646-e76d966bcfc1_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":987292,"millis":0.987292,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":60600,"millis":0.0606,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:44.845 [print] OGC:WFS \n"},{"result":{"nanos":589395,"millis":0.589395,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":97200,"millis":0.0972,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:44.846 [print] #notpresent \n"},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":291398,"millis":0.291398,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:44.846 [print] OGC:WFS \n"},{"result":{"nanos":755294,"millis":0.755294,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":60700,"millis":0.0607,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:44.847 [print] Rijkswaterstaat \n"},{"result":{"nanos":98999,"millis":0.098999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:44.847 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-3730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification \n"},{"result":{"nanos":492496,"millis":0.492496,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":441297,"millis":0.441297,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bf72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":576696,"millis":0.576696,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bf72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":882.0889,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-3730-e750-485a-9c0c-39bf9bf72cf9","startTime":1632027583966,"refId":"[1.322:67]","endTime":1632027584849,"exampleData":{"datasetIdentifierCode":"wt-3730-e750-485a-9c0c-39bf9bf72cf9"},"exampleIndex":321},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14700,"millis":0.0147,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:44.060 karate.env system property was: null \n"},{"result":{"nanos":25399,"millis":0.025399,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":44300,"millis":0.0443,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":46100,"millis":0.0461,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":204999,"millis":0.204999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37100,"millis":0.0371,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":393697,"millis":0.393697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":76499,"millis":0.076499,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15500,"millis":0.0155,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6200,"millis":0.0062,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":61399,"millis":0.061399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f5eb-b09f-4f6d-8397-8878a1f86238'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":845487178,"millis":845.487178,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":368197,"millis":0.368197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f5eb-b09f-4f6d-8397-8878a1f86238'"}},{"result":{"nanos":540696,"millis":0.540696,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":492196,"millis":0.492196,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":536896,"millis":0.536896,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":515696,"millis":0.515696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":515596,"millis":0.515596,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":42300,"millis":0.0423,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":506996,"millis":0.506996,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":502296,"millis":0.502296,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":384097,"millis":0.384097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":75599,"millis":0.075599,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":65500,"millis":0.0655,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:44.911 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":902093,"millis":0.902093,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":80599,"millis":0.080599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:44.912 [print] OGC:WFS \n"},{"result":{"nanos":545096,"millis":0.545096,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":59399,"millis":0.059399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:44.913 [print] #notpresent \n"},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":404797,"millis":0.404797,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:44.913 [print] OGC:WFS \n"},{"result":{"nanos":712294,"millis":0.712294,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":90200,"millis":0.0902,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:44.914 [print] Rijkswaterstaat \n"},{"result":{"nanos":61899,"millis":0.061899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:44.914 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification \n"},{"result":{"nanos":1144491,"millis":1.144491,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":461697,"millis":0.461697,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1f86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":305697,"millis":0.305697,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1f86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":855.832298,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-f5eb-b09f-4f6d-8397-8878a1f86238","startTime":1632027584059,"refId":"[1.323:67]","endTime":1632027584916,"exampleData":{"datasetIdentifierCode":"wt-f5eb-b09f-4f6d-8397-8878a1f86238"},"exampleIndex":322},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17600,"millis":0.0176,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:44.784 karate.env system property was: null \n"},{"result":{"nanos":44500,"millis":0.0445,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":58400,"millis":0.0584,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":45400,"millis":0.0454,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":245098,"millis":0.245098,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36900,"millis":0.0369,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":328697,"millis":0.328697,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26600,"millis":0.0266,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":60800,"millis":0.0608,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":6400,"millis":0.0064,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f5eb-b09f-4f6d-8397-8878a1m86238'"}},{"result":{"nanos":5699,"millis":0.005699,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":848707554,"millis":848.707554,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":441397,"millis":0.441397,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f5eb-b09f-4f6d-8397-8878a1m86238'"}},{"result":{"nanos":419897,"millis":0.419897,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":399397,"millis":0.399397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":436197,"millis":0.436197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":441097,"millis":0.441097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":399997,"millis":0.399997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22300,"millis":0.0223,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":329098,"millis":0.329098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":407996,"millis":0.407996,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":360598,"millis":0.360598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":76799,"millis":0.076799,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":122099,"millis":0.122099,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:45.638 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":377197,"millis":0.377197,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":74199,"millis":0.074199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:45.639 [print] OGC:WMS \n"},{"result":{"nanos":329998,"millis":0.329998,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66399,"millis":0.066399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:45.639 [print] #notpresent \n"},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":50299,"millis":0.050299,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:45.639 [print] OGC:WMS \n"},{"result":{"nanos":465797,"millis":0.465797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":57499,"millis":0.057499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:45.640 [print] Rijkswaterstaat \n"},{"result":{"nanos":83400,"millis":0.0834,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:45.640 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification \n"},{"result":{"nanos":624395,"millis":0.624395,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":607195,"millis":0.607195,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1m86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":631595,"millis":0.631595,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1m86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.926093,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"wt-f5eb-b09f-4f6d-8397-8878a1m86238","startTime":1632027584782,"refId":"[1.324:67]","endTime":1632027585642,"exampleData":{"datasetIdentifierCode":"wt-f5eb-b09f-4f6d-8397-8878a1m86238"},"exampleIndex":323},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15700,"millis":0.0157,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:44.804 karate.env system property was: null \n"},{"result":{"nanos":25000,"millis":0.025,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":151699,"millis":0.151699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":34499,"millis":0.034499,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":274898,"millis":0.274898,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27600,"millis":0.0276,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42999,"millis":0.042999,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":19700,"millis":0.0197,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":10600,"millis":0.0106,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":269098,"millis":0.269098,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-3730-e750-485a-9c0c-39bf9bm72cf9'"}},{"result":{"nanos":7300,"millis":0.0073,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":883602189,"millis":883.602189,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":596196,"millis":0.596196,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-3730-e750-485a-9c0c-39bf9bm72cf9'"}},{"result":{"nanos":597895,"millis":0.597895,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":431497,"millis":0.431497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":476296,"millis":0.476296,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":564496,"millis":0.564496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":447496,"millis":0.447496,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":306898,"millis":0.306898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":296997,"millis":0.296997,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":302898,"millis":0.302898,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":69099,"millis":0.069099,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":84700,"millis":0.0847,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:45.693 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.5458b0b7-4aef-467a-b646-e76d966bcfc1_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":392797,"millis":0.392797,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180899,"millis":0.180899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:45.694 [print] OGC:WMS \n"},{"result":{"nanos":329698,"millis":0.329698,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":49300,"millis":0.0493,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:45.694 [print] #notpresent \n"},{"result":{"nanos":24700,"millis":0.0247,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":58000,"millis":0.058,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:45.694 [print] OGC:WMS \n"},{"result":{"nanos":485496,"millis":0.485496,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":53200,"millis":0.0532,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:45.695 [print] Rijkswaterstaat \n"},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:45.695 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-3730-e750-485a-9c0c-39bf9be72cf9#MD_DataIdentification \n"},{"result":{"nanos":589295,"millis":0.589295,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":407197,"millis":0.407197,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bm72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":404597,"millis":0.404597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-3730-e750-485a-9c0c-39bf9bm72cf9\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":891.785629,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"wt-3730-e750-485a-9c0c-39bf9bm72cf9","startTime":1632027584804,"refId":"[1.325:67]","endTime":1632027585696,"exampleData":{"datasetIdentifierCode":"wt-3730-e750-485a-9c0c-39bf9bm72cf9"},"exampleIndex":324},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:44.850 karate.env system property was: null \n"},{"result":{"nanos":26000,"millis":0.026,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41899,"millis":0.041899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":160999,"millis":0.160999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":53299,"millis":0.053299,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":342698,"millis":0.342698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":115800,"millis":0.1158,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":14499,"millis":0.014499,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f5eb-b09f-4f6d-8397-8878a1t86238'"}},{"result":{"nanos":6000,"millis":0.006,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4499,"millis":0.004499,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854152013,"millis":854.152013,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":600,"millis":6.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":319598,"millis":0.319598,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f5eb-b09f-4f6d-8397-8878a1t86238'"}},{"result":{"nanos":382998,"millis":0.382998,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":362498,"millis":0.362498,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":371697,"millis":0.371697,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":380497,"millis":0.380497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":390497,"millis":0.390497,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21300,"millis":0.0213,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":277797,"millis":0.277797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":273998,"millis":0.273998,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":282598,"millis":0.282598,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":48600,"millis":0.0486,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":47899,"millis":0.047899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:45.709 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.42527b86-52a7-4b94-9f83-8e8a9e900f5a\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":472697,"millis":0.472697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":107400,"millis":0.1074,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:45.710 [print] INSPIRE Atom \n"},{"result":{"nanos":405196,"millis":0.405196,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":52900,"millis":0.0529,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:45.710 [print] #notpresent \n"},{"result":{"nanos":26200,"millis":0.0262,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":196698,"millis":0.196698,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:45.710 [print] INSPIRE Atom \n"},{"result":{"nanos":388597,"millis":0.388597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":163299,"millis":0.163299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:45.711 [print] Rijkswaterstaat \n"},{"result":{"nanos":43699,"millis":0.043699,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:45.711 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=wt-f5eb-b09f-4f6d-8397-8878a1b86238#MD_DataIdentification \n"},{"result":{"nanos":698595,"millis":0.698595,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":280998,"millis":0.280998,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1t86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":250498,"millis":0.250498,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f5eb-b09f-4f6d-8397-8878a1t86238\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":861.30406,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-f5eb-b09f-4f6d-8397-8878a1t86238","startTime":1632027584850,"refId":"[1.326:67]","endTime":1632027585712,"exampleData":{"datasetIdentifierCode":"wt-f5eb-b09f-4f6d-8397-8878a1t86238"},"exampleIndex":325},{"sectionIndex":0,"stepResults":[{"result":{"nanos":17000,"millis":0.017,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:44.918 karate.env system property was: null \n"},{"result":{"nanos":28000,"millis":0.028,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":41199,"millis":0.041199,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":85199,"millis":0.085199,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":223799,"millis":0.223799,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":74399,"millis":0.074399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":338597,"millis":0.338597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29200,"millis":0.0292,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":33199,"millis":0.033199,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":14000,"millis":0.014,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5800,"millis":0.0058,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":382497,"millis":0.382497,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480df83794'"}},{"result":{"nanos":6900,"millis":0.0069,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":852461625,"millis":852.461625,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":374597,"millis":0.374597,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480df83794'"}},{"result":{"nanos":479596,"millis":0.479596,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":499097,"millis":0.499097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":430197,"millis":0.430197,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435997,"millis":0.435997,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":414697,"millis":0.414697,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21899,"millis":0.021899,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":299698,"millis":0.299698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":298798,"millis":0.298798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":326997,"millis":0.326997,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":48900,"millis":0.0489,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":72199,"millis":0.072199,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:45.776 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":323098,"millis":0.323098,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":79999,"millis":0.079999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:45.776 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":331397,"millis":0.331397,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":51900,"millis":0.0519,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:45.777 [print] #notpresent \n"},{"result":{"nanos":24000,"millis":0.024,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":56499,"millis":0.056499,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:45.777 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":421197,"millis":0.421197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":49699,"millis":0.049699,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:45.777 [print] Rijkswaterstaat \n"},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:45.777 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":420997,"millis":0.420997,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":340997,"millis":0.340997,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":251598,"millis":0.251598,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480df83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":859.910567,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"wt-f297898-2640-44c2-bbe9-c0480df83794","startTime":1632027584917,"refId":"[1.327:67]","endTime":1632027585778,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480df83794"},"exampleIndex":326},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16600,"millis":0.0166,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:45.644 karate.env system property was: null \n"},{"result":{"nanos":64200,"millis":0.0642,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":60899,"millis":0.060899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":243298,"millis":0.243298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36699,"millis":0.036699,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":297698,"millis":0.297698,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61199,"millis":0.061199,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11700,"millis":0.0117,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37900,"millis":0.0379,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dm83794'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":861602456,"millis":861.602456,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":480596,"millis":0.480596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dm83794'"}},{"result":{"nanos":448497,"millis":0.448497,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":446796,"millis":0.446796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":391597,"millis":0.391597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":447497,"millis":0.447497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":556096,"millis":0.556096,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":49599,"millis":0.049599,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":331797,"millis":0.331797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":306398,"millis":0.306398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":307398,"millis":0.307398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":62699,"millis":0.062699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":82299,"millis":0.082299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:46.511 [print] https:\/\/haleconnect.com\/ows\/services\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":323798,"millis":0.323798,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75499,"millis":0.075499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:46.511 [print] OGC:WMS \n"},{"result":{"nanos":319598,"millis":0.319598,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":66399,"millis":0.066399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:46.511 [print] #notpresent \n"},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":61399,"millis":0.061399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:46.512 [print] OGC:WMS \n"},{"result":{"nanos":462597,"millis":0.462597,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":54299,"millis":0.054299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:46.512 [print] Rijkswaterstaat \n"},{"result":{"nanos":71400,"millis":0.0714,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:46.512 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":413196,"millis":0.413196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":473497,"millis":0.473497,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":297297,"millis":0.297297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dm83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.101597,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"wt-f297898-2640-44c2-bbe9-c0480dm83794","startTime":1632027585643,"refId":"[1.328:67]","endTime":1632027586513,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480dm83794"},"exampleIndex":327},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15300,"millis":0.0153,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:45.698 karate.env system property was: null \n"},{"result":{"nanos":26300,"millis":0.0263,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38299,"millis":0.038299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44800,"millis":0.0448,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":204298,"millis":0.204298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35100,"millis":0.0351,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":300198,"millis":0.300198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":25799,"millis":0.025799,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":61200,"millis":0.0612,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11400,"millis":0.0114,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":13000,"millis":0.013,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4699,"millis":0.004699,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":136399,"millis":0.136399,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4600,"millis":0.0046,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846087474,"millis":846.087474,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":474596,"millis":0.474596,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611f0gfim'"}},{"result":{"nanos":2286383,"millis":2.286383,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":706194,"millis":0.706194,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":598396,"millis":0.598396,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":915993,"millis":0.915993,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":653095,"millis":0.653095,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":24200,"millis":0.0242,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":465097,"millis":0.465097,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":551096,"millis":0.551096,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":516696,"millis":0.516696,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":66899,"millis":0.066899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":137999,"millis":0.137999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:46.553 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":570396,"millis":0.570396,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":120299,"millis":0.120299,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:46.554 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":512496,"millis":0.512496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":100099,"millis":0.100099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:46.554 [print] #notpresent \n"},{"result":{"nanos":29700,"millis":0.0297,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":57900,"millis":0.0579,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:46.554 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":679295,"millis":0.679295,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":81299,"millis":0.081299,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:46.555 [print] Rijkswaterstaat \n"},{"result":{"nanos":62200,"millis":0.0622,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:46.555 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":630995,"millis":0.630995,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":334397,"millis":0.334397,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":263198,"millis":0.263198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611f0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":857.860084,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"tbjk534p-wubf-crbp-cj25-d41611f0gfim","startTime":1632027585698,"refId":"[1.329:67]","endTime":1632027586556,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611f0gfim"},"exampleIndex":328},{"sectionIndex":0,"stepResults":[{"result":{"nanos":13600,"millis":0.0136,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:45.713 karate.env system property was: null \n"},{"result":{"nanos":23500,"millis":0.0235,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":31500,"millis":0.0315,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":37699,"millis":0.037699,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":149699,"millis":0.149699,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":50300,"millis":0.0503,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":299497,"millis":0.299497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":43700,"millis":0.0437,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":38500,"millis":0.0385,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11100,"millis":0.0111,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":10100,"millis":0.0101,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":8400,"millis":0.0084,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'wt-f297898-2640-44c2-bbe9-c0480dt83794'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":868183106,"millis":868.183106,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":419396,"millis":0.419396,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'wt-f297898-2640-44c2-bbe9-c0480dt83794'"}},{"result":{"nanos":463297,"millis":0.463297,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":419496,"millis":0.419496,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":473097,"millis":0.473097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":608695,"millis":0.608695,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":390997,"millis":0.390997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":276298,"millis":0.276298,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":274798,"millis":0.274798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":284098,"millis":0.284098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":54700,"millis":0.0547,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":123399,"millis":0.123399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:46.587 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.c3955762-73a3-4c16-a15c-f3869487a1e3\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":300097,"millis":0.300097,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":89900,"millis":0.0899,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:46.587 [print] INSPIRE Atom \n"},{"result":{"nanos":303597,"millis":0.303597,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":48500,"millis":0.0485,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:46.587 [print] #notpresent \n"},{"result":{"nanos":28999,"millis":0.028999,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":81000,"millis":0.081,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:46.588 [print] INSPIRE Atom \n"},{"result":{"nanos":403097,"millis":0.403097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:46.588 [print] Rijkswaterstaat \n"},{"result":{"nanos":78799,"millis":0.078799,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:46.588 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-f297898-2640-44c2-bbe9-c0480da83794#MD_DataIdentification \n"},{"result":{"nanos":368297,"millis":0.368297,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":382297,"millis":0.382297,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":251698,"millis":0.251698,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"wt-f297898-2640-44c2-bbe9-c0480dt83794\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":875.152053,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"wt-f297898-2640-44c2-bbe9-c0480dt83794","startTime":1632027585713,"refId":"[1.330:67]","endTime":1632027586589,"exampleData":{"datasetIdentifierCode":"wt-f297898-2640-44c2-bbe9-c0480dt83794"},"exampleIndex":329},{"sectionIndex":0,"stepResults":[{"result":{"nanos":13800,"millis":0.0138,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:45.780 karate.env system property was: null \n"},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":35399,"millis":0.035399,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":41300,"millis":0.0413,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":199399,"millis":0.199399,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36400,"millis":0.0364,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":320598,"millis":0.320598,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":25899,"millis":0.025899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":39900,"millis":0.0399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":10800,"millis":0.0108,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37199,"millis":0.037199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":5200,"millis":0.0052,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":864666033,"millis":864.666033,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1000,"millis":0.001,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":597195,"millis":0.597195,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tbjk534p-wubf-crbp-cj25-d41611m0gfim'"}},{"result":{"nanos":627495,"millis":0.627495,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":583796,"millis":0.583796,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":638795,"millis":0.638795,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":635695,"millis":0.635695,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":584596,"millis":0.584596,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":21199,"millis":0.021199,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":507296,"millis":0.507296,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":473397,"millis":0.473397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":934993,"millis":0.934993,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":72399,"millis":0.072399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":120299,"millis":0.120299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:46.651 [print] https:\\\/\\\/marineprojects.openearth.nl\\\/geoserver\\\/ihm_krm\\\/wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":491396,"millis":0.491396,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77800,"millis":0.0778,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:46.652 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":454096,"millis":0.454096,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":86399,"millis":0.086399,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:46.653 [print] #notpresent \n"},{"result":{"nanos":24800,"millis":0.0248,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":60900,"millis":0.0609,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:46.653 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":614296,"millis":0.614296,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":49499,"millis":0.049499,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:46.653 [print] Rijkswaterstaat \n"},{"result":{"nanos":79400,"millis":0.0794,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:46.653 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=tbjk534p-wubf-crbp-cj25-d4161160gfim#MD_DataIdentification \n"},{"result":{"nanos":686294,"millis":0.686294,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":348198,"millis":0.348198,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":287797,"millis":0.287797,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tbjk534p-wubf-crbp-cj25-d41611m0gfim\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":874.541657,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"tbjk534p-wubf-crbp-cj25-d41611m0gfim","startTime":1632027585780,"refId":"[1.331:67]","endTime":1632027586655,"exampleData":{"datasetIdentifierCode":"tbjk534p-wubf-crbp-cj25-d41611m0gfim"},"exampleIndex":330},{"sectionIndex":0,"stepResults":[{"result":{"nanos":73099,"millis":0.073099,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:46.515 karate.env system property was: null \n"},{"result":{"nanos":57100,"millis":0.0571,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49299,"millis":0.049299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":229898,"millis":0.229898,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":38300,"millis":0.0383,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":373097,"millis":0.373097,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29600,"millis":0.0296,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":64399,"millis":0.064399,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12500,"millis":0.0125,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":62999,"millis":0.062999,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":8500,"millis":0.0085,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4800,"millis":0.0048,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":43800,"millis":0.0438,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4900,"millis":0.0049,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":858369981,"millis":858.369981,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":570795,"millis":0.570795,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416efaadd1'"}},{"result":{"nanos":787694,"millis":0.787694,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":629095,"millis":0.629095,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":897494,"millis":0.897494,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":897894,"millis":0.897894,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":753494,"millis":0.753494,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22799,"millis":0.022799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":515496,"millis":0.515496,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":500497,"millis":0.500497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":444096,"millis":0.444096,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":77499,"millis":0.077499,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":102900,"millis":0.1029,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:47.381 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wfs?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":447796,"millis":0.447796,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":86399,"millis":0.086399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:47.382 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":485796,"millis":0.485796,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":62800,"millis":0.0628,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:47.382 [print] #notpresent \n"},{"result":{"nanos":24100,"millis":0.0241,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":62399,"millis":0.062399,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:47.383 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":662395,"millis":0.662395,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":48400,"millis":0.0484,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:47.383 [print] Rijkswaterstaat \n"},{"result":{"nanos":27999,"millis":0.027999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:47.383 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":633595,"millis":0.633595,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":524096,"millis":0.524096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":252198,"millis":0.252198,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416efaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":868.996098,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"tn-2c7040b-c448-451b-bf15-f2416efaadd1","startTime":1632027586515,"refId":"[1.332:67]","endTime":1632027587385,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416efaadd1"},"exampleIndex":331},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:46.558 karate.env system property was: null \n"},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34600,"millis":0.0346,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":40400,"millis":0.0404,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":184698,"millis":0.184698,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35800,"millis":0.0358,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":332197,"millis":0.332197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":67600,"millis":0.0676,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12999,"millis":0.012999,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11300,"millis":0.0113,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5100,"millis":0.0051,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":5000,"millis":0.005,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":840896513,"millis":840.896513,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1700,"millis":0.0017,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":332797,"millis":0.332797,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416etaadd1'"}},{"result":{"nanos":391397,"millis":0.391397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":367097,"millis":0.367097,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":412897,"millis":0.412897,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":443197,"millis":0.443197,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":468996,"millis":0.468996,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22500,"millis":0.0225,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":301098,"millis":0.301098,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":281798,"millis":0.281798,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":283098,"millis":0.283098,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":59400,"millis":0.0594,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":51999,"millis":0.051999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:47.403 [print] https:\/\/haleconnect.com\/services\/bsp\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":802994,"millis":0.802994,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":59799,"millis":0.059799,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:47.404 [print] INSPIRE Atom \n"},{"result":{"nanos":518696,"millis":0.518696,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":56200,"millis":0.0562,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:47.405 [print] #notpresent \n"},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":353097,"millis":0.353097,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:47.405 [print] INSPIRE Atom \n"},{"result":{"nanos":402797,"millis":0.402797,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":57099,"millis":0.057099,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:47.406 [print] Rijkswaterstaat \n"},{"result":{"nanos":41000,"millis":0.041,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:47.406 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":948393,"millis":0.948393,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":359497,"millis":0.359497,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":324297,"millis":0.324297,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416etaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":849.10745,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"tn-2c7040b-c448-451b-bf15-f2416etaadd1","startTime":1632027586558,"refId":"[1.333:67]","endTime":1632027587407,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416etaadd1"},"exampleIndex":332},{"sectionIndex":0,"stepResults":[{"result":{"nanos":16900,"millis":0.0169,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:46.592 karate.env system property was: null \n"},{"result":{"nanos":28600,"millis":0.0286,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":66400,"millis":0.0664,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63299,"millis":0.063299,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":182299,"millis":0.182299,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":75200,"millis":0.0752,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":417397,"millis":0.417397,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29399,"millis":0.029399,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":355198,"millis":0.355198,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":15799,"millis":0.015799,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15100,"millis":0.0151,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":44600,"millis":0.0446,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":846728569,"millis":846.728569,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":700,"millis":7.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":417897,"millis":0.417897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'tn-2c7040b-c448-451b-bf15-f2416emaadd1'"}},{"result":{"nanos":683395,"millis":0.683395,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":647095,"millis":0.647095,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":493796,"millis":0.493796,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":501996,"millis":0.501996,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":489197,"millis":0.489197,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":20799,"millis":0.020799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":356898,"millis":0.356898,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":341597,"millis":0.341597,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":360697,"millis":0.360697,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":54200,"millis":0.0542,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":76799,"millis":0.076799,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:47.445 [print] https:\\\/\\\/haleconnect.com\\\/ows\\\/services\\\/org.292.2885ef73-e044-4da4-b9b6-8a461a5353aa_wms?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":733794,"millis":0.733794,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75800,"millis":0.0758,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:47.446 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":638795,"millis":0.638795,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69199,"millis":0.069199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:47.446 [print] #notpresent \n"},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":392797,"millis":0.392797,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:47.447 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":527196,"millis":0.527196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72399,"millis":0.072399,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:47.447 [print] Rijkswaterstaat \n"},{"result":{"nanos":30000,"millis":0.03,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:47.447 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&version=2.0.2&request=GetRecordById&outputschema=https:\/\/www.isotc211.org\/2005\/gmd&elementsetname=full&id=eu-2c7040b-c448-451b-bf15-f2416ecaadd1#MD_DataIdentification \n"},{"result":{"nanos":1268290,"millis":1.26829,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":311198,"millis":0.311198,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":290097,"millis":0.290097,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"tn-2c7040b-c448-451b-bf15-f2416emaadd1\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.940791,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"tn-2c7040b-c448-451b-bf15-f2416emaadd1","startTime":1632027586591,"refId":"[1.334:67]","endTime":1632027587449,"exampleData":{"datasetIdentifierCode":"tn-2c7040b-c448-451b-bf15-f2416emaadd1"},"exampleIndex":333},{"sectionIndex":0,"stepResults":[{"result":{"nanos":31899,"millis":0.031899,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:46.656 karate.env system property was: null \n"},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":42099,"millis":0.042099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":166999,"millis":0.166999,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":52100,"millis":0.0521,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":346798,"millis":0.346798,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":75299,"millis":0.075299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11200,"millis":0.0112,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":10700,"millis":0.0107,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4300,"millis":0.0043,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":37800,"millis":0.0378,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":5500,"millis":0.0055,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":851625232,"millis":851.625232,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":441796,"millis":0.441796,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2'"}},{"result":{"nanos":418197,"millis":0.418197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":433497,"millis":0.433497,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":455096,"millis":0.455096,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":440097,"millis":0.440097,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":415297,"millis":0.415297,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":56400,"millis":0.0564,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":412497,"millis":0.412497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":338797,"millis":0.338797,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":309298,"millis":0.309298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":48199,"millis":0.048199,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":79700,"millis":0.0797,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:47.513 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=2.0.0&request=GetCapabilities \n"},{"result":{"nanos":736694,"millis":0.736694,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75599,"millis":0.075599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:47.514 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":547396,"millis":0.547396,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":69899,"millis":0.069899,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:47.514 [print] #notpresent \n"},{"result":{"nanos":28100,"millis":0.0281,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":367697,"millis":0.367697,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:47.515 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":436097,"millis":0.436097,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":158999,"millis":0.158999,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:47.515 [print] Rijkswaterstaat \n"},{"result":{"nanos":289997,"millis":0.289997,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:47.516 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":1029492,"millis":1.029492,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":350098,"millis":0.350098,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":260298,"millis":0.260298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":860.710963,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2","startTime":1632027586656,"refId":"[1.335:67]","endTime":1632027587517,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06fcd3e2"},"exampleIndex":334},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14100,"millis":0.0141,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:47.386 karate.env system property was: null \n"},{"result":{"nanos":26100,"millis":0.0261,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":49100,"millis":0.0491,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":43200,"millis":0.0432,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":189398,"millis":0.189398,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":37000,"millis":0.037,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":311098,"millis":0.311098,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":45699,"millis":0.045699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":138599,"millis":0.138599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":18000,"millis":0.018,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":18800,"millis":0.0188,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5700,"millis":0.0057,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":5400,"millis":0.0054,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":45300,"millis":0.0453,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":9100,"millis":0.0091,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":873014969,"millis":873.014969,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":411897,"millis":0.411897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621fd336d'"}},{"result":{"nanos":403597,"millis":0.403597,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":398997,"millis":0.398997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":394497,"millis":0.394497,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":427397,"millis":0.427397,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":409097,"millis":0.409097,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23100,"millis":0.0231,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":322997,"millis":0.322997,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":380497,"millis":0.380497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":316398,"millis":0.316398,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":52999,"millis":0.052999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":110899,"millis":0.110899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:48.265 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WFS&version=1.1.0&request=GetCapabilities \n"},{"result":{"nanos":921893,"millis":0.921893,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":105199,"millis":0.105199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:48.266 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":704995,"millis":0.704995,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":93199,"millis":0.093199,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:48.266 [print] #notpresent \n"},{"result":{"nanos":45700,"millis":0.0457,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":422997,"millis":0.422997,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:48.267 [print] [\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":675195,"millis":0.675195,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":61899,"millis":0.061899,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:48.268 [print] Rijkswaterstaat \n"},{"result":{"nanos":88200,"millis":0.0882,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:48.268 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":448397,"millis":0.448397,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":501096,"millis":0.501096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":251098,"millis":0.251098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621fd336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":881.954503,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"cf69ec50-9849-4afd-853c-ee5621fd336d","startTime":1632027587386,"refId":"[1.336:67]","endTime":1632027588269,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621fd336d"},"exampleIndex":335},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15200,"millis":0.0152,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:47.409 karate.env system property was: null \n"},{"result":{"nanos":24900,"millis":0.0249,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":39899,"millis":0.039899,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":138499,"millis":0.138499,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":33600,"millis":0.0336,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":330597,"millis":0.330597,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":100099,"millis":0.100099,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":15600,"millis":0.0156,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":452296,"millis":0.452296,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":27500,"millis":0.0275,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4700,"millis":0.0047,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":884968579,"millis":884.968579,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":391897,"millis":0.391897,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'cf69ec50-9849-4afd-853c-ee5621md336d'"}},{"result":{"nanos":405397,"millis":0.405397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":385397,"millis":0.385397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":446797,"millis":0.446797,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":634295,"millis":0.634295,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":987893,"millis":0.987893,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":27100,"millis":0.0271,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":357897,"millis":0.357897,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":328198,"millis":0.328198,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":308797,"millis":0.308797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":49000,"millis":0.049,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":68699,"millis":0.068699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:48.300 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":308798,"millis":0.308798,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":77399,"millis":0.077399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:48.301 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":15924679,"millis":15.924679,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":228999,"millis":0.228999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:48.317 [print] #notpresent \n"},{"result":{"nanos":77200,"millis":0.0772,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":79599,"millis":0.079599,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:48.317 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":441997,"millis":0.441997,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":233298,"millis":0.233298,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:48.318 [print] Rijkswaterstaat \n"},{"result":{"nanos":103899,"millis":0.103899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:48.318 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=cf69ec50-9849-4afd-853c-ee56211d336d#MD_DataIdentification \n"},{"result":{"nanos":522096,"millis":0.522096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":405297,"millis":0.405297,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":723494,"millis":0.723494,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"cf69ec50-9849-4afd-853c-ee5621md336d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":909.755391,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"cf69ec50-9849-4afd-853c-ee5621md336d","startTime":1632027587409,"refId":"[1.337:67]","endTime":1632027588319,"exampleData":{"datasetIdentifierCode":"cf69ec50-9849-4afd-853c-ee5621md336d"},"exampleIndex":336},{"sectionIndex":0,"stepResults":[{"result":{"nanos":30600,"millis":0.0306,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:47.451 karate.env system property was: null \n"},{"result":{"nanos":24600,"millis":0.0246,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":34500,"millis":0.0345,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":40700,"millis":0.0407,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":139599,"millis":0.139599,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":33500,"millis":0.0335,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":312497,"millis":0.312497,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":28300,"millis":0.0283,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":39200,"millis":0.0392,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":11500,"millis":0.0115,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":11900,"millis":0.0119,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":254398,"millis":0.254398,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":9500,"millis":0.0095,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":38200,"millis":0.0382,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":9000,"millis":0.009,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":3900,"millis":0.0039,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":885680073,"millis":885.680073,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1500,"millis":0.0015,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":572895,"millis":0.572895,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '94e5b115-bece-4140-99ed-93b8f363948e'"}},{"result":{"nanos":605896,"millis":0.605896,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":487196,"millis":0.487196,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":473296,"millis":0.473296,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":536296,"millis":0.536296,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":510396,"millis":0.510396,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":63300,"millis":0.0633,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":378797,"millis":0.378797,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":383897,"millis":0.383897,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":402796,"millis":0.402796,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94600,"millis":0.0946,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":114699,"millis":0.114699,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:48.343 [print] https:\\\/\\\/geodata.nationaalgeoregister.nl\\\/ahn3\\\/wms?request=GetCapabilities&service=wms \n"},{"result":{"nanos":784494,"millis":0.784494,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":151399,"millis":0.151399,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:48.344 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":676995,"millis":0.676995,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":128999,"millis":0.128999,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:48.344 [print] #notpresent \n"},{"result":{"nanos":315098,"millis":0.315098,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":123899,"millis":0.123899,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:48.345 [print] [\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":895993,"millis":0.895993,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":126599,"millis":0.126599,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:48.346 [print] Beheer PDOK \n"},{"result":{"nanos":328797,"millis":0.328797,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:48.346 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=41daef8b-155e-4608-b49c-c87ea45d931c#MD_DataIdentification \n"},{"result":{"nanos":959293,"millis":0.959293,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":287798,"millis":0.287798,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":736394,"millis":0.736394,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"94e5b115-bece-4140-99ed-93b8f363948e\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":896.843289,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"94e5b115-bece-4140-99ed-93b8f363948e","startTime":1632027587451,"refId":"[1.338:67]","endTime":1632027588348,"exampleData":{"datasetIdentifierCode":"94e5b115-bece-4140-99ed-93b8f363948e"},"exampleIndex":337},{"sectionIndex":0,"stepResults":[{"result":{"nanos":15900,"millis":0.0159,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:47.519 karate.env system property was: null \n"},{"result":{"nanos":26700,"millis":0.0267,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":37899,"millis":0.037899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":59900,"millis":0.0599,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":241998,"millis":0.241998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":322897,"millis":0.322897,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":27400,"millis":0.0274,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":42200,"millis":0.0422,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12200,"millis":0.0122,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5600,"millis":0.0056,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4400,"millis":0.0044,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":293698,"millis":0.293698,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":7200,"millis":0.0072,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4399,"millis":0.004399,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":838427833,"millis":838.427833,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1100,"millis":0.0011,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":412297,"millis":0.412297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2'"}},{"result":{"nanos":519296,"millis":0.519296,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":465197,"millis":0.465197,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":412996,"millis":0.412996,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":518696,"millis":0.518696,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":522896,"millis":0.522896,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":79100,"millis":0.0791,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":387497,"millis":0.387497,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":402397,"millis":0.402397,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":435397,"millis":0.435397,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":96999,"millis":0.096999,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":216399,"millis":0.216399,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:48.364 [print] https:\\\/\\\/waterwebservices.rijkswaterstaat.nl\\\/services\\\/distributielaagWFS\\\/distributielaag_dbo?service=WMS&version=1.3.0&request=GetCapabilities \n"},{"result":{"nanos":426697,"millis":0.426697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":391397,"millis":0.391397,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:48.365 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":409797,"millis":0.409797,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":477297,"millis":0.477297,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:48.366 [print] #notpresent \n"},{"result":{"nanos":115500,"millis":0.1155,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":406996,"millis":0.406996,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:48.366 [print] [\"OGC:WMS\",\"OGC:WMS\"] \n"},{"result":{"nanos":486197,"millis":0.486197,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":394697,"millis":0.394697,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:48.367 [print] Rijkswaterstaat \n"},{"result":{"nanos":955692,"millis":0.955692,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:48.368 [print] https:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire?SERVICE=CSW&version=2.0.2&request=GetRecordById&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=68ebd5c9-0ea1-4f22-9907-ec4c063cd3e2#MD_DataIdentification \n"},{"result":{"nanos":577095,"millis":0.577095,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":357898,"millis":0.357898,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":263898,"millis":0.263898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":849.328852,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2","startTime":1632027587519,"refId":"[1.339:67]","endTime":1632027588370,"exampleData":{"datasetIdentifierCode":"68ebd5c9-0ea1-4f22-9907-ec4c06mcd3e2"},"exampleIndex":338},{"sectionIndex":0,"stepResults":[{"result":{"nanos":14300,"millis":0.0143,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:48.271 karate.env system property was: null \n"},{"result":{"nanos":26400,"millis":0.0264,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":43699,"millis":0.043699,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":63500,"millis":0.0635,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":249998,"millis":0.249998,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":40199,"millis":0.040199,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":429997,"millis":0.429997,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":29300,"millis":0.0293,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":43699,"millis":0.043699,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":12300,"millis":0.0123,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31800,"millis":0.0318,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4200,"millis":0.0042,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":53199,"millis":0.053199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":5300,"millis":0.0053,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":125399,"millis":0.125399,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":847488363,"millis":847.488363,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1600,"millis":0.0016,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":807794,"millis":0.807794,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '7f79fc69-d0c7-4913-a05a-527c90453297'"}},{"result":{"nanos":454396,"millis":0.454396,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":361198,"millis":0.361198,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":457597,"millis":0.457597,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":616295,"millis":0.616295,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":420997,"millis":0.420997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":69999,"millis":0.069999,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":337198,"millis":0.337198,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":373497,"millis":0.373497,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":344097,"millis":0.344097,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":131399,"millis":0.131399,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":273998,"millis":0.273998,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:49.125 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":470796,"millis":0.470796,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":180599,"millis":0.180599,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:49.125 [print] #notpresent \n"},{"result":{"nanos":428996,"millis":0.428996,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":150099,"millis":0.150099,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:49.126 [print] #notpresent \n"},{"result":{"nanos":74099,"millis":0.074099,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":127799,"millis":0.127799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:49.126 [print] #notpresent \n"},{"result":{"nanos":378098,"millis":0.378098,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":115100,"millis":0.1151,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:49.127 [print] KNMI \n"},{"result":{"nanos":114999,"millis":0.114999,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:49.127 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.cb9ca55e-f4e7-4bd8-a02e-75d528e22118\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":445897,"millis":0.445897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":576796,"millis":0.576796,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":341098,"millis":0.341098,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"7f79fc69-d0c7-4913-a05a-527c90453297\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":856.721394,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"7f79fc69-d0c7-4913-a05a-527c90453297","startTime":1632027588271,"refId":"[1.340:67]","endTime":1632027589128,"exampleData":{"datasetIdentifierCode":"7f79fc69-d0c7-4913-a05a-527c90453297"},"exampleIndex":339},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42399,"millis":0.042399,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:48.322 karate.env system property was: null \n"},{"result":{"nanos":34800,"millis":0.0348,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":157299,"millis":0.157299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":101099,"millis":0.101099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":278298,"millis":0.278298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":90399,"millis":0.090399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":336197,"millis":0.336197,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":72600,"millis":0.0726,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":110599,"millis":0.110599,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34299,"millis":0.034299,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":32500,"millis":0.0325,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":22600,"millis":0.0226,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":19800,"millis":0.0198,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":18200,"millis":0.0182,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":18500,"millis":0.0185,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":854327111,"millis":854.327111,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1200,"millis":0.0012,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":426197,"millis":0.426197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'ebd6ea46-ee7b-432f-83c4-058c889a790d'"}},{"result":{"nanos":401997,"millis":0.401997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":364397,"millis":0.364397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":360397,"millis":0.360397,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":477497,"millis":0.477497,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":442896,"millis":0.442896,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":62000,"millis":0.062,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":328397,"millis":0.328397,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":346697,"millis":0.346697,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":344498,"millis":0.344498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":94899,"millis":0.094899,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":105899,"millis":0.105899,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:49.182 [print] http:\\\/\\\/services.inspire-provincies.nl\\\/EnvironmentalMonitoringFacilities\\\/services\\\/download_EF?request=GetCapabilities \n"},{"result":{"nanos":800594,"millis":0.800594,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":107199,"millis":0.107199,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:49.182 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":560496,"millis":0.560496,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":75599,"millis":0.075599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:49.183 [print] #notpresent \n"},{"result":{"nanos":27900,"millis":0.0279,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":383297,"millis":0.383297,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:49.184 [print] [\"OGC:WFS\",\"OGC:WFS\",\"OGC:WFS\"] \n"},{"result":{"nanos":430796,"millis":0.430796,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":92800,"millis":0.0928,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:49.184 [print] Interprovinciaal Overleg \n"},{"result":{"nanos":55299,"millis":0.055299,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:49.184 [print] [\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=c829abeb-bfac-4224-8332-e7a9a89e692e&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\",\"http:\\\/\\\/www.nationaalgeoregister.nl\\\/geonetwork\\\/srv\\\/nl\\\/csw?Service=CSW&Request=GetRecordById&Version=2.0.2&id=fe45c540-e37d-11e4-b571-0800200c9a66&outputSchema=http:\\\/\\\/www.isotc211.org\\\/2005\\\/gmd&elementSetName=full#MD_DataIdentification\"] \n"},{"result":{"nanos":1205091,"millis":1.205091,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":309097,"millis":0.309097,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":410397,"millis":0.410397,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"ebd6ea46-ee7b-432f-83c4-058c889a790d\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":863.930736,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"ebd6ea46-ee7b-432f-83c4-058c889a790d","startTime":1632027588321,"refId":"[1.341:67]","endTime":1632027589186,"exampleData":{"datasetIdentifierCode":"ebd6ea46-ee7b-432f-83c4-058c889a790d"},"exampleIndex":340},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42999,"millis":0.042999,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:48.350 karate.env system property was: null \n"},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":91299,"millis":0.091299,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":89700,"millis":0.0897,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":193498,"millis":0.193498,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":91399,"millis":0.091399,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":337498,"millis":0.337498,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69899,"millis":0.069899,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":90299,"millis":0.090299,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":34100,"millis":0.0341,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":26800,"millis":0.0268,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":37600,"millis":0.0376,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":22099,"millis":0.022099,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '54d2021b-e778-4834-a3c6-75c89d36b942'"}},{"result":{"nanos":36500,"millis":0.0365,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":19400,"millis":0.0194,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":857253789,"millis":857.253789,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1300,"millis":0.0013,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":339297,"millis":0.339297,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '54d2021b-e778-4834-a3c6-75c89d36b942'"}},{"result":{"nanos":391797,"millis":0.391797,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":347997,"millis":0.347997,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":340798,"millis":0.340798,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":371698,"millis":0.371698,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":391997,"millis":0.391997,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":23799,"millis":0.023799,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":270598,"millis":0.270598,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":283298,"millis":0.283298,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":323797,"millis":0.323797,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":51500,"millis":0.0515,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":52300,"millis":0.0523,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:49.213 [print] https:\/\/geodata.nationaalgeoregister.nl\/tiles\/service\/wmts?request=GetCapabilities&service=wmts \n"},{"result":{"nanos":823694,"millis":0.823694,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":99999,"millis":0.099999,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:49.214 [print] OGC:WMTS \n"},{"result":{"nanos":592896,"millis":0.592896,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":1177291,"millis":1.177291,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:49.216 [print] #notpresent \n"},{"result":{"nanos":42399,"millis":0.042399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":524696,"millis":0.524696,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:49.216 [print] OGC:WMTS \n"},{"result":{"nanos":625995,"millis":0.625995,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":412597,"millis":0.412597,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:49.217 [print] Beheer PDOK \n"},{"result":{"nanos":792294,"millis":0.792294,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:49.218 [print] https:\/\/www.nationaalgeoregister.nl\/geonetwork\/srv\/dut\/csw?service=CSW&request=GetRecordById&version=2.0.2&outputSchema=http:\/\/www.isotc211.org\/2005\/gmd&elementSetName=full&id=2ae3e9b7-aa79-41d4-a35b-c9a0fee69e5c#MD_DataIdentification \n"},{"result":{"nanos":509196,"millis":0.509196,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":1402190,"millis":1.40219,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":369298,"millis":0.369298,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"54d2021b-e778-4834-a3c6-75c89d36b942\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":869.0545,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-1","name":"54d2021b-e778-4834-a3c6-75c89d36b942","startTime":1632027588350,"refId":"[1.342:67]","endTime":1632027589221,"exampleData":{"datasetIdentifierCode":"54d2021b-e778-4834-a3c6-75c89d36b942"},"exampleIndex":341},{"sectionIndex":0,"stepResults":[{"result":{"nanos":42800,"millis":0.0428,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:48.373 karate.env system property was: null \n"},{"result":{"nanos":34400,"millis":0.0344,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":89099,"millis":0.089099,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":90099,"millis":0.090099,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":267798,"millis":0.267798,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":97799,"millis":0.097799,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":368797,"millis":0.368797,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":69900,"millis":0.0699,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":489396,"millis":0.489396,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":46500,"millis":0.0465,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":44700,"millis":0.0447,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":21000,"millis":0.021,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20100,"millis":0.0201,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":22199,"millis":0.022199,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":19600,"millis":0.0196,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":19900,"millis":0.0199,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":859771070,"millis":859.77107,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":900,"millis":9.0E-4,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":361197,"millis":0.361197,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '12505d53-a942-467e-a462-ddbe5ac6467f'"}},{"result":{"nanos":385997,"millis":0.385997,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":334597,"millis":0.334597,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":364097,"millis":0.364097,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":822994,"millis":0.822994,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":424597,"millis":0.424597,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22499,"millis":0.022499,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":254698,"millis":0.254698,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":256898,"millis":0.256898,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":257498,"millis":0.257498,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":49700,"millis":0.0497,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":66999,"millis":0.066999,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:49.238 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wfs?SERVICE=WFS&Request=GetCapabilities \n"},{"result":{"nanos":457697,"millis":0.457697,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":75099,"millis":0.075099,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:49.239 [print] #notpresent \n"},{"result":{"nanos":346197,"millis":0.346197,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":47500,"millis":0.0475,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:49.239 [print] #notpresent \n"},{"result":{"nanos":23700,"millis":0.0237,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":129799,"millis":0.129799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:49.239 [print] #notpresent \n"},{"result":{"nanos":430196,"millis":0.430196,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":72500,"millis":0.0725,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:49.240 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":155899,"millis":0.155899,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:49.240 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":526096,"millis":0.526096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":269398,"millis":0.269398,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":262398,"millis":0.262398,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"12505d53-a942-467e-a462-ddbe5ac6467f\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":867.914307,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-3","name":"12505d53-a942-467e-a462-ddbe5ac6467f","startTime":1632027588372,"refId":"[1.343:67]","endTime":1632027589241,"exampleData":{"datasetIdentifierCode":"12505d53-a942-467e-a462-ddbe5ac6467f"},"exampleIndex":342},{"sectionIndex":0,"stepResults":[{"result":{"nanos":46000,"millis":0.046,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:49.131 karate.env system property was: null \n"},{"result":{"nanos":40100,"millis":0.0401,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":142899,"millis":0.142899,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":100499,"millis":0.100499,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":262298,"millis":0.262298,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":160099,"millis":0.160099,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":539596,"millis":0.539596,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":104900,"millis":0.1049,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":116899,"millis":0.116899,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":52999,"millis":0.052999,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":31000,"millis":0.031,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":55699,"millis":0.055699,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":20600,"millis":0.0206,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":20800,"millis":0.0208,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":19500,"millis":0.0195,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":855060605,"millis":855.060605,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":488996,"millis":0.488996,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == 'c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217'"}},{"result":{"nanos":367197,"millis":0.367197,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":405397,"millis":0.405397,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":424997,"millis":0.424997,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":435496,"millis":0.435496,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":347398,"millis":0.347398,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22800,"millis":0.0228,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":319798,"millis":0.319798,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":261398,"millis":0.261398,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":264298,"millis":0.264298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":60699,"millis":0.060699,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":82299,"millis":0.082299,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:49.992 [print] https:\/\/haleconnect.com\/ows\/services\/org.874.28716afd-1e98-4623-9239-8abbd9249408_wms?SERVICE=WMS&Request=GetCapabilities \n"},{"result":{"nanos":1054192,"millis":1.054192,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":116499,"millis":0.116499,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:49.993 [print] #notpresent \n"},{"result":{"nanos":361098,"millis":0.361098,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":76599,"millis":0.076599,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:49.993 [print] #notpresent \n"},{"result":{"nanos":132399,"millis":0.132399,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":81799,"millis":0.081799,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:49.993 [print] #notpresent \n"},{"result":{"nanos":533996,"millis":0.533996,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":79799,"millis":0.079799,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:49.994 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":63600,"millis":0.0636,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:49.994 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":437096,"millis":0.437096,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":608096,"millis":0.608096,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":239898,"millis":0.239898,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":864.063837,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-2","name":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217","startTime":1632027589130,"refId":"[1.344:67]","endTime":1632027589996,"exampleData":{"datasetIdentifierCode":"c1ea0e3f-e8e2-4f25-aae8-f24ec6ee8217"},"exampleIndex":343},{"sectionIndex":0,"stepResults":[{"result":{"nanos":32900,"millis":0.0329,"status":"passed"},"step":{"background":true,"line":5,"prefix":"*","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/'"},"stepLog":"04:59:49.188 karate.env system property was: null \n"},{"result":{"nanos":26900,"millis":0.0269,"status":"passed"},"step":{"background":true,"line":6,"prefix":"*","index":1,"text":"def mystorage = Java.type('storage.DataStorage')"}},{"result":{"nanos":38800,"millis":0.0388,"status":"passed"},"step":{"background":true,"line":7,"prefix":"*","index":2,"text":"def db = new mystorage"}},{"result":{"nanos":44200,"millis":0.0442,"status":"passed"},"step":{"background":true,"line":8,"prefix":"*","index":3,"text":"def db = db.setfeature(karate.info.featureFileName)"}},{"result":{"nanos":203198,"millis":0.203198,"status":"passed"},"step":{"background":true,"line":9,"prefix":"*","index":4,"text":"def separator = java.lang.System.getProperty(\"file.separator\")"}},{"result":{"nanos":35500,"millis":0.0355,"status":"passed"},"step":{"background":true,"line":10,"prefix":"*","index":5,"text":"def idfile = \"file:\" + db.outputpath(\"T01_ids\").getAbsolutePath() + separator + 'idsService.json'"}},{"result":{"nanos":292198,"millis":0.292198,"status":"passed"},"step":{"background":true,"line":11,"prefix":"*","index":6,"text":"def list = karate.read(idfile)"}},{"result":{"nanos":26199,"millis":0.026199,"status":"passed"},"step":{"background":true,"line":12,"prefix":"*","index":7,"text":"def outputpath = db.outputpath()"}},{"result":{"nanos":41500,"millis":0.0415,"status":"passed"},"step":{"background":true,"line":13,"prefix":"*","index":8,"text":"eval db.ensureDirectory(outputpath)"}},{"result":{"nanos":28700,"millis":0.0287,"status":"passed"},"step":{"line":22,"prefix":"Given","index":0,"text":"url 'http:\/\/nationaalgeoregister.nl\/geonetwork\/srv\/dut\/inspire'"}},{"result":{"nanos":12000,"millis":0.012,"status":"passed"},"step":{"line":23,"prefix":"And","index":1,"text":"param service = 'CSW'"}},{"result":{"nanos":5399,"millis":0.005399,"status":"passed"},"step":{"line":24,"prefix":"And","index":2,"text":"param version = '2.0.2'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":25,"prefix":"And","index":3,"text":"param request = 'GetRecordById'"}},{"result":{"nanos":289998,"millis":0.289998,"status":"passed"},"step":{"line":26,"prefix":"And","index":4,"text":"param id = '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":6300,"millis":0.0063,"status":"passed"},"step":{"line":27,"prefix":"And","index":5,"text":"param elementsetname = 'full'"}},{"result":{"nanos":4500,"millis":0.0045,"status":"passed"},"step":{"line":28,"prefix":"And","index":6,"text":"param outputSchema = 'http:\/\/www.isotc211.org\/2005\/gmd'"}},{"result":{"nanos":843766092,"millis":843.766092,"status":"passed"},"step":{"line":29,"prefix":"When","index":7,"text":"method get"}},{"result":{"nanos":1400,"millis":0.0014,"status":"passed"},"step":{"line":30,"prefix":"Then","index":8,"text":"status 200"}},{"result":{"nanos":315598,"millis":0.315598,"status":"passed"},"step":{"line":31,"prefix":"And","index":9,"text":"match \/GetRecordByIdResponse\/MD_Metadata\/fileIdentifier\/CharacterString == '8a772a52-d659-47b3-a131-82398fb78664'"}},{"result":{"nanos":323397,"millis":0.323397,"status":"passed"},"step":{"line":33,"prefix":"*","index":10,"text":"def scopecode = get response \/\/MD_Metadata\/hierarchyLevel\/MD_ScopeCode\/@codeListValue"}},{"result":{"nanos":515896,"millis":0.515896,"status":"passed"},"step":{"line":34,"prefix":"*","index":11,"text":"def title =  get response \/\/citation\/CI_Citation\/title\/CharacterString"}},{"result":{"nanos":315498,"millis":0.315498,"status":"passed"},"step":{"line":35,"prefix":"*","index":12,"text":"def email = get response \/\/electronicMailAddress\/CharacterString"}},{"result":{"nanos":345597,"millis":0.345597,"status":"passed"},"step":{"line":36,"prefix":"*","index":13,"text":"def organisationpath1 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/Anchor')"}},{"result":{"nanos":320098,"millis":0.320098,"status":"passed"},"step":{"line":37,"prefix":"*","index":14,"text":"def organisationpath2 = karate.get('\/\/MD_Metadata\/contact\/CI_ResponsibleParty\/organisationName\/CharacterString')"}},{"result":{"nanos":22100,"millis":0.0221,"status":"passed"},"step":{"line":38,"prefix":"*","index":15,"text":"def organisationpath = organisationpath1 !== \"#notpresent\" ? organisationpath1 : organisationpath2"}},{"result":{"nanos":251899,"millis":0.251899,"status":"passed"},"step":{"line":39,"prefix":"*","index":16,"text":"def metadataStandardVersionpath = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/metadataStandardVersion\/CharacterString')"}},{"result":{"nanos":274698,"millis":0.274698,"status":"passed"},"step":{"line":40,"prefix":"*","index":17,"text":"def MD_DataIdentificationCitationAnchor = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/identificationInfo\/MD_DataIdentification\/citation\/CI_Citation\/identifier\/\/@href')"}},{"result":{"nanos":341298,"millis":0.341298,"status":"passed"},"step":{"line":43,"prefix":"*","index":18,"text":"string connectrawUrl = karate.get ('\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/linkage\/URL')"}},{"result":{"nanos":452796,"millis":0.452796,"status":"passed"},"step":{"line":44,"prefix":"*","index":19,"text":"string connectUrl = db.getCorrectedUrl(connectrawUrl)"}},{"result":{"nanos":435297,"millis":0.435297,"status":"passed"},"step":{"line":45,"prefix":"*","index":20,"text":"print connectUrl"},"stepLog":"04:59:50.037 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/service\/atom\/id_predefined_dataset \n"},{"result":{"nanos":476296,"millis":0.476296,"status":"passed"},"step":{"line":49,"prefix":"*","index":21,"text":"string protocol1 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/Anchor')"}},{"result":{"nanos":419997,"millis":0.419997,"status":"passed"},"step":{"line":50,"prefix":"*","index":22,"text":"print protocol1"},"stepLog":"04:59:50.038 [print] #notpresent \n"},{"result":{"nanos":298697,"millis":0.298697,"status":"passed"},"step":{"line":51,"prefix":"*","index":23,"text":"string protocol2 = karate.get  ( '\/GetRecordByIdResponse\/MD_Metadata\/distributionInfo\/MD_Distribution\/transferOptions\/MD_DigitalTransferOptions\/onLine\/CI_OnlineResource\/protocol\/CharacterString')"}},{"result":{"nanos":325498,"millis":0.325498,"status":"passed"},"step":{"line":52,"prefix":"*","index":24,"text":"print protocol2"},"stepLog":"04:59:50.039 [print] #notpresent \n"},{"result":{"nanos":32000,"millis":0.032,"status":"passed"},"step":{"line":53,"prefix":"*","index":25,"text":"string protocol = protocol1 ? protocol1 : protocol2"}},{"result":{"nanos":314397,"millis":0.314397,"status":"passed"},"step":{"line":54,"prefix":"*","index":26,"text":"print protocol"},"stepLog":"04:59:50.039 [print] #notpresent \n"},{"result":{"nanos":373897,"millis":0.373897,"status":"passed"},"step":{"line":55,"prefix":"*","index":27,"text":"string operateson = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/operatesOn\/@href"}},{"result":{"nanos":356197,"millis":0.356197,"status":"passed"},"step":{"line":56,"prefix":"*","index":28,"text":"print organisationpath"},"stepLog":"04:59:50.040 [print] Koninklijk Nederlands Meteorologisch Instituut (KNMI) \n"},{"result":{"nanos":466997,"millis":0.466997,"status":"passed"},"step":{"line":57,"prefix":"*","index":29,"text":"print operateson"},"stepLog":"04:59:50.040 [print] https:\/\/haleconnect.com\/services\/bsp\/org.874.28716afd-1e98-4623-9239-8abbd9249408\/md\/dataset\/dataset1#xpointer%28%2F%2Fgmd%3AidentificationInfo%5B1%5D%2Fgmd%3AMD_DataIdentification%29 \n"},{"result":{"nanos":392897,"millis":0.392897,"status":"passed"},"step":{"line":59,"prefix":"*","index":30,"text":"string servicetype = get response \/\/MD_Metadata\/identificationInfo\/SV_ServiceIdentification\/serviceType\/LocalName"}},{"result":{"nanos":489496,"millis":0.489496,"status":"passed"},"step":{"line":62,"prefix":"*","index":31,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's.csv')"}},{"result":{"nanos":337597,"millis":0.337597,"status":"passed"},"step":{"line":63,"prefix":"*","index":32,"text":"eval db.writeln('\"8a772a52-d659-47b3-a131-82398fb78664\",\"'+ title + '\",\"' + connectUrl + '\",\"' + protocol + '\",\"' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '\",\"'+ email + '\",\"' + (metadataStandardVersionpath ?  metadataStandardVersionpath  : 'no metadatastandard path found') + '\",\"' + operateson + '\",\"' + db.getdatasetuuid(operateson) + '\",\"' + servicetype + '\"', db.outputpath() + separator + scopecode + 's-' + (organisationpath ? organisationpath : 'no organisationName found in dataset record') + '.csv')"}}],"line":67,"description":"","durationMillis":853.058422,"failed":false,"tags":["step1"],"executorName":"pool-5-thread-4","name":"8a772a52-d659-47b3-a131-82398fb78664","startTime":1632027589188,"refId":"[1.345:67]","endTime":1632027590042,"exampleData":{"datasetIdentifierCode":"8a772a52-d659-47b3-a131-82398fb78664"},"exampleIndex":344}],"callDepth":0,"name":"get details","description":"","resultDate":"2021-09-19 04:59:50 AM","durationMillis":302597.483826,"passedCount":345}